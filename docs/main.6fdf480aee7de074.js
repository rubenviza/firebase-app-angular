"use strict";(self.webpackChunkfirebaseCurso=self.webpackChunkfirebaseCurso||[]).push([[179],{2011:(g2,Ae,x)=>{x.d(Ae,{Dh:()=>ze,GT:()=>Me,cc:()=>je,on:()=>Te,pX:()=>ce,xv:()=>ve});var g=x(4650),R=x(127);g2=x.hmd(g2);const L=["ngOnDestroy"],ce=(re,fe,Ge,$e={})=>new Proxy(re,{get:(Ee,me)=>Ge.runOutsideAngular(()=>{var de;if(re[me])return!(null===(de=$e?.spy)||void 0===de)&&de.get&&$e.spy.get(me,re[me]),re[me];if(L.indexOf(me)>-1)return()=>{};const Be=fe.toPromise().then(ee=>{const se=ee&&ee[me];return"function"==typeof se?se.bind(ee):se&&se.then?se.then(le=>Ge.run(()=>le)):Ge.run(()=>se)});return new Proxy(()=>{},{get:(ee,se)=>Be[se],apply:(ee,se,le)=>Be.then(W=>{var K;const ie=W&&W(...le);return!(null===(K=$e?.spy)||void 0===K)&&K.apply&&$e.spy.apply(me,le,ie),ie})})})}),Me=(re,fe)=>{fe.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach($e=>{Object.defineProperty(re.prototype,$e,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,$e))})})};class _e{constructor(fe){return fe}}const ze=new g.OlP("angularfire2.app.options"),ve=new g.OlP("angularfire2.app.name");function Te(re,fe,Ge){const Ee="object"==typeof Ge&&Ge||{};Ee.name=Ee.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const de=R.Z.apps.filter(Be=>Be&&Be.name===Ee.name)[0]||fe.runOutsideAngular(()=>R.Z.initializeApp(re,Ee));try{JSON.stringify(re)!==JSON.stringify(de.options)&&G("error",`${de.name} Firebase App already initialized with different options${g2.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(de)}const G=(re,...fe)=>{(0,g.X6Q)()&&typeof console<"u"&&console[re](...fe)};function je(re,fe,Ge,$e,Ee){const[,me,de]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===re)||[];if(me)return function Se(re,fe){try{return re.toString()===fe.toString()}catch{return re===fe}}(Ee,de)||(Re("error",`${fe} was already initialized on the ${Ge} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:Ee,was:de})),me;{const Be=$e();return globalThis.\u0275AngularfireInstanceCache.push([re,Be,Ee]),Be}}const He=!!g2.hot,Re=(re,...fe)=>{(0,g.X6Q)()&&typeof console<"u"&&console[re](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8554:(g2,Ae,x)=>{x.d(Ae,{$:()=>y3,A:()=>B,B:()=>Se,G:()=>u4,H:()=>R1,J:()=>In,L:()=>G2,M:()=>xa,N:()=>Aa,P:()=>Pt,Q:()=>po,R:()=>sl,T:()=>mo,U:()=>Hr,V:()=>zr,W:()=>A8,X:()=>Xu,Y:()=>g3,Z:()=>w2,_:()=>ef,a:()=>Xn,a0:()=>R8,a1:()=>Nt,a2:()=>Is,a3:()=>_o,a4:()=>F8,a5:()=>tf,a6:()=>Lt,a7:()=>vn,a8:()=>_3,a9:()=>Qn,aA:()=>V4,aB:()=>M4,aC:()=>Zs,aD:()=>e6,aE:()=>d2,aI:()=>g4,aL:()=>p4,aa:()=>nf,ab:()=>wo,ac:()=>bo,af:()=>U8,ag:()=>j8,ah:()=>Fa,ak:()=>p3,al:()=>K8,an:()=>Z8,ao:()=>Ba,ap:()=>R2,aq:()=>le,ar:()=>Ze,as:()=>f2,at:()=>$e,au:()=>or,av:()=>sr,aw:()=>Ee,ax:()=>ee,ay:()=>K,az:()=>j2,b:()=>Ir,c:()=>ol,d:()=>al,e:()=>cl,f:()=>t6,g:()=>n6,h:()=>Ys,i:()=>js,j:()=>Xs,k:()=>Zo,l:()=>il,m:()=>_n,o:()=>ve,r:()=>xn,s:()=>Y1,u:()=>I3});var g=x(5861),R=x(2090),L=x(9681),ce=x(655),Me=x(1877),_e=x(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new Me.Yd("@firebase/auth");function Ge(C,...h){fe.logLevel<=Me.in.ERROR&&fe.error(`Auth (${L.SDK_VERSION}): ${C}`,...h)}function $e(C,...h){throw Be(C,...h)}function Ee(C,...h){return Be(C,...h)}function me(C,h,m){const M=Object.assign(Object.assign({},He()),{[h]:m});return new R.LL("auth","Firebase",M).create(h,{appName:C.name})}function de(C,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&$e(C,"argument-error"),me(C,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(C,...h){if("string"!=typeof C){const m=h[0],M=[...h.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(m,...M)}return Re.create(C,...h)}function ee(C,h,...m){if(!C)throw Be(h,...m)}function se(C){const h="INTERNAL ASSERTION FAILED: "+C;throw Ge(h),new Error(h)}function le(C,h){C||se(h)}const W=new Map;function K(C){le(C instanceof Function,"Expected a class definition");let h=W.get(C);return h?(le(h instanceof C,"Instance stored in cache mismatched with class"),h):(h=new C,W.set(C,h),h)}function De(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Le(){return"http:"===u2()||"https:"===u2()}function u2(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class ke{constructor(h,m){this.shortDelay=h,this.longDelay=m,le(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function B2(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y2(C,h){le(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Ut{static initialize(h,m,M){this.fetchImpl=h,m&&(this.headersImpl=m),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},U2=new ke(3e4,6e4);function x2(C,h){return C.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:C.tenantId}):h}function D2(C,h,m,M){return e1.apply(this,arguments)}function e1(){return(e1=(0,g.Z)(function*(C,h,m,M,S={}){return c3(C,S,(0,g.Z)(function*(){let I={},Y={};M&&("GET"===h?Y=M:I={body:JSON.stringify(M)});const pe=(0,R.xO)(Object.assign({key:C.config.apiKey},Y)).slice(1),Pe=yield C._getAdditionalHeaders();return Pe["Content-Type"]="application/json",C.languageCode&&(Pe["X-Firebase-Locale"]=C.languageCode),Ut.fetch()(dn(C,C.config.apiHost,m,pe),Object.assign({method:h,headers:Pe,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function c3(C,h,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(C,h,m){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},Q2),h);try{const S=new V1(C),I=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Y=yield I.json();if("needConfirmation"in Y)throw t1(C,"account-exists-with-different-credential",Y);if(I.ok&&!("errorMessage"in Y))return Y;{const pe=I.ok?Y.errorMessage:Y.error.message,[Pe,t2]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw t1(C,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Pe)throw t1(C,"email-already-in-use",Y);if("USER_DISABLED"===Pe)throw t1(C,"user-disabled",Y);const E2=M[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(t2)throw me(C,E2,t2);$e(C,E2)}}catch(S){if(S instanceof R.ZR)throw S;$e(C,"network-request-failed")}})).apply(this,arguments)}function ft(C,h,m,M){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(C,h,m,M,S={}){const I=yield D2(C,h,m,M,S);return"mfaPendingCredential"in I&&$e(C,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function dn(C,h,m,M){const S=`${h}${m}?${M}`;return C.config.emulator?Y2(C.config,S):`${C.config.apiScheme}://${S}`}class V1{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,M)=>{this.timer=setTimeout(()=>M(Ee(this.auth,"network-request-failed")),U2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function t1(C,h,m){const M={appName:C.name};m.email&&(M.email=m.email),m.phoneNumber&&(M.phoneNumber=m.phoneNumber);const S=Ee(C,h,M);return S.customData._tokenResponse=m,S}function qn(){return(qn=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ke(C,h){return n1.apply(this,arguments)}function n1(){return(n1=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Et(C,h){return X2.apply(this,arguments)}function X2(){return(X2=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function P1(C){if(C)try{const h=new Date(Number(C));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function dt(){return(dt=(0,g.Z)(function*(C,h=!1){const m=(0,R.m9)(C),M=yield m.getIdToken(h),S=o2(M);ee(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const I="object"==typeof S.firebase?S.firebase:void 0,Y=I?.sign_in_provider;return{claims:S,token:M,authTime:P1(J2(S.auth_time)),issuedAtTime:P1(J2(S.iat)),expirationTime:P1(J2(S.exp)),signInProvider:Y||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function J2(C){return 1e3*Number(C)}function o2(C){var h;const[m,M,S]=C.split(".");if(void 0===m||void 0===M||void 0===S)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,R.tV)(M);return I?JSON.parse(I):(Ge("Failed to decode base64 JWT payload"),null)}catch(I){return Ge("Caught error parsing JWT payload as JSON",null===(h=I)||void 0===h?void 0:h.toString()),null}}function z2(C,h){return p1.apply(this,arguments)}function p1(){return(p1=(0,g.Z)(function*(C,h,m=!1){if(m)return h;try{return yield h}catch(M){throw M instanceof R.ZR&&r1(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}function r1({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class s1{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const M=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield m.iteration()}),M)}iteration(){var h=this;return(0,g.Z)(function*(){var m;try{yield h.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(m=M)||void 0===m?void 0:m.code)&&h.schedule(!0))}h.schedule()})()}}class _2{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=P1(this.lastLoginAt),this.creationTime=P1(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function i1(C){return b2.apply(this,arguments)}function b2(){return(b2=(0,g.Z)(function*(C){var h;const m=C.auth,M=yield C.getIdToken(),S=yield z2(C,Et(m,{idToken:M}));ee(S?.users.length,m,"internal-error");const I=S.users[0];C._notifyReloadListener(I);const Y=null!==(h=I.providerUserInfo)&&void 0!==h&&h.length?k(I.providerUserInfo):[],pe=$(C.providerData,Y),E2=!!C.isAnonymous&&!(C.email&&I.passwordHash||pe?.length),tt={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:pe,metadata:new _2(I.createdAt,I.lastLoginAt),isAnonymous:E2};Object.assign(C,tt)})).apply(this,arguments)}function k2(){return(k2=(0,g.Z)(function*(C){const h=(0,R.m9)(C);yield i1(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function $(C,h){return[...C.filter(M=>!h.some(S=>S.providerId===M.providerId)),...h]}function k(C){return C.map(h=>{var{providerId:m}=h,M=(0,ce._T)(h,["providerId"]);return{providerId:m,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function F(){return(F=(0,g.Z)(function*(C,h){const m=yield c3(C,{},(0,g.Z)(function*(){const M=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:I}=C.config,Y=dn(C,S,"/v1/token",`key=${I}`),pe=yield C._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(Y,{method:"POST",headers:pe,body:M})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class U{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ee(h.idToken,"internal-error"),ee(typeof h.idToken<"u","internal-error"),ee(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function c2(C){const h=o2(C);return ee(h,"internal-error"),ee(typeof h.exp<"u","internal-error"),ee(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var M=this;return(0,g.Z)(function*(){return ee(!M.accessToken||M.refreshToken,h,"user-token-expired"),m||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(h,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var M=this;return(0,g.Z)(function*(){const{accessToken:S,refreshToken:I,expiresIn:Y}=yield function A(C,h){return F.apply(this,arguments)}(h,m);M.updateTokensAndExpiration(S,I,Number(Y))})()}updateTokensAndExpiration(h,m,M){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(h,m){const{refreshToken:M,accessToken:S,expirationTime:I}=m,Y=new U;return M&&(ee("string"==typeof M,"internal-error",{appName:h}),Y.refreshToken=M),S&&(ee("string"==typeof S,"internal-error",{appName:h}),Y.accessToken=S),I&&(ee("number"==typeof I,"internal-error",{appName:h}),Y.expirationTime=I),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new U,this.toJSON())}_performRefresh(){return se("not implemented")}}function he(C,h){ee("string"==typeof C||typeof C>"u","internal-error",{appName:h})}class Ne{constructor(h){var{uid:m,auth:M,stsTokenManager:S}=h,I=(0,ce._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=M,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new _2(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,g.Z)(function*(){const M=yield z2(m,m.stsTokenManager.getToken(m.auth,h));return ee(M,m.auth,"internal-error"),m.accessToken!==M&&(m.accessToken=M,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),M})()}getIdTokenResult(h){return function ot(C){return dt.apply(this,arguments)}(this,h)}reload(){return function W1(C){return k2.apply(this,arguments)}(this)}_assign(h){this!==h&&(ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Ne(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var M=this;return(0,g.Z)(function*(){let S=!1;h.idToken&&h.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(h),S=!0),m&&(yield i1(M)),yield M.auth._persistUserIfCurrent(M),S&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var h=this;return(0,g.Z)(function*(){const m=yield h.getIdToken();return yield z2(h,function Wn(C,h){return qn.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var M,S,I,Y,pe,Pe,t2,E2;const tt=null!==(M=m.displayName)&&void 0!==M?M:void 0,J1=null!==(S=m.email)&&void 0!==S?S:void 0,H4=null!==(I=m.phoneNumber)&&void 0!==I?I:void 0,Yo=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,l6=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,ii=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,z4=null!==(t2=m.createdAt)&&void 0!==t2?t2:void 0,oi=null!==(E2=m.lastLoginAt)&&void 0!==E2?E2:void 0,{uid:Qo,emailVerified:Xo,isAnonymous:Jo,providerData:u6,stsTokenManager:f6}=m;ee(Qo&&f6,h,"internal-error");const P3=U.fromJSON(this.name,f6);ee("string"==typeof Qo,h,"internal-error"),he(tt,h.name),he(J1,h.name),ee("boolean"==typeof Xo,h,"internal-error"),ee("boolean"==typeof Jo,h,"internal-error"),he(H4,h.name),he(Yo,h.name),he(l6,h.name),he(ii,h.name),he(z4,h.name),he(oi,h.name);const jr=new Ne({uid:Qo,auth:h,email:J1,emailVerified:Xo,displayName:tt,isAnonymous:Jo,photoURL:Yo,phoneNumber:H4,tenantId:l6,stsTokenManager:P3,createdAt:z4,lastLoginAt:oi});return u6&&Array.isArray(u6)&&(jr.providerData=u6.map(ec=>Object.assign({},ec))),ii&&(jr._redirectEventId=ii),jr}static _fromIdTokenResponse(h,m,M=!1){return(0,g.Z)(function*(){const S=new U;S.updateFromServerResponse(m);const I=new Ne({uid:m.localId,auth:h,stsTokenManager:S,isAnonymous:M});return yield i1(I),I})()}}const G2=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(m,M){var S=this;return(0,g.Z)(function*(){S.storage[m]=M})()}_get(m){var M=this;return(0,g.Z)(function*(){const S=M.storage[m];return void 0===S?null:S})()}_remove(m){var M=this;return(0,g.Z)(function*(){delete M.storage[m]})()}_addListener(m,M){}_removeListener(m,M){}}return C.type="NONE",C})();function j2(C,h,m){return`firebase:${C}:${h}:${m}`}class It{constructor(h,m,M){this.persistence=h,this.auth=m,this.userKey=M;const{config:S,name:I}=this.auth;this.fullUserKey=j2(this.userKey,S.apiKey,I),this.fullPersistenceKey=j2("persistence",S.apiKey,I),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,g.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?Ne._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,g.Z)(function*(){if(m.persistence===h)return;const M=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,M?m.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,M="authUser"){return(0,g.Z)(function*(){if(!m.length)return new It(K(G2),h,M);const S=(yield Promise.all(m.map(function(){var t2=(0,g.Z)(function*(E2){if(yield E2._isAvailable())return E2});return function(E2){return t2.apply(this,arguments)}}()))).filter(t2=>t2);let I=S[0]||K(G2);const Y=j2(M,h.config.apiKey,h.name);let pe=null;for(const t2 of m)try{const E2=yield t2._get(Y);if(E2){const tt=Ne._fromJSON(h,E2);t2!==I&&(pe=tt),I=t2;break}}catch{}const Pe=S.filter(t2=>t2._shouldAllowMigration);return I._shouldAllowMigration&&Pe.length?(I=Pe[0],pe&&(yield I._set(Y,pe.toJSON())),yield Promise.all(m.map(function(){var t2=(0,g.Z)(function*(E2){if(E2!==I)try{yield E2._remove(Y)}catch{}});return function(E2){return t2.apply(this,arguments)}}())),new It(I,h,M)):new It(I,h,M)})()}}function Q(C){const h=C.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Fe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(N(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(v2(h))return"Blackberry";if(we(h))return"Webos";if(P(h))return"Safari";if((h.includes("chrome/")||ae(h))&&!h.includes("edge/"))return"Chrome";if(f2(h))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function N(C=(0,R.z$)()){return/firefox\//i.test(C)}function P(C=(0,R.z$)()){const h=C.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ae(C=(0,R.z$)()){return/crios\//i.test(C)}function Fe(C=(0,R.z$)()){return/iemobile/i.test(C)}function f2(C=(0,R.z$)()){return/android/i.test(C)}function v2(C=(0,R.z$)()){return/blackberry/i.test(C)}function we(C=(0,R.z$)()){return/webos/i.test(C)}function Ze(C=(0,R.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function R2(C=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function K2(C=(0,R.z$)()){return Ze(C)||f2(C)||we(C)||v2(C)||/windows phone/i.test(C)||Fe(C)}function st(C,h=[]){let m;switch(C){case"Browser":m=Q((0,R.z$)());break;case"Worker":m=`${Q((0,R.z$)())}-${C}`;break;default:m=C}const M=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${L.SDK_VERSION}/${M}`}class a3{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const M=I=>new Promise((Y,pe)=>{try{Y(h(I))}catch(Pe){pe(Pe)}});M.onAbort=m,this.queue.push(M);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,g.Z)(function*(){var M;if(m.auth.currentUser===h)return;const S=[];try{for(const I of m.queue)yield I(h),I.onAbort&&S.push(I.onAbort)}catch(I){S.reverse();for(const Y of S)try{Y()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=I)||void 0===M?void 0:M.message})}})()}}class l4{constructor(h,m,M){this.app=h,this.heartbeatServiceProvider=m,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(h,m){var M=this;return m&&(this._popupRedirectResolver=K(m)),this._initializationPromise=this.queue((0,g.Z)(function*(){var S,I;if(!M._deleted&&(M.persistenceManager=yield It.create(M,h),!M._deleted)){if(null!==(S=M._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(m),M.lastNotifiedUid=(null===(I=M.currentUser)||void 0===I?void 0:I.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,g.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,g.Z)(function*(){var M;const S=yield m.assertedPersistence.getCurrentUser();let I=S,Y=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId,Pe=I?._redirectEventId,t2=yield m.tryRedirectSignIn(h);(!pe||pe===Pe)&&t2?.user&&(I=t2.user,Y=!0)}if(!I)return m.directlySetCurrentUser(null);if(!I._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(I)}catch(pe){I=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return I?m.reloadAndSetCurrentUserOrClear(I):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===I._redirectEventId?m.directlySetCurrentUser(I):m.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(h){var m=this;return(0,g.Z)(function*(){let M=null;try{M=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,g.Z)(function*(){var M;try{yield i1(h)}catch(S){if("auth/network-request-failed"!==(null===(M=S)||void 0===M?void 0:M.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function F2(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var h=this;return(0,g.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,g.Z)(function*(){const M=h?(0,R.m9)(h):null;return M&&ee(M.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(M&&M._clone(m))})()}_updateCurrentUser(h,m=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return h&&ee(M.tenantId===h.tenantId,M,"tenant-id-mismatch"),m||(yield M.beforeStateQueue.runMiddleware(h)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(h),M.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,g.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,g.Z)(function*(){yield m.assertedPersistence.setPersistence(K(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,m,M){return this.registerStateListener(this.authStateSubscription,h,m,M)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,M){return this.registerStateListener(this.idTokenSubscription,h,m,M)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var M=this;return(0,g.Z)(function*(){const S=yield M.getOrInitRedirectPersistenceManager(m);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,g.Z)(function*(){if(!m.redirectPersistenceManager){const M=h&&K(h)||m._popupRedirectResolver;ee(M,m,"argument-error"),m.redirectPersistenceManager=yield It.create(m,[K(M._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,g.Z)(function*(){var M,S;return m._isInitialized&&(yield m.queue((0,g.Z)(function*(){}))),(null===(M=m._currentUser)||void 0===M?void 0:M._redirectEventId)===h?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,g.Z)(function*(){if(h===m.currentUser)return m.queue((0,g.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,M,S){if(this._deleted)return()=>{};const I="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Y,this,"internal-error"),Y.then(()=>I(this.currentUser)),"function"==typeof m?h.addObserver(m,M,S):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,g.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=st(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,g.Z)(function*(){var m;const M={"X-Client-Version":h.clientVersion};h.app.options.appId&&(M["X-Firebase-gmpid"]=h.app.options.appId);const S=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(M["X-Firebase-Client"]=S),M})()}}function d2(C){return(0,R.m9)(C)}class vr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function u4(C,h,m){const M=d2(C);ee(M._canInitEmulator,M,"emulator-config-failed"),ee(/^https?:\/\//.test(h),M,"invalid-emulator-scheme");const S=!!m?.disableWarnings,I=Ms(h),{host:Y,port:pe}=function yr(C){const h=Ms(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(h.length));if(!m)return{host:"",port:null};const M=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(M);if(S){const I=S[1];return{host:I,port:Dt(M.substr(I.length+1))}}{const[I,Y]=M.split(":");return{host:I,port:Dt(Y)}}}(h);M.config.emulator={url:`${I}//${Y}${null===pe?"":`:${pe}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Y,port:pe,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Cr(){function C(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Ms(C){const h=C.indexOf(":");return h<0?"":C.substr(0,h+1)}function Dt(C){if(!C)return null;const h=Number(C);return isNaN(h)?null:h}class R1{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return se("not implemented")}_getIdTokenResponse(h){return se("not implemented")}_linkToIdToken(h,m){return se("not implemented")}_getReauthenticationResolver(h){return se("not implemented")}}function F1(C,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:resetPassword",x2(C,h))})).apply(this,arguments)}function uo(C,h){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function I8(C,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:update",x2(C,h))})).apply(this,arguments)}function u3(){return(u3=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithPassword",x2(C,h))})).apply(this,arguments)}function pn(C,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:sendOobCode",x2(C,h))})).apply(this,arguments)}function wr(C,h){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,g.Z)(function*(C,h){return pn(C,h)})).apply(this,arguments)}function D8(C,h){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,g.Z)(function*(C,h){return pn(C,h)})).apply(this,arguments)}function b1(C,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(C,h){return pn(C,h)})).apply(this,arguments)}function Vs(C,h){return f4.apply(this,arguments)}function f4(){return(f4=(0,g.Z)(function*(C,h){return pn(C,h)})).apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithEmailLink",x2(C,h))})).apply(this,arguments)}function fo(){return(fo=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithEmailLink",x2(C,h))})).apply(this,arguments)}class f3 extends R1{constructor(h,m,M,S=null){super("password",M),this._email=h,this._password=m,this._tenantId=S}static _fromEmailAndPassword(h,m){return new f3(h,m,"password")}static _fromEmailAndCode(h,m,M=null){return new f3(h,m,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,g.Z)(function*(){switch(m.signInMethod){case"password":return function l3(C,h){return u3.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function mn(C,h){return bs.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:$e(h,"internal-error")}})()}_linkToIdToken(h,m){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return uo(h,{idToken:m,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Wu(C,h){return fo.apply(this,arguments)}(h,{idToken:m,email:M._email,oobCode:M._password});default:$e(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function br(C,h){return O1.apply(this,arguments)}function O1(){return(O1=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithIdp",x2(C,h))})).apply(this,arguments)}class In extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new In(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):$e("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:S}=m,I=(0,ce._T)(m,["providerId","signInMethod"]);if(!M||!S)return null;const Y=new In(M,S);return Y.idToken=I.idToken||void 0,Y.accessToken=I.accessToken||void 0,Y.secret=I.secret,Y.nonce=I.nonce,Y.pendingToken=I.pendingToken||null,Y}_getIdTokenResponse(h){return br(h,this.buildRequest())}_linkToIdToken(h,m){const M=this.buildRequest();return M.idToken=m,br(h,M)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,br(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,R.xO)(m)}return h}}function Ku(C,h){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:sendVerificationCode",x2(C,h))})).apply(this,arguments)}function Ea(){return(Ea=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithPhoneNumber",x2(C,h))})).apply(this,arguments)}function Ia(){return(Ia=(0,g.Z)(function*(C,h){const m=yield ft(C,"POST","/v1/accounts:signInWithPhoneNumber",x2(C,h));if(m.temporaryProof)throw t1(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Yu={USER_NOT_FOUND:"user-not-found"};function Da(){return(Da=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithPhoneNumber",x2(C,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Yu)})).apply(this,arguments)}class d4 extends R1{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new d4({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new d4({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function L8(C,h){return Ea.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function Zu(C,h){return Ia.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Qu(C,h){return Da.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:M,verificationCode:S}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:M,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:M,phoneNumber:S,temporaryProof:I}=h;return M||m||S||I?new d4({verificationId:m,verificationCode:M,phoneNumber:S,temporaryProof:I}):null}}class Hs{constructor(h){var m,M,S,I,Y,pe;const Pe=(0,R.zd)((0,R.pd)(h)),t2=null!==(m=Pe.apiKey)&&void 0!==m?m:null,E2=null!==(M=Pe.oobCode)&&void 0!==M?M:null,tt=function La(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);ee(t2&&E2&&tt,"argument-error"),this.apiKey=t2,this.operation=tt,this.code=E2,this.continueUrl=null!==(I=Pe.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(Y=Pe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(pe=Pe.tenantId)&&void 0!==pe?pe:null}static parseLink(h){const m=function ho(C){const h=(0,R.zd)((0,R.pd)(C)).link,m=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,M=(0,R.zd)((0,R.pd)(C)).deep_link_id;return(M?(0,R.zd)((0,R.pd)(M)).link:null)||M||m||h||C}(h);try{return new Hs(m)}catch{return null}}}let xa=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,M){return f3._fromEmailAndPassword(m,M)}static credentialWithLink(m,M){const S=Hs.parseLink(M);return ee(S,"argument-error"),f3._fromEmailAndCode(m,S.code,S.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class jt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class h4 extends jt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Hr extends h4{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),In._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ee(h.idToken||h.accessToken,"argument-error"),In._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Hr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Hr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:M,oauthTokenSecret:S,pendingToken:I,nonce:Y,providerId:pe}=h;if(!M&&!S&&!m&&!I||!pe)return null;try{return new Hr(pe)._credential({idToken:m,accessToken:M,nonce:Y,pendingToken:I})}catch{return null}}}let Aa=(()=>{class C extends h4{constructor(){super("facebook.com")}static credential(m){return In._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),po=(()=>{class C extends h4{constructor(){super("google.com"),this.addScope("profile")}static credential(m,M){return In._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:M})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:M,oauthAccessToken:S}=m;if(!M&&!S)return null;try{return C.credential(M,S)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),mo=(()=>{class C extends h4{constructor(){super("github.com")}static credential(m){return In._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class p4 extends R1{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return br(h,this.buildRequest())}_linkToIdToken(h,m){const M=this.buildRequest();return M.idToken=m,br(h,M)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,br(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:S,pendingToken:I}=m;return M&&S&&I&&M===S?new p4(M,I):null}static _create(h,m){return new p4(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zr extends jt{constructor(h){ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return zr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return zr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=p4.fromJSON(h);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:M}=h;if(!m||!M)return null;try{return p4._create(M,m)}catch{return null}}}let A8=(()=>{class C extends h4{constructor(){super("twitter.com")}static credential(m,M){return In._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:M})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:M,oauthTokenSecret:S}=m;if(!M||!S)return null;try{return C.credential(M,S)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function H1(C,h){return d3.apply(this,arguments)}function d3(){return(d3=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signUp",x2(C,h))})).apply(this,arguments)}class q1{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,M,S=!1){return(0,g.Z)(function*(){const I=yield Ne._fromIdTokenResponse(h,M,S),Y=h3(M);return new q1({user:I,providerId:Y,_tokenResponse:M,operationType:m})})()}static _forOperation(h,m,M){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(M,!0);const S=h3(M);return new q1({user:h,providerId:S,_tokenResponse:M,operationType:m})})()}}function h3(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Xu(C){return T8.apply(this,arguments)}function T8(){return(T8=(0,g.Z)(function*(C){var h;const m=d2(C);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new q1({user:m.currentUser,providerId:null,operationType:"signIn"});const M=yield H1(m,{returnSecureToken:!0}),S=yield q1._fromIdTokenResponse(m,"signIn",M,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ht extends R.ZR{constructor(h,m,M,S){var I;super(m.code,m.message),this.operationType=M,this.user=S,Object.setPrototypeOf(this,ht.prototype),this.customData={appName:h.name,tenantId:null!==(I=h.tenantId)&&void 0!==I?I:void 0,_serverResponse:m.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(h,m,M,S){return new ht(h,m,M,S)}}function N8(C,h,m,M){return("reauthenticate"===h?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?ht._fromErrorAndOperation(C,I,h,M):I})}function Ju(C){return new Set(C.map(({providerId:h})=>h).filter(h=>!!h))}function p3(C,h){return m1.apply(this,arguments)}function m1(){return(m1=(0,g.Z)(function*(C,h){const m=(0,R.m9)(C);yield Kn(!0,m,h);const{providerUserInfo:M}=yield Ke(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),S=Ju(M||[]);return m.providerData=m.providerData.filter(I=>S.has(I.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Na(C,h){return m3.apply(this,arguments)}function m3(){return(m3=(0,g.Z)(function*(C,h,m=!1){const M=yield z2(C,h._linkToIdToken(C.auth,yield C.getIdToken()),m);return q1._forOperation(C,"link",M)})).apply(this,arguments)}function Kn(C,h,m){return W2.apply(this,arguments)}function W2(){return(W2=(0,g.Z)(function*(C,h,m){yield i1(h);const S=!1===C?"provider-already-linked":"no-such-provider";ee(Ju(h.providerData).has(m)===C,h.auth,S)})).apply(this,arguments)}function ka(C,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(C,h,m=!1){var M;const{auth:S}=C,I="reauthenticate";try{const Y=yield z2(C,N8(S,I,h,C),m);ee(Y.idToken,S,"internal-error");const pe=o2(Y.idToken);ee(pe,S,"internal-error");const{sub:Pe}=pe;return ee(C.uid===Pe,S,"user-mismatch"),q1._forOperation(C,I,Y)}catch(Y){throw"auth/user-not-found"===(null===(M=Y)||void 0===M?void 0:M.code)&&$e(S,"user-mismatch"),Y}})).apply(this,arguments)}function k8(C,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(C,h,m=!1){const M="signIn",S=yield N8(C,M,h),I=yield q1._fromIdTokenResponse(C,M,S);return m||(yield C._updateCurrentUser(I.user)),I})).apply(this,arguments)}function g3(C,h){return v3.apply(this,arguments)}function v3(){return(v3=(0,g.Z)(function*(C,h){return k8(d2(C),h)})).apply(this,arguments)}function w2(C,h){return go.apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(C,h){const m=(0,R.m9)(C);return yield Kn(!1,m,h.providerId),Na(m,h)})).apply(this,arguments)}function ef(C,h){return vo.apply(this,arguments)}function vo(){return(vo=(0,g.Z)(function*(C,h){return ka((0,R.m9)(C),h)})).apply(this,arguments)}function P8(C,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(C,h){return ft(C,"POST","/v1/accounts:signInWithCustomToken",x2(C,h))})).apply(this,arguments)}function y3(C,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(C,h){const m=d2(C),M=yield P8(m,{token:h,returnSecureToken:!0}),S=yield q1._fromIdTokenResponse(m,"signIn",M);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class zs{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Ce._fromServerResponse(h,m):$e(h,"internal-error")}}class Ce extends zs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Ce(m)}}function P2(C,h,m){var M;ee((null===(M=m.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,C,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function R8(C,h,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C),S={requestType:"PASSWORD_RESET",email:h};m&&P2(M,S,m),yield D8(M,S)})).apply(this,arguments)}function Nt(C,h,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(C,h,m){yield F1((0,R.m9)(C),{oobCode:h,newPassword:m})})).apply(this,arguments)}function Is(C,h){return B1.apply(this,arguments)}function B1(){return(B1=(0,g.Z)(function*(C,h){yield I8((0,R.m9)(C),{oobCode:h})})).apply(this,arguments)}function _o(C,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,g.Z)(function*(C,h){const m=(0,R.m9)(C),M=yield F1(m,{oobCode:h}),S=M.requestType;switch(ee(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(M.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(M.mfaInfo,m,"internal-error");default:ee(M.email,m,"internal-error")}let I=null;return M.mfaInfo&&(I=zs._fromServerResponse(d2(m),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:I},operation:S}})).apply(this,arguments)}function F8(C,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(C,h){const{data:m}=yield _o((0,R.m9)(C),h);return m.email})).apply(this,arguments)}function tf(C,h,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,g.Z)(function*(C,h,m){const M=d2(C),S=yield H1(M,{returnSecureToken:!0,email:h,password:m}),I=yield q1._fromIdTokenResponse(M,"signIn",S);return yield M._updateCurrentUser(I.user),I})).apply(this,arguments)}function Lt(C,h,m){return g3((0,R.m9)(C),xa.credential(h,m))}function vn(C,h,m){return C3.apply(this,arguments)}function C3(){return(C3=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C),S={requestType:"EMAIL_SIGNIN",email:h};ee(m.handleCodeInApp,M,"argument-error"),m&&P2(M,S,m),yield b1(M,S)})).apply(this,arguments)}function _3(C,h){return"EMAIL_SIGNIN"===Hs.parseLink(h)?.operation}function Qn(C,h,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C),S=xa.credentialWithLink(h,m||De());return ee(S._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),g3(M,S)})).apply(this,arguments)}function O8(C,h){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:createAuthUri",x2(C,h))})).apply(this,arguments)}function nf(C,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,g.Z)(function*(C,h){const M={identifier:h,continueUri:Le()?De():"http://localhost"},{signinMethods:S}=yield O8((0,R.m9)(C),M);return S||[]})).apply(this,arguments)}function wo(C,h){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,g.Z)(function*(C,h){const m=(0,R.m9)(C),S={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};h&&P2(m.auth,S,h);const{email:I}=yield wr(m.auth,S);I!==C.email&&(yield C.reload())})).apply(this,arguments)}function bo(C,h,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:h};m&&P2(M.auth,I,m);const{email:Y}=yield Vs(M.auth,I);Y!==C.email&&(yield C.reload())})).apply(this,arguments)}function B8(C,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,g.Z)(function*(C,h){return D2(C,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function U8(C,h){return zo.apply(this,arguments)}function zo(){return(zo=(0,g.Z)(function*(C,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const M=(0,R.m9)(C),I={idToken:yield M.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},Y=yield z2(M,B8(M.auth,I));M.displayName=Y.displayName||null,M.photoURL=Y.photoUrl||null;const pe=M.providerData.find(({providerId:Pe})=>"password"===Pe);pe&&(pe.displayName=M.displayName,pe.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Y)})).apply(this,arguments)}function j8(C,h){return m4((0,R.m9)(C),h,null)}function Fa(C,h){return m4((0,R.m9)(C),null,h)}function m4(C,h,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,g.Z)(function*(C,h,m){const{auth:M}=C,I={idToken:yield C.getIdToken(),returnSecureToken:!0};h&&(I.email=h),m&&(I.password=m);const Y=yield z2(C,uo(M,I));yield C._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class ct{constructor(h,m,M={}){this.isNewUser=h,this.providerId=m,this.profile=M}}class Dn extends ct{constructor(h,m,M,S){super(h,m,M),this.username=S}}class at extends ct{constructor(h,m){super(h,"facebook.com",m)}}class G8 extends Dn{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class W8 extends ct{constructor(h,m){super(h,"google.com",m)}}class q8 extends Dn{constructor(h,m,M){super(h,"twitter.com",m,M)}}function K8(C){const{user:h,_tokenResponse:m}=C;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function $8(C){var h,m;if(!C)return null;const{providerId:M}=C,S=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},I=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Y=null===(m=null===(h=o2(C.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new ct(I,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!M)return null;switch(M){case"facebook.com":return new at(I,S);case"github.com":return new G8(I,S);case"google.com":return new W8(I,S);case"twitter.com":return new q8(I,S,C.screenName||null);case"custom":case"anonymous":return new ct(I,null);default:return new ct(I,M,S)}}(m)}class U1{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new U1("enroll",h)}static _fromMfaPendingCredential(h){return new U1("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,M;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return U1._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(M=h.multiFactorSession)&&void 0!==M&&M.idToken)return U1._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Lo{constructor(h,m,M){this.session=h,this.hints=m,this.signInResolver=M}static _fromError(h,m){const M=d2(h),S=m.customData._serverResponse,I=(S.mfaInfo||[]).map(pe=>zs._fromServerResponse(M,pe));ee(S.mfaPendingCredential,M,"internal-error");const Y=U1._fromMfaPendingCredential(S.mfaPendingCredential);return new Lo(Y,I,function(){var pe=(0,g.Z)(function*(Pe){const t2=yield Pe._process(M,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const E2=Object.assign(Object.assign({},S),{idToken:t2.idToken,refreshToken:t2.refreshToken});switch(m.operationType){case"signIn":const tt=yield q1._fromIdTokenResponse(M,m.operationType,E2);return yield M._updateCurrentUser(tt.user),tt;case"reauthenticate":return ee(m.user,M,"internal-error"),q1._forOperation(m.user,m.operationType,E2);default:$e(M,"internal-error")}});return function(Pe){return pe.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,g.Z)(function*(){return m.signInResolver(h)})()}}function Z8(C,h){var m;const M=(0,R.m9)(C),S=h;return ee(h.customData.operationType,M,"argument-error"),ee(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,M,"argument-error"),Lo._fromError(M,S)}function M3(C,h){return D2(C,"POST","/v2/accounts/mfaEnrollment:start",x2(C,h))}class ks{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(M=>zs._fromServerResponse(h.auth,M)))})}static _fromUser(h){return new ks(h)}getSession(){var h=this;return(0,g.Z)(function*(){return U1._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var M=this;return(0,g.Z)(function*(){const S=h,I=yield M.getSession(),Y=yield z2(M.user,S._process(M.user.auth,I,m));return yield M.user._updateTokensIfNecessary(Y),M.user.reload()})()}unenroll(h){var m=this;return(0,g.Z)(function*(){var M;const S="string"==typeof h?h:h.uid,I=yield m.user.getIdToken(),Y=yield z2(m.user,function Ns(C,h){return D2(C,"POST","/v2/accounts/mfaEnrollment:withdraw",x2(C,h))}(m.user.auth,{idToken:I,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:pe})=>pe!==S),yield m.user._updateTokensIfNecessary(Y);try{yield m.user.reload()}catch(pe){if("auth/user-token-expired"!==(null===(M=pe)||void 0===M?void 0:M.code))throw pe}})()}}const Y8=new WeakMap;function Ba(C){const h=(0,R.m9)(C);return Y8.has(h)||Y8.set(h,ks._fromUser(h)),Y8.get(h)}const Ln="__sak";class Ao{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ln,"1"),this.storage.removeItem(Ln),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ir=(()=>{class C extends Ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,M)=>this.onStorageEvent(m,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function To(){const C=(0,R.z$)();return P(C)||Ze(C)}()&&function hn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const M of Object.keys(this.listeners)){const S=this.storage.getItem(M),I=this.localCache[M];S!==I&&m(M,I,S)}}onStorageEvent(m,M=!1){if(!m.key)return void this.forAllChangedKeys((pe,Pe,t2)=>{this.notifyListeners(pe,t2)});const S=m.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!M)return}const I=()=>{const pe=this.storage.getItem(S);!M&&this.localCache[S]===pe||this.notifyListeners(S,pe)},Y=this.storage.getItem(S);!function L2(){return(0,R.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?I():setTimeout(I,10)}notifyListeners(m,M){this.localCache[m]=M;const S=this.listeners[m];if(S)for(const I of Array.from(S))I(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,M,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:M,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,M){var S=()=>super._set,I=this;return(0,g.Z)(function*(){yield S().call(I,m,M),I.localCache[m]=JSON.stringify(M)})()}_get(m){var M=()=>super._get,S=this;return(0,g.Z)(function*(){const I=yield M().call(S,m);return S.localCache[m]=JSON.stringify(I),I})()}_remove(m){var M=()=>super._remove,S=this;return(0,g.Z)(function*(){yield M().call(S,m),delete S.localCache[m]})()}}return C.type="LOCAL",C})(),Xn=(()=>{class C extends Ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,M){}_removeListener(m,M){}}return C.type="SESSION",C})();let Ps=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const M=this.receivers.find(I=>I.isListeningto(m));if(M)return M;const S=new C(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var M=this;return(0,g.Z)(function*(){const S=m,{eventId:I,eventType:Y,data:pe}=S.data,Pe=M.handlersMap[Y];if(!Pe?.size)return;S.ports[0].postMessage({status:"ack",eventId:I,eventType:Y});const t2=Array.from(Pe).map(function(){var tt=(0,g.Z)(function*(J1){return J1(S.origin,pe)});return function(J1){return tt.apply(this,arguments)}}()),E2=yield function No(C){return Promise.all(C.map(function(){var h=(0,g.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(M){return{fulfilled:!1,reason:M}}});return function(m){return h.apply(this,arguments)}}()))}(t2);S.ports[0].postMessage({status:"done",eventId:I,eventType:Y,response:E2})})()}_subscribe(m,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(M)}_unsubscribe(m,M){this.handlersMap[m]&&M&&this.handlersMap[m].delete(M),(!M||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function g4(C="",h=10){let m="";for(let M=0;M<h;M++)m+=Math.floor(10*Math.random());return C+m}class J8{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,M=50){var S=this;return(0,g.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let Y,pe;return new Promise((Pe,t2)=>{const E2=g4("",20);I.port1.start();const tt=setTimeout(()=>{t2(new Error("unsupported_event"))},M);pe={messageChannel:I,onMessage(J1){const H4=J1;if(H4.data.eventId===E2)switch(H4.data.status){case"ack":clearTimeout(tt),Y=setTimeout(()=>{t2(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Pe(H4.data.response);break;default:clearTimeout(tt),clearTimeout(Y),t2(new Error("invalid_response"))}}},S.handlers.add(pe),I.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:h,eventId:E2,data:m},[I.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function xt(){return window}function Z1(){return typeof xt().WorkerGlobalScope<"u"&&"function"==typeof xt().importScripts}function Dr(){return(Dr=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const V3="firebaseLocalStorageDb",H3="firebaseLocalStorage",Fs="fbase_key";class v4{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Os(C,h){return C.transaction([H3],h?"readwrite":"readonly").objectStore(H3)}function Ga(){const C=indexedDB.open(V3,1);return new Promise((h,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(H3,{keyPath:Fs})}catch(S){m(S)}}),C.addEventListener("success",(0,g.Z)(function*(){const M=C.result;M.objectStoreNames.contains(H3)?h(M):(M.close(),yield function $a(){const C=indexedDB.deleteDatabase(V3);return new v4(C).toPromise()}(),h(yield Ga()))}))})}function Bs(C,h,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(C,h,m){const M=Os(C,!0).put({[Fs]:h,value:m});return new v4(M).toPromise()})).apply(this,arguments)}function Us(){return(Us=(0,g.Z)(function*(C,h){const m=Os(C,!1).get(h),M=yield new v4(m).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Wa(C,h){const m=Os(C,!0).delete(h);return new v4(m).toPromise()}const js=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.Z)(function*(){return m.db||(m.db=yield Ga()),m.db})()}_withRetries(m){var M=this;return(0,g.Z)(function*(){let S=0;for(;;)try{const I=yield M._openDb();return yield m(I)}catch(I){if(S++>3)throw I;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.Z)(function*(){return Z1()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.Z)(function*(){m.receiver=Ps._getInstance(function Rs(){return Z1()?self:null}()),m.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(S,I){return{keyProcessed:(yield m._poll()).includes(I.key)}});return function(S,I){return M.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(S,I){return["keyChanged"]});return function(S,I){return M.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,g.Z)(function*(){var M,S;if(m.activeServiceWorker=yield function el(){return Dr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new J8(m.activeServiceWorker);const I=yield m.sender._send("ping",{},800);!I||(null===(M=I[0])||void 0===M?void 0:M.fulfilled)&&(null===(S=I[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ko(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:m},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ga();return yield Bs(m,Ln,"1"),yield Wa(m,Ln),!0}catch{}return!1})()}_withPendingWrite(m){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield m()}finally{M.pendingWrites--}})()}_set(m,M){var S=this;return(0,g.Z)(function*(){return S._withPendingWrite((0,g.Z)(function*(){return yield S._withRetries(I=>Bs(I,m,M)),S.localCache[m]=M,S.notifyServiceWorker(m)}))})()}_get(m){var M=this;return(0,g.Z)(function*(){const S=yield M._withRetries(I=>function tl(C,h){return Us.apply(this,arguments)}(I,m));return M.localCache[m]=S,S})()}_remove(m){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(S=>Wa(S,m)),delete M.localCache[m],M.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.Z)(function*(){const M=yield m._withRetries(Y=>{const pe=Os(Y,!1).getAll();return new v4(pe).toPromise()});if(!M)return[];if(0!==m.pendingWrites)return[];const S=[],I=new Set;for(const{fbase_key:Y,value:pe}of M)I.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(pe)&&(m.notifyListeners(Y,pe),S.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!I.has(Y)&&(m.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(m,M){this.localCache[m]=M;const S=this.listeners[m];if(S)for(const I of Array.from(S))I(M)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function nl(C,h){return D2(C,"POST","/v2/accounts/mfaSignIn:start",x2(C,h))}function xr(){return(xr=(0,g.Z)(function*(C){return(yield D2(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function y4(C){return new Promise((h,m)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=h,M.onerror=S=>{const I=Ee("internal-error");I.customData=S,m(I)},M.type="text/javascript",M.charset="UTF-8",function S3(){var C,h;return null!==(h=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==h?h:document}().appendChild(M)})}function Po(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Za=1e12;class rf{constructor(h){this.auth=h,this.counter=Za,this._widgets=new Map}render(h,m){const M=this.counter;return this._widgets.set(M,new et(h,this.auth.name,m||{})),this.counter++,M}reset(h){var m;const M=h||Za;null===(m=this._widgets.get(M))||void 0===m||m.delete(),this._widgets.delete(M)}getResponse(h){var m;return(null===(m=this._widgets.get(h||Za))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,g.Z)(function*(){var M;return null===(M=m._widgets.get(h||Za))||void 0===M||M.execute(),""})()}}class et{constructor(h,m,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;ee(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sf(C){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rl=Po("rcb"),tm=new ke(3e4,6e4);class rm{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=xt().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return ee(function sm(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(xt().grecaptcha):new Promise((M,S)=>{const I=xt().setTimeout(()=>{S(Ee(h,"network-request-failed"))},tm.get());xt()[rl]=()=>{xt().clearTimeout(I),delete xt()[rl];const pe=xt().grecaptcha;if(!pe)return void S(Ee(h,"internal-error"));const Pe=pe.render;pe.render=(t2,E2)=>{const tt=Pe(t2,E2);return this.counter++,tt},this.hostLanguage=m,M(pe)},y4(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:rl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(I),S(Ee(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=xt().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class im{load(h){return(0,g.Z)(function*(){return new rf(h)})()}clearedOneInstance(){}}const Ar="recaptcha",of={theme:"light",type:"image"};class sl{constructor(h,m=Object.assign({},of),M){this.parameters=m,this.type=Ar,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=d2(M),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;ee(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new im:new rm,this.validateStartingState()}verify(){var h=this;return(0,g.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),M=h.getAssertedRecaptcha();return M.getResponse(m)||new Promise(I=>{const Y=pe=>{!pe||(h.tokenChangeListeners.delete(Y),I(pe))};h.tokenChangeListeners.add(Y),h.isInvisible&&M.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(M=>M(m)),"function"==typeof h)h(m);else if("string"==typeof h){const M=xt()[h];"function"==typeof M&&M(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,g.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const M=document.createElement("div");m.appendChild(M),m=M}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,g.Z)(function*(){ee(Le()&&!Z1(),h.auth,"internal-error"),yield function kt(){let C=null;return new Promise(h=>{"complete"!==document.readyState?(C=()=>h(),window.addEventListener("load",C)):h()}).catch(h=>{throw C&&window.removeEventListener("load",C),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Gs(C){return xr.apply(this,arguments)}(h.auth);ee(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class z1{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=d4._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Y1(C,h,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,g.Z)(function*(C,h,m){const M=d2(C),S=yield Tr(M,h,(0,R.m9)(m));return new z1(S,I=>g3(M,I))})).apply(this,arguments)}function il(C,h,m){return o1.apply(this,arguments)}function o1(){return(o1=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C);yield Kn(!1,M,"phone");const S=yield Tr(M.auth,h,(0,R.m9)(m));return new z1(S,I=>w2(M,I))})).apply(this,arguments)}function xn(C,h,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C),S=yield Tr(M.auth,h,(0,R.m9)(m));return new z1(S,I=>ef(M,I))})).apply(this,arguments)}function Tr(C,h,m){return er.apply(this,arguments)}function er(){return(er=(0,g.Z)(function*(C,h,m){var M;const S=yield m.verify();try{let I;if(ee("string"==typeof S,C,"argument-error"),ee(m.type===Ar,C,"argument-error"),I="string"==typeof h?{phoneNumber:h}:h,"session"in I){const Y=I.session;if("phoneNumber"in I)return ee("enroll"===Y.type,C,"internal-error"),(yield M3(C,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ee("signin"===Y.type,C,"internal-error");const pe=(null===(M=I.multiFactorHint)||void 0===M?void 0:M.uid)||I.multiFactorUid;return ee(pe,C,"missing-multi-factor-info"),(yield nl(C,{mfaPendingCredential:Y.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Ku(C,{phoneNumber:I.phoneNumber,recaptchaToken:S});return Y}}finally{m._reset()}})).apply(this,arguments)}function I3(C,h){return S1.apply(this,arguments)}function S1(){return(S1=(0,g.Z)(function*(C,h){yield Na((0,R.m9)(C),h)})).apply(this,arguments)}let Pt=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=d2(m)}verifyPhoneNumber(m,M){return Tr(this.auth,m,(0,R.m9)(M))}static credential(m,M){return d4._fromVerification(m,M)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:M,temporaryProof:S}=m;return M&&S?d4._fromTokenResponse(M,S):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function C4(C,h){return h?K(h):(ee(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Qa extends R1{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return br(h,this._buildIdpRequest())}_linkToIdToken(h,m){return br(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return br(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Xa(C){return k8(C.auth,new Qa(C),C.bypassAuthState)}function E1(C){const{auth:h,user:m}=C;return ee(m,h,"internal-error"),ka(m,new Qa(C),C.bypassAuthState)}function Ro(C){return An.apply(this,arguments)}function An(){return(An=(0,g.Z)(function*(C){const{auth:h,user:m}=C;return ee(m,h,"internal-error"),Na(m,new Qa(C),C.bypassAuthState)})).apply(this,arguments)}class Nr{constructor(h,m,M,S,I=!1){this.auth=h,this.resolver=M,this.user=S,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,g.Z)(function*(M,S){h.pendingPromise={resolve:M,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(I){h.reject(I)}});return function(M,S){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:S,postBody:I,tenantId:Y,error:pe,type:Pe}=h;if(pe)return void m.reject(pe);const t2={auth:m.auth,requestUri:M,sessionId:S,tenantId:Y||void 0,postBody:I||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(t2))}catch(E2){m.reject(E2)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Xa;case"linkViaPopup":case"linkViaRedirect":return Ro;case"reauthViaPopup":case"reauthViaRedirect":return E1;default:$e(this.auth,"internal-error")}}resolve(h){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Q1=new ke(2e3,1e4);function ol(C,h,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,g.Z)(function*(C,h,m){const M=d2(C);de(C,h,jt);const S=C4(M,m);return new D3(M,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function cl(C,h,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C);de(M.auth,h,jt);const S=C4(M.auth,m);return new D3(M.auth,"reauthViaPopup",h,S,M).executeNotNull()})).apply(this,arguments)}function al(C,h,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C);de(M.auth,h,jt);const S=C4(M.auth,m);return new D3(M.auth,"linkViaPopup",h,S,M).executeNotNull()})).apply(this,arguments)}let D3=(()=>{class C extends Nr{constructor(m,M,S,I,Y){super(m,M,I,Y),this.provider=S,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,g.Z)(function*(){const M=yield m.execute();return ee(M,m.auth,"internal-error"),M})()}onExecution(){var m=this;return(0,g.Z)(function*(){le(1===m.filter.length,"Popup operations only handle one event");const M=g4();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],M),m.authWindow.associatedEvent=M,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var M,S;this.pollId=null!==(S=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Q1.get())};m()}}return C.currentPopupAction=null,C})();const L3=new Map;class Mt extends Nr{constructor(h,m,M=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,M),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,g.Z)(function*(){let M=L3.get(m.auth._key());if(!M){try{const I=(yield function yn(C,h){return _4.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;M=()=>Promise.resolve(I)}catch(S){M=()=>Promise.reject(S)}L3.set(m.auth._key(),M)}return m.bypassAuthState||L3.set(m.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(M,h);if("unknown"!==h.type){if(h.eventId){const S=yield M.auth._redirectUserForId(h.eventId);if(S)return M.user=S,m().call(M,h);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function _4(){return(_4=(0,g.Z)(function*(C,h){const m=tr(h),M=Pr(C);if(!(yield M._isAvailable()))return!1;const S="true"===(yield M._get(m));return yield M._remove(m),S})).apply(this,arguments)}function Ja(C,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(C,h){return Pr(C)._set(tr(h),"true")})).apply(this,arguments)}function e6(){L3.clear()}function Zs(C,h){L3.set(C._key(),h)}function Pr(C){return K(C._redirectPersistence)}function tr(C){return j2("pendingRedirect",C.config.apiKey,C.name)}function t6(C,h,m){return function vt(C,h,m){return x3.apply(this,arguments)}(C,h,m)}function x3(){return(x3=(0,g.Z)(function*(C,h,m){const M=d2(C);de(C,h,jt);const S=C4(M,m);return yield Ja(S,M),S._openRedirect(M,h,"signInViaRedirect")})).apply(this,arguments)}function Ys(C,h,m){return function Qs(C,h,m){return nr.apply(this,arguments)}(C,h,m)}function nr(){return(nr=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C);de(M.auth,h,jt);const S=C4(M.auth,m);yield Ja(S,M.auth);const I=yield Js(M);return S._openRedirect(M.auth,h,"reauthViaRedirect",I)})).apply(this,arguments)}function n6(C,h,m){return function r6(C,h,m){return Oo.apply(this,arguments)}(C,h,m)}function Oo(){return(Oo=(0,g.Z)(function*(C,h,m){const M=(0,R.m9)(C);de(M.auth,h,jt);const S=C4(M.auth,m);yield Kn(!1,M,h.providerId),yield Ja(S,M.auth);const I=yield Js(M);return S._openRedirect(M.auth,h,"linkViaRedirect",I)})).apply(this,arguments)}function Xs(C,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(C,h){return yield d2(C)._initializationPromise,M4(C,h,!1)})).apply(this,arguments)}function M4(C,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,g.Z)(function*(C,h,m=!1){const M=d2(C),S=C4(M,h),Y=yield new Mt(M,S,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield M._persistUserIfCurrent(Y.user),yield M._setRedirectUser(null,h)),Y})).apply(this,arguments)}function Js(C){return A3.apply(this,arguments)}function A3(){return(A3=(0,g.Z)(function*(C){const h=g4(`${C.uid}:::`);return C._redirectEventId=h,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),h})).apply(this,arguments)}class V4{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(h,M)&&(m=!0,this.sendToConsumer(h,M),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function s6(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N3(C);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var M;if(h.error&&!N3(h)){const S=(null===(M=h.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,S))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const M=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&M}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(T3(h))}saveEventToCache(h){this.cachedEventUids.add(T3(h)),this.lastProcessedEventTime=Date.now()}}function T3(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(h=>h).join("-")}function N3({type:C,error:h}){return"unknown"===C&&"auth/no-auth-event"===h?.code}function sr(C){return ir.apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(C,h={}){return D2(C,"GET","/v1/projects",h)})).apply(this,arguments)}const c1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fr=/^https?/;function i6(){return(i6=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:h}=yield sr(C);for(const m of h)try{if(om(m))return}catch{}$e(C,"unauthorized-domain")})).apply(this,arguments)}function om(C){const h=De(),{protocol:m,hostname:M}=new URL(h);if(C.startsWith("chrome-extension://")){const Y=new URL(C);return""===Y.hostname&&""===M?"chrome-extension:"===m&&C.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===M}if(!Fr.test(m))return!1;if(c1.test(C))return M===C;const S=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(M)}const Uo=new ke(3e4,6e4);function ei(){const C=xt().___jsl;if(C?.H)for(const h of Object.keys(C.H))if(C.H[h].r=C.H[h].r||[],C.H[h].L=C.H[h].L||[],C.H[h].r=[...C.H[h].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let Cn=null;function o6(C){return Cn=Cn||function jo(C){return new Promise((h,m)=>{var M,S,I;function Y(){ei(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ei(),m(Ee(C,"network-request-failed"))},timeout:Uo.get()})}if(null!==(S=null===(M=xt().gapi)||void 0===M?void 0:M.iframes)&&void 0!==S&&S.Iframe)h(gapi.iframes.getContext());else{if(null===(I=xt().gapi)||void 0===I||!I.load){const pe=Po("iframefcb");return xt()[pe]=()=>{gapi.load?Y():m(Ee(C,"network-request-failed"))},y4(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Pe=>m(Pe))}Y()}}).catch(h=>{throw Cn=null,h})}(C),Cn}const $o=new ke(5e3,15e3),ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},am=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a6(C){const h=C.config;ee(h.authDomain,C,"auth-domain-config-required");const m=h.emulator?Y2(h,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,M={apiKey:h.apiKey,appName:C.name,v:L.SDK_VERSION},S=am.get(C.config.apiHost);S&&(M.eid=S);const I=C._getFrameworks();return I.length&&(M.fw=I.join(",")),`${m}?${(0,R.xO)(M).slice(1)}`}function Go(){return Go=(0,g.Z)(function*(C){const h=yield o6(C),m=xt().gapi;return ee(m,C,"internal-error"),h.open({where:document.body,url:a6(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ll,dontclear:!0},M=>new Promise(function(){var S=(0,g.Z)(function*(I,Y){yield M.restyle({setHideOnLeave:!1});const pe=Ee(C,"network-request-failed"),Pe=xt().setTimeout(()=>{Y(pe)},$o.get());function t2(){xt().clearTimeout(Pe),I(M)}M.ping(t2).then(t2,()=>{Y(pe)})});return function(I,Y){return S.apply(this,arguments)}}()))}),Go.apply(this,arguments)}const Wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function or(C,h,m,M,S,I){ee(C.config.authDomain,C,"auth-domain-config-required"),ee(C.config.apiKey,C,"invalid-api-key");const Y={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:M,v:L.SDK_VERSION,eventId:S};if(h instanceof jt){h.setDefaultLanguage(C.languageCode),Y.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(Y.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Pe,t2]of Object.entries(I||{}))Y[Pe]=t2}if(h instanceof h4){const Pe=h.getScopes().filter(t2=>""!==t2);Pe.length>0&&(Y.scopes=Pe.join(","))}C.tenantId&&(Y.tid=C.tenantId);const pe=Y;for(const Pe of Object.keys(pe))void 0===pe[Pe]&&delete pe[Pe];return`${function Tn({config:C}){return C.emulator?Y2(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,R.xO)(pe).slice(1)}`}const ti="webStorageSupport",Zo=class Ko{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xn,this._completeRedirectFn=M4,this._overrideRedirectResult=Zs}_openPopup(h,m,M,S){var I=this;return(0,g.Z)(function*(){var Y;le(null===(Y=I.eventManagers[h._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const pe=or(h,m,M,De(),S);return function b4(C,h,m,M=500,S=600){const I=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-M)/2,0).toString();let pe="";const Pe=Object.assign(Object.assign({},Wo),{width:M.toString(),height:S.toString(),top:I,left:Y}),t2=(0,R.z$)().toLowerCase();m&&(pe=ae(t2)?"_blank":m),N(t2)&&(h=h||"http://localhost",Pe.scrollbars="yes");const E2=Object.entries(Pe).reduce((J1,[H4,Yo])=>`${J1}${H4}=${Yo},`,"");if(function rt(C=(0,R.z$)()){var h;return Ze(C)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(t2)&&"_self"!==pe)return function Br(C,h){const m=document.createElement("a");m.href=C,m.target=h;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(M)}(h||"",pe),new dl(null);const tt=window.open(h||"",pe,E2);ee(tt,C,"popup-blocked");try{tt.focus()}catch{}return new dl(tt)}(h,pe,g4())})()}_openRedirect(h,m,M,S){var I=this;return(0,g.Z)(function*(){return yield I._originValidation(h),function ja(C){xt().location.href=C}(or(h,m,M,De(),S)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:S,promise:I}=this.eventManagers[m];return S?Promise.resolve(S):(le(I,"If manager is not set, promise should be"),I)}const M=this.initAndGetManager(h);return this.eventManagers[m]={promise:M},M.catch(()=>{delete this.eventManagers[m]}),M}initAndGetManager(h){var m=this;return(0,g.Z)(function*(){const M=yield function cf(C){return Go.apply(this,arguments)}(h),S=new V4(h);return M.register("authEvent",I=>(ee(I?.authEvent,h,"invalid-auth-event"),{status:S.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:S},m.iframes[h._key()]=M,S})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(ti,{type:ti},S=>{var I;const Y=null===(I=S?.[0])||void 0===I?void 0:I[ti];void 0!==Y&&m(!!Y),$e(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Bo(C){return i6.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return K2()||P()||Ze()}};class ri extends class ni{constructor(h){this.factorId=h}_process(h,m,M){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,M);case"signin":return this._finalizeSignIn(h,m.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ri(h)}_finalizeEnroll(h,m,M){return function xo(C,h){return D2(C,"POST","/v2/accounts/mfaEnrollment:finalize",x2(C,h))}(h,{idToken:m,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function $s(C,h){return D2(C,"POST","/v2/accounts/mfaSignIn:finalize",x2(C,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _n=(()=>{class C{constructor(){}static assertion(m){return ri._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var cr="@firebase/auth";class af{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,g.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(M=>{var S;h((null===(S=M)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function hl(C){(0,L._registerComponent)(new _e.wA("auth",(h,{options:m})=>{const M=h.getProvider("app").getImmediate(),S=h.getProvider("heartbeat"),{apiKey:I,authDomain:Y}=M.options;return((pe,Pe)=>{ee(I&&!I.includes(":"),"invalid-api-key",{appName:pe.name}),ee(!Y?.includes(":"),"argument-error",{appName:pe.name});const t2={apiKey:I,authDomain:Y,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:st(C)},E2=new l4(pe,Pe,t2);return function te(C,h){const m=h?.persistence||[],M=(Array.isArray(m)?m:[m]).map(K);h?.errorMap&&C._updateErrorMap(h.errorMap),C._initializeWithPersistence(M,h?.popupRedirectResolver)}(E2,m),E2})(M,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,M)=>{h.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new _e.wA("auth-internal",h=>{const m=d2(h.getProvider("auth").getImmediate());return new af(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(cr,"0.20.6",function lf(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,L.registerVersion)(cr,"0.20.6","esm2017")}("Browser")},2090:(g2,Ae,x)=>{x.d(Ae,{$s:()=>i1,BH:()=>je,G6:()=>ee,L:()=>ve,LL:()=>De,Mn:()=>de,Sg:()=>Se,UG:()=>re,US:()=>_e,ZB:()=>B,ZR:()=>te,b$:()=>$e,d:()=>Ee,eu:()=>le,hl:()=>se,jU:()=>fe,m9:()=>k2,ne:()=>qn,pd:()=>t1,r3:()=>x2,ru:()=>Ge,tV:()=>Te,uI:()=>Re,vZ:()=>fn,w1:()=>me,xO:()=>dn,xb:()=>e1,z$:()=>He,zI:()=>W,zd:()=>V1});const ce=function($){const k=[];let A=0;for(let F=0;F<$.length;F++){let U=$.charCodeAt(F);U<128?k[A++]=U:U<2048?(k[A++]=U>>6|192,k[A++]=63&U|128):55296==(64512&U)&&F+1<$.length&&56320==(64512&$.charCodeAt(F+1))?(U=65536+((1023&U)<<10)+(1023&$.charCodeAt(++F)),k[A++]=U>>18|240,k[A++]=U>>12&63|128,k[A++]=U>>6&63|128,k[A++]=63&U|128):(k[A++]=U>>12|224,k[A++]=U>>6&63|128,k[A++]=63&U|128)}return k},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,k){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let U=0;U<$.length;U+=3){const he=$[U],Ne=U+1<$.length,p2=Ne?$[U+1]:0,G2=U+2<$.length,j2=G2?$[U+2]:0;let N=(15&p2)<<2|j2>>6,P=63&j2;G2||(P=64,Ne||(N=64)),F.push(A[he>>2],A[(3&he)<<4|p2>>4],A[N],A[P])}return F.join("")},encodeString($,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa($):this.encodeByteArray(ce($),k)},decodeString($,k){return this.HAS_NATIVE_SUPPORT&&!k?atob($):function($){const k=[];let A=0,F=0;for(;A<$.length;){const U=$[A++];if(U<128)k[F++]=String.fromCharCode(U);else if(U>191&&U<224){const he=$[A++];k[F++]=String.fromCharCode((31&U)<<6|63&he)}else if(U>239&&U<365){const G2=((7&U)<<18|(63&$[A++])<<12|(63&$[A++])<<6|63&$[A++])-65536;k[F++]=String.fromCharCode(55296+(G2>>10)),k[F++]=String.fromCharCode(56320+(1023&G2))}else{const he=$[A++],Ne=$[A++];k[F++]=String.fromCharCode((15&U)<<12|(63&he)<<6|63&Ne)}}return k.join("")}(this.decodeStringToByteArray($,k))},decodeStringToByteArray($,k){this.init_();const A=k?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let U=0;U<$.length;){const he=A[$.charAt(U++)],p2=U<$.length?A[$.charAt(U)]:0;++U;const j2=U<$.length?A[$.charAt(U)]:64;++U;const Q=U<$.length?A[$.charAt(U)]:64;if(++U,null==he||null==p2||null==j2||null==Q)throw Error();F.push(he<<2|p2>>4),64!==j2&&(F.push(p2<<4&240|j2>>2),64!==Q&&F.push(j2<<6&192|Q))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ve=function($){return function($){const k=ce($);return _e.encodeByteArray(k,!0)}($).replace(/\./g,"")},Te=function($){try{return _e.decodeString($,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function B($,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return k}for(const A in k)!k.hasOwnProperty(A)||!X(A)||($[A]=B($[A],k[A]));return $}function X($){return"__proto__"!==$}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,A)=>{this.resolve=k,this.reject=A})}wrapCallback(k){return(A,F)=>{A?this.reject(A):this.resolve(F),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(A):k(A,F))}}}function Se($,k){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=k||"demo-project",U=$.iat||0,he=$.sub||$.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:U,exp:U+3600,auth_time:U,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Ne)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fe(){return"object"==typeof self&&self.self===self}function Ge(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){return He().indexOf("Electron/")>=0}function me(){const $=He();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function de(){return He().indexOf("MSAppHost/")>=0}function ee(){return!re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){return"object"==typeof indexedDB}function le(){return new Promise(($,k)=>{try{let A=!0;const F="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(F);U.onsuccess=()=>{U.result.close(),A||self.indexedDB.deleteDatabase(F),$(!0)},U.onupgradeneeded=()=>{A=!1},U.onerror=()=>{var he;k((null===(he=U.error)||void 0===he?void 0:he.message)||"")}}catch(A){k(A)}})}function W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor(k,A,F){super(A),this.code=k,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(k,A,F){this.service=k,this.serviceName=A,this.errors=F}create(k,...A){const F=A[0]||{},U=`${this.service}/${k}`,he=this.errors[k],Ne=he?function Le($,k){return $.replace(u2,(A,F)=>{const U=k[F];return null!=U?String(U):`<${F}?>`})}(he,F):"Error";return new te(U,`${this.serviceName}: ${Ne} (${U}).`,F)}}const u2=/\{\$([^}]+)}/g;function x2($,k){return Object.prototype.hasOwnProperty.call($,k)}function e1($){for(const k in $)if(Object.prototype.hasOwnProperty.call($,k))return!1;return!0}function fn($,k){if($===k)return!0;const A=Object.keys($),F=Object.keys(k);for(const U of A){if(!F.includes(U))return!1;const he=$[U],Ne=k[U];if(ft(he)&&ft(Ne)){if(!fn(he,Ne))return!1}else if(he!==Ne)return!1}for(const U of F)if(!A.includes(U))return!1;return!0}function ft($){return null!==$&&"object"==typeof $}function dn($){const k=[];for(const[A,F]of Object.entries($))Array.isArray(F)?F.forEach(U=>{k.push(encodeURIComponent(A)+"="+encodeURIComponent(U))}):k.push(encodeURIComponent(A)+"="+encodeURIComponent(F));return k.length?"&"+k.join("&"):""}function V1($){const k={};return $.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[U,he]=F.split("=");k[decodeURIComponent(U)]=decodeURIComponent(he)}}),k}function t1($){const k=$.indexOf("?");if(!k)return"";const A=$.indexOf("#",k);return $.substring(k,A>0?A:void 0)}function qn($,k){const A=new Ke($,k);return A.subscribe.bind(A)}class Ke{constructor(k,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{k(this)}).catch(F=>{this.error(F)})}next(k){this.forEachObserver(A=>{A.next(k)})}error(k){this.forEachObserver(A=>{A.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,A,F){let U;if(void 0===k&&void 0===A&&void 0===F)throw new Error("Missing Observer.");U=function Et($,k){if("object"!=typeof $||null===$)return!1;for(const A of k)if(A in $&&"function"==typeof $[A])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:A,complete:F},void 0===U.next&&(U.next=X2),void 0===U.error&&(U.error=X2),void 0===U.complete&&(U.complete=X2);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch{}}),this.observers.push(U),he}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,k)}sendOne(k,A){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{A(this.observers[k])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X2(){}function i1($,k=1e3,A=2){const F=k*Math.pow(A,$),U=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+U)}function k2($){return $&&$._delegate?$._delegate:$}},3185:(g2,Ae,x)=>{var g=x(4650);let R=null;function L(){return R}const ze=new g.OlP("DocumentToken");class u3{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,a,f)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new u3(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,f),Mr(p,o)}});for(let o=0,a=r.length;o<a;o++){const p=r.get(o).context;p.index=o,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Mr(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Mr(n,e){n.context.$implicit=e.item}class qu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class In{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ku=new In,Sa=new qu;let L8=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,g.QGY)(t))return Ku;if((0,g.F4k)(t))return Sa;throw function O1(n,e){return new g.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.sBO,16))},n.\u0275pipe=g.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),x8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function h3(n){return"server"===n}class m4 extends class Fa extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Me(n){R||(R=n)}(new m4)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $8(){return Sr=Sr||document.querySelector("base"),Sr?Sr.getAttribute("href"):null}();return null==t?null:function Dn(n){ct=ct||document.createElement("a"),ct.setAttribute("href",n);const e=ct.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Sr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ct,Sr=null;const at=new g.OlP("TRANSITION_ID"),W8=[{provide:g.ip1,useFactory:function G8(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=L(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<o.length;a++)r.remove(o[a])})}},deps:[at,ze,g.zs3],multi:!0}];let K8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const So=new g.OlP("EventManagerPlugins");let Eo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let a=0;a<o.length;a++){const f=o[a];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(So),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class As{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=L().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Ts=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Er=(()=>{class n extends Ts{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(a=>{const f=this._doc.createElement("style");f.textContent=a,o.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Io),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Io))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ze))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Io(n){L().remove(n)}const Do={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oa=/%COMP%/g;function Ns(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ns(n,o,t):(o=o.replace(Oa,n),t.push(o))}return t}function ks(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ba=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ln(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ua(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case g.ifc.ShadowDom:return new Q8(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ns(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Eo),g.LFG(Er),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Ln{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Do[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(w3(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(w3(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const a=Do[o];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Do[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,o&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ks(r)):this.eventManager.addEventListener(e,t,ks(r))}}function w3(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ua extends Ln{constructor(e,t,r,o){super(e),this.component=r;const a=Ns(o+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function M3(n){return"_ngcontent-%COMP%".replace(Oa,n)}(o+"-"+r.id),this.hostAttr=function xo(n){return"_nghost-%COMP%".replace(Oa,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Q8 extends Ln{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ns(o.id,o.styles,[]);for(let f=0;f<a.length;f++){const p=document.createElement("style");p.textContent=a[f],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ir=(()=>{class n extends As{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ze))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const X8=["alt","control","meta","shift"],Xn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},No={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ps=(()=>{class n extends As{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const a=n.parseEventName(r),f=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const a=n._normalizeKey(r.pop());let f="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),f="code."),X8.forEach(V=>{const H=r.indexOf(V);H>-1&&(r.splice(H,1),f+=V+".")}),f+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=o,y.fullKey=f,y}static matchEventFullKeyCode(t,r){let o=Xn[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(o=t.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),X8.forEach(f=>{f!==o&&(0,No[f])(t)&&(a+=f+".")}),a+=o,a===r)}static eventCallback(t,r,o){return a=>{n.matchEventFullKeyCode(a,t)&&o.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ze))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const V3=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function el(){m4.makeCurrent()},multi:!0},{provide:ze,useFactory:function ko(){return(0,g.RDi)(document),document},deps:[]}]),b3=new g.OlP(""),H3=[{provide:g.rWj,useClass:class q8{addToWindow(e){g.dqk.getAngularTestability=(r,o=!0)=>{const a=e.findTestabilityInTree(r,o);if(null==a)throw new Error("Could not find testability for element.");return a},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const o=g.dqk.getAllAngularTestabilities();let a=o.length,f=!1;const p=function(y){f=f||y,a--,0==a&&r(f)};o.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Fs=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Dr(){return new g.qLn},deps:[]},{provide:So,useClass:Ir,multi:!0,deps:[ze,g.R0b,g.Lbi]},{provide:So,useClass:Ps,multi:!0,deps:[ze]},{provide:Ba,useClass:Ba,deps:[Eo,Er,g.AFp]},{provide:g.FYo,useExisting:Ba},{provide:Ts,useExisting:Er},{provide:Er,useClass:Er,deps:[ze]},{provide:Eo,useClass:Eo,deps:[So,g.R0b]},{provide:class m3{},useClass:K8,deps:[]},[]];let v4=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:at,useExisting:g.AFp},W8]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(b3,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...Fs,...H3],imports:[x8,g.hGG]}),n})();typeof window<"u"&&window;let Ar=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):g.LFG(sl),r},providedIn:"root"}),n})(),sl=(()=>{class n extends Ar{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case g.q3G.NONE:return r;case g.q3G.HTML:return(0,g.qzn)(r,"HTML")?(0,g.z3N)(r):(0,g.EiD)(this._doc,String(r)).toString();case g.q3G.STYLE:return(0,g.qzn)(r,"Style")?(0,g.z3N)(r):r;case g.q3G.SCRIPT:if((0,g.qzn)(r,"Script"))return(0,g.z3N)(r);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.qzn)(r,"URL")?(0,g.z3N)(r):(0,g.mCW)(String(r));case g.q3G.RESOURCE_URL:if((0,g.qzn)(r,"ResourceURL"))return(0,g.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,g.JVY)(t)}bypassSecurityTrustStyle(t){return(0,g.L6k)(t)}bypassSecurityTrustScript(t){return(0,g.eBb)(t)}bypassSecurityTrustUrl(t){return(0,g.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,g.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ze))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function of(n){return new sl(n.get(ze))}(g.LFG(g.zs3)),r},providedIn:"root"}),n})();var z1=x(8996),Y1=x(8306);const{isArray:Ya}=Array,{getPrototypeOf:il,prototype:o1,keys:xn}=Object;var er=x(8421),I3=x(7669),S1=x(5403),Pt=x(4004);const{isArray:C4}=Array;function E1(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let An=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),Nr=(()=>{class n extends An{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const Q1=new g.OlP("NgValueAccessor"),cl={provide:Q1,useExisting:(0,g.Gpc)(()=>kr),multi:!0},al=new g.OlP("CompositionEventMode");let kr=(()=>{class n extends An{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fo(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(al,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[g._Bn([cl]),g.qOj]}),n})();const Mt=new g.OlP("NgValidators"),yn=new g.OlP("NgAsyncValidators");function Qs(n){return null!=n}function nr(n){return(0,g.QGY)(n)?(0,z1.D)(n):n}function n6(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function r6(n,e){return e.map(t=>t(n))}function Xs(n){return n.map(e=>function Oo(n){return!n.validate}(e)?e:t=>e.validate(t))}function M4(n){return null!=n?function rr(n){if(!n)return null;const e=n.filter(Qs);return 0==e.length?null:function(t){return n6(r6(t,e))}}(Xs(n)):null}function Rr(n){if(!n)return null;const e=n.filter(Qs);return 0==e.length?null:function(t){return function Ro(...n){const e=(0,I3.jO)(n),{args:t,keys:r}=function Ws(n){if(1===n.length){const e=n[0];if(Ya(e))return{args:e,keys:null};if(function Tr(n){return n&&"object"==typeof n&&il(n)===o1}(e)){const t=xn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n),o=new Y1.y(a=>{const{length:f}=t;if(!f)return void a.complete();const p=new Array(f);let y=f,V=f;for(let H=0;H<f;H++){let z=!1;(0,er.Xf)(t[H]).subscribe((0,S1.x)(a,T=>{z||(z=!0,V--),p[H]=T},()=>y--,void 0,()=>{(!y||!z)&&(V||a.next(r?E1(r,p):p),a.complete())}))}});return e?o.pipe(function Xa(n){return(0,Pt.U)(e=>function Qa(n,e){return C4(e)?n(...e):n(e)}(n,e))}(e)):o}(r6(t,e).map(nr)).pipe((0,Pt.U)(n6))}}function Js(n){return null!=n?Rr(Xs(n)):null}function A3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T3(n){return n?Array.isArray(n)?n:[n]:[]}function N3(n,e){return Array.isArray(n)?n.includes(e):n===e}function s6(n,e){const t=T3(e);return T3(n).forEach(o=>{N3(t,o)||t.push(o)}),t}function sr(n,e){return T3(e).filter(t=>!N3(n,t))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M4(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Js(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class c1 extends ir{get formDirective(){return null}get path(){return null}}class Fr extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bo{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uo=(()=>{class n extends Bo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Fr,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})(),ei=(()=>{class n extends Bo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(c1,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g.qOj]}),n})();const Br="VALID",k3="INVALID",Ur="PENDING",or="DISABLED";function Tn(n){return(ni(n)?n.validators:n)||null}function ti(n){return Array.isArray(n)?M4(n):n||null}function Ko(n,e){return(ni(e)?e.asyncValidators:n)||null}function Zo(n){return Array.isArray(n)?Js(n):n||null}function ni(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class cr{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ti(this._rawValidators),this._composedAsyncValidatorFn=Zo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Br}get invalid(){return this.status===k3}get pending(){return this.status==Ur}get disabled(){return this.status===or}get enabled(){return this.status!==or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ti(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Zo(e)}addValidators(e){this.setValidators(s6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(s6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sr(e,this._rawAsyncValidators))}hasValidator(e){return N3(this._rawValidators,e)}hasAsyncValidator(e){return N3(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ur,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=or,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Br,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Br||this.status===Ur)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:Br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ur,this._hasOwnPendingAsyncValidator=!0;const t=nr(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?k3:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ur)?Ur:this._anyControlsHaveStatus(k3)?k3:Br}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ni(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class si extends cr{constructor(e,t,r){super(Tn(t),Ko(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _n(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new g.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ri(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new g.vHH(1e3,"");if(!r[t])throw new g.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,a)=>{r=t(r,o,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function h(n,e){I(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function pe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&t2(n,e)})}(n,e),function E2(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Pe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&t2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function S(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function M(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function I(n,e){const t=function w4(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(A3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function V4(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(A3(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();M(e._rawValidators,o),M(e._rawAsyncValidators,o)}function t2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const f6={provide:c1,useExisting:(0,g.Gpc)(()=>jr)},P3=(()=>Promise.resolve(null))();let jr=(()=>{class n extends c1{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new si({},M4(t),Js(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){P3.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),h(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){P3.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){P3.then(()=>{const r=this._findContainer(t.path),o=new si({});(function tt(n,e){I(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){P3.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){P3.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Qo(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Mt,10),g.Y36(yn,10))},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&g.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([f6]),g.qOj]}),n})();function ec(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tc(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pl=class extends cr{constructor(e=null,t,r){super(Tn(t),Ko(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ni(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tc(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ec(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ec(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tc(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},mm={provide:Fr,useExisting:(0,g.Gpc)(()=>d6)},df=(()=>Promise.resolve(null))();let d6=(()=>{class n extends Fr{constructor(t,r,o,a,f){super(),this._changeDetectorRef=f,this.control=new pl,this._registered=!1,this.update=new g.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Xo(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(a=>{a.constructor===kr?t=a:function oi(n){return Object.getPrototypeOf(n.constructor)===Nr}(a)?r=a:o=a}),o||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function z4(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){h(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){df.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,g.D6c)(r);df.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function C(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(c1,9),g.Y36(Mt,10),g.Y36(yn,10),g.Y36(Q1,10),g.Y36(g.sBO,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([mm]),g.qOj,g.TTD]}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),Sm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ml]}),n})(),Vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Sm]}),n})();var O2=x(9681);(0,O2.registerVersion)("firebase","9.9.4","app");var q=x(5861),Xe=x(2090),en=x(4859),Nn=x(1877),S4=x(8766);const li="@firebase/installations",Hl="0.5.12",Lf=`w:${Hl}`,zl="FIS_v2",Gr=new Xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xf(n){return n instanceof Xe.ZR&&n.code.includes("request-failed")}function El({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Il(n){return{token:n.token,requestStatus:2,expiresIn:v1(n.expiresIn),creationTime:Date.now()}}function Dl(n,e){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,q.Z)(function*(n,e){const r=(yield e.json()).error;return Gr.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function g1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function C6(n,{refreshToken:e}){const t=g1(n);return t.append("Authorization",function cc(n){return`${zl} ${n}`}(e)),t}function _6(n){return oc.apply(this,arguments)}function oc(){return(oc=(0,q.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function v1(n){return Number(n.replace("s","000"))}function xl(n,e){return Al.apply(this,arguments)}function Al(){return(Al=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=El(n),o=g1(n),a=e.getImmediate({optional:!0});if(a){const V=yield a.getHeartbeatsHeader();V&&o.append("x-firebase-client",V)}const p={method:"POST",headers:o,body:JSON.stringify({fid:t,authVersion:zl,appId:n.appId,sdkVersion:Lf})},y=yield _6(()=>fetch(r,p));if(y.ok){const V=yield y.json();return{fid:V.fid||t,registrationStatus:2,refreshToken:V.refreshToken,authToken:Il(V.authToken)}}throw yield Dl("Create Installation",y)})).apply(this,arguments)}function Af(n){return new Promise(e=>{setTimeout(e,n)})}const xm=/^[cdef][\w-]{21}$/;function Am(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Nf(n){return function Tf(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return xm.test(t)?t:""}catch{return""}}function ui(n){return`${n.appName}!${n.appId}`}const fi=new Map;function kf(n,e){const t=ui(n);B3(t,e),function Wr(n,e){const t=function Pf(){return!U3&&"BroadcastChannel"in self&&(U3=new BroadcastChannel("[Firebase] FID Change"),U3.onmessage=n=>{B3(n.data.key,n.data.fid)}),U3}();t&&t.postMessage({key:n,fid:e}),function km(){0===fi.size&&U3&&(U3.close(),U3=null)}()}(t,e)}function B3(n,e){const t=fi.get(n);if(t)for(const r of t)r(e)}let U3=null;const di="firebase-installations-store";let Mn=null;function ac(){return Mn||(Mn=(0,S4.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(di)}})),Mn}function hi(n,e){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,q.Z)(function*(n,e){const t=ui(n),o=(yield ac()).transaction(di,"readwrite"),a=o.objectStore(di),f=yield a.get(t);return yield a.put(e,t),yield o.done,(!f||f.fid!==e.fid)&&kf(n,e.fid),e})).apply(this,arguments)}function w6(n){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,q.Z)(function*(n){const e=ui(n),r=(yield ac()).transaction(di,"readwrite");yield r.objectStore(di).delete(e),yield r.done})).apply(this,arguments)}function qr(n,e){return kl.apply(this,arguments)}function kl(){return(kl=(0,q.Z)(function*(n,e){const t=ui(n),o=(yield ac()).transaction(di,"readwrite"),a=o.objectStore(di),f=yield a.get(t),p=e(f);return void 0===p?yield a.delete(t):yield a.put(p,t),yield o.done,p&&(!f||f.fid!==p.fid)&&kf(n,p.fid),p})).apply(this,arguments)}function Pl(n){return lc.apply(this,arguments)}function lc(){return(lc=(0,q.Z)(function*(n){let e;const t=yield qr(n.appConfig,r=>{const o=Rl(r),a=Ff(n,o);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Rl(n){return b6(n||{fid:Am(),registrationStatus:0})}function Ff(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Gr.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function yw(n,e){return E4.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Fl(n)}:{installationEntry:e}}function E4(){return(E4=(0,q.Z)(function*(n,e){try{const t=yield xl(n,e);return hi(n.appConfig,t)}catch(t){throw xf(t)&&409===t.customData.serverCode?yield w6(n.appConfig):yield hi(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Fl(n){return V6.apply(this,arguments)}function V6(){return(V6=(0,q.Z)(function*(n){let e=yield Of(n.appConfig);for(;1===e.registrationStatus;)yield Af(100),e=yield Of(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Pl(n);return r||t}return e})).apply(this,arguments)}function Of(n){return qr(n,e=>{if(!e)throw Gr.create("installation-not-found");return b6(e)})}function b6(n){return function Pm(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Rm(n,e){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Fm(n,t),o=C6(n,t),a=e.getImmediate({optional:!0});if(a){const V=yield a.getHeartbeatsHeader();V&&o.append("x-firebase-client",V)}const p={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:Lf,appId:n.appId}})},y=yield _6(()=>fetch(r,p));if(y.ok)return Il(yield y.json());throw yield Dl("Generate Auth Token",y)})).apply(this,arguments)}function Fm(n,{fid:e}){return`${El(n)}/${e}/authTokens:generate`}function Bl(n){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,q.Z)(function*(n,e=!1){let t;const r=yield qr(n.appConfig,a=>{if(!Uf(a))throw Gr.create("not-registered");const f=a.authToken;if(!e&&jf(f))return a;if(1===f.requestStatus)return t=Bf(n,e),a;{if(!navigator.onLine)throw Gr.create("app-offline");const p=j3(a);return t=$l(n,p),p}});return t?yield t:r.authToken})).apply(this,arguments)}function Bf(n,e){return uc.apply(this,arguments)}function uc(){return(uc=(0,q.Z)(function*(n,e){let t=yield jl(n.appConfig);for(;1===t.authToken.requestStatus;)yield Af(100),t=yield jl(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Bl(n,e):r})).apply(this,arguments)}function jl(n){return qr(n,e=>{if(!Uf(e))throw Gr.create("not-registered");return function Gf(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $l(n,e){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,q.Z)(function*(n,e){try{const t=yield Rm(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield hi(n.appConfig,r),t}catch(t){if(!xf(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hi(n.appConfig,r)}else yield w6(n.appConfig);throw t}})).apply(this,arguments)}function Uf(n){return void 0!==n&&2===n.registrationStatus}function jf(n){return 2===n.requestStatus&&!function $f(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function j3(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Wl(){return(Wl=(0,q.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Pl(e);return r?r.catch(console.error):Bl(e).catch(console.error),t.fid})).apply(this,arguments)}function pi(){return(pi=(0,q.Z)(function*(n,e=!1){const t=n;return yield Om(t),(yield Bl(t,e)).token})).apply(this,arguments)}function Om(n){return H6.apply(this,arguments)}function H6(){return(H6=(0,q.Z)(function*(n){const{registrationPromise:e}=yield Pl(n);e&&(yield e)})).apply(this,arguments)}function S6(n){return Gr.create("missing-app-config-values",{valueName:n})}const E6="installations",jm=n=>{const e=n.getProvider("app").getImmediate(),t=function Zl(n){if(!n||!n.options)throw S6("App Configuration");if(!n.name)throw S6("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw S6(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,O2._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Kf=n=>{const e=n.getProvider("app").getImmediate(),t=(0,O2._getProvider)(e,E6).getImmediate();return{getId:()=>function Wf(n){return Wl.apply(this,arguments)}(t),getToken:o=>function Cw(n){return pi.apply(this,arguments)}(t,o)}};(function $m(){(0,O2._registerComponent)(new en.wA(E6,jm,"PUBLIC")),(0,O2._registerComponent)(new en.wA("installations-internal",Kf,"PRIVATE"))})(),(0,O2.registerVersion)(li,Hl),(0,O2.registerVersion)(li,Hl,"esm2017");const Yl="@firebase/remote-config",I1=new Xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xm{constructor(e,t,r,o){this.client=e,this.storage=t,this.storageCache=r,this.logger=o}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,o=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${o}.`),o}fetch(e){var t=this;return(0,q.Z)(function*(){const[r,o]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(o&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return o;e.eTag=o&&o.eTag;const a=yield t.client.fetch(e),f=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&f.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(f),a})()}}function Jm(n=navigator){return n.languages&&n.languages[0]||n.language}class Xf{constructor(e,t,r,o,a,f){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=o,this.apiKey=a,this.appId=f}fetch(e){var t=this;return(0,q.Z)(function*(){var r,o,a;const[f,p]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),V=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,H={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},z={sdk_version:t.sdkVersion,app_instance_id:f,app_instance_id_token:p,app_id:t.appId,language_code:Jm()},T={method:"POST",headers:H,body:JSON.stringify(z)},j=fetch(V,T),J=new Promise((n2,e2)=>{e.signal.addEventListener(()=>{const V2=new Error("The operation was aborted.");V2.name="AbortError",e2(V2)})});let ye;try{yield Promise.race([j,J]),ye=yield j}catch(n2){let e2="fetch-client-network";throw"AbortError"===(null===(r=n2)||void 0===r?void 0:r.name)&&(e2="fetch-timeout"),I1.create(e2,{originalErrorMessage:null===(o=n2)||void 0===o?void 0:o.message})}let xe=ye.status;const l2=ye.headers.get("ETag")||void 0;let r2,s2;if(200===ye.status){let n2;try{n2=yield ye.json()}catch(e2){throw I1.create("fetch-client-parse",{originalErrorMessage:null===(a=e2)||void 0===a?void 0:a.message})}r2=n2.entries,s2=n2.state}if("INSTANCE_STATE_UNSPECIFIED"===s2?xe=500:"NO_CHANGE"===s2?xe=304:("NO_TEMPLATE"===s2||"EMPTY_CONFIG"===s2)&&(r2={}),304!==xe&&200!==xe)throw I1.create("fetch-status",{httpStatus:xe});return{status:xe,eTag:l2,config:r2}})()}}class tg{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,q.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var o=this;return(0,q.Z)(function*(){yield function eg(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(I1.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield o.client.fetch(e);return yield o.storage.deleteThrottleMetadata(),a}catch(a){if(!function Jf(n){if(!(n instanceof Xe.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const f={throttleEndTimeMillis:Date.now()+(0,Xe.$s)(r),backoffCount:r+1};return yield o.storage.setThrottleMetadata(f),o.attemptFetch(e,f)}})()}}class e9{constructor(e,t,r,o,a){this.app=e,this._client=t,this._storageCache=r,this._storage=o,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hc(n,e){var t;const r=n.target.error||void 0;return I1.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const tn="app_namespace_store";class sg{constructor(e,t,r,o=function r5(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=o=>{e(hc(o,"storage-open"))},r.onsuccess=o=>{n(o.target.result)},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(tn,{keyPath:"compositeKey"})}}catch(r){e(I1.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,q.Z)(function*(){const r=yield t.openDbPromise;return new Promise((o,a)=>{var f;const y=r.transaction([tn],"readonly").objectStore(tn),V=t.createCompositeKey(e);try{const H=y.get(V);H.onerror=z=>{a(hc(z,"storage-get"))},H.onsuccess=z=>{const T=z.target.result;o(T?T.value:void 0)}}catch(H){a(I1.create("storage-get",{originalErrorMessage:null===(f=H)||void 0===f?void 0:f.message}))}})})()}set(e,t){var r=this;return(0,q.Z)(function*(){const o=yield r.openDbPromise;return new Promise((a,f)=>{var p;const V=o.transaction([tn],"readwrite").objectStore(tn),H=r.createCompositeKey(e);try{const z=V.put({compositeKey:H,value:t});z.onerror=T=>{f(hc(T,"storage-set"))},z.onsuccess=()=>{a()}}catch(z){f(I1.create("storage-set",{originalErrorMessage:null===(p=z)||void 0===p?void 0:p.message}))}})})()}delete(e){var t=this;return(0,q.Z)(function*(){const r=yield t.openDbPromise;return new Promise((o,a)=>{var f;const y=r.transaction([tn],"readwrite").objectStore(tn),V=t.createCompositeKey(e);try{const H=y.delete(V);H.onerror=z=>{a(hc(z,"storage-delete"))},H.onsuccess=()=>{o()}}catch(H){a(I1.create("storage-delete",{originalErrorMessage:null===(f=H)||void 0===f?void 0:f.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Hw{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,q.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),o=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const f=yield r;f&&(e.lastSuccessfulFetchTimestampMillis=f);const p=yield o;p&&(e.activeConfig=p)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function t9(){return n9.apply(this,arguments)}function n9(){return(n9=(0,q.Z)(function*(){if(!(0,Xe.hl)())return!1;try{return yield(0,Xe.eu)()}catch{return!1}})).apply(this,arguments)}!function zw(){(0,O2._registerComponent)(new en.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw I1.create("registration-window");if(!(0,Xe.hl)())throw I1.create("indexed-db-unavailable");const{projectId:a,apiKey:f,appId:p}=r.options;if(!a)throw I1.create("registration-project-id");if(!f)throw I1.create("registration-api-key");if(!p)throw I1.create("registration-app-id");const y=new sg(p,r.name,t=t||"firebase"),V=new Hw(y),H=new Nn.Yd(Yl);H.logLevel=Nn.in.ERROR;const z=new Xf(o,O2.SDK_VERSION,t,a,f,p),T=new tg(z,y),j=new Xm(T,y,V,H),J=new e9(r,j,V,y,H);return function Zm(n){const e=(0,Xe.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(J),J},"PUBLIC").setMultipleInstances(!0)),(0,O2.registerVersion)(Yl,"0.3.11"),(0,O2.registerVersion)(Yl,"0.3.11","esm2017")}();const ig="/firebase-messaging-sw.js",gi="/firebase-cloud-messaging-push-scope",r9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pc="google.c.a.c_id",og="google.c.a.c_l",i9="google.c.a.ts",cg="google.c.a.e";var vi=(()=>{return(n=vi||(vi={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",vi;var n})();function Kr(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ag(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),o=new Uint8Array(r.length);for(let a=0;a<r.length;++a)o[a]=r.charCodeAt(a);return o}const D6="fcm_token_details_db",i5="fcm_token_object_Store";function o9(n){return mc.apply(this,arguments)}function mc(){return mc=(0,q.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(D6))return null;let e=null;return(yield(0,S4.X3)(D6,5,{upgrade:(r=(0,q.Z)(function*(o,a,f,p){var y;if(a<2||!o.objectStoreNames.contains(i5))return;const V=p.objectStore(i5),H=yield V.index("fcmSenderId").get(n);if(yield V.clear(),H)if(2===a){const z=H;if(!z.auth||!z.p256dh||!z.endpoint)return;e={token:z.fcmToken,createTime:null!==(y=z.createTime)&&void 0!==y?y:Date.now(),subscriptionOptions:{auth:z.auth,p256dh:z.p256dh,endpoint:z.endpoint,swScope:z.swScope,vapidKey:"string"==typeof z.vapidKey?z.vapidKey:Kr(z.vapidKey)}}}else if(3===a){const z=H;e={token:z.fcmToken,createTime:z.createTime,subscriptionOptions:{auth:Kr(z.auth),p256dh:Kr(z.p256dh),endpoint:z.endpoint,swScope:z.swScope,vapidKey:Kr(z.vapidKey)}}}else if(4===a){const z=H;e={token:z.fcmToken,createTime:z.createTime,subscriptionOptions:{auth:Kr(z.auth),p256dh:Kr(z.p256dh),endpoint:z.endpoint,swScope:z.swScope,vapidKey:Kr(z.vapidKey)}}}}),function(a,f,p,y){return r.apply(this,arguments)})})).close(),yield(0,S4.Lj)(D6),yield(0,S4.Lj)("fcm_vapid_details_db"),yield(0,S4.Lj)("undefined"),Ew(e)?e:null;var r}),mc.apply(this,arguments)}function Ew(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const yi="firebase-messaging-store";let I4=null;function c5(){return I4||(I4=(0,S4.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(yi)}})),I4}function a5(n){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,q.Z)(function*(n){const e=Pn(n),r=yield(yield c5()).transaction(yi).objectStore(yi).get(e);if(r)return r;{const o=yield o9(n.appConfig.senderId);if(o)return yield nn(n,o),o}})).apply(this,arguments)}function nn(n,e){return L6.apply(this,arguments)}function L6(){return(L6=(0,q.Z)(function*(n,e){const t=Pn(n),o=(yield c5()).transaction(yi,"readwrite");return yield o.objectStore(yi).put(e,t),yield o.done,e})).apply(this,arguments)}function fg(n){return gc.apply(this,arguments)}function gc(){return(gc=(0,q.Z)(function*(n){const e=Pn(n),r=(yield c5()).transaction(yi,"readwrite");yield r.objectStore(yi).delete(e),yield r.done})).apply(this,arguments)}function Pn({appConfig:n}){return n.appId}const $t=new Xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function u5(n,e){return c9.apply(this,arguments)}function c9(){return(c9=(0,q.Z)(function*(n,e){var t;const r=yield Cc(n),o=dg(e),a={method:"POST",headers:r,body:JSON.stringify(o)};let f;try{f=yield(yield fetch(yc(n.appConfig),a)).json()}catch(p){throw $t.create("token-subscribe-failed",{errorInfo:null===(t=p)||void 0===t?void 0:t.toString()})}if(f.error)throw $t.create("token-subscribe-failed",{errorInfo:f.error.message});if(!f.token)throw $t.create("token-subscribe-no-token");return f.token})).apply(this,arguments)}function a9(n,e){return l9.apply(this,arguments)}function l9(){return(l9=(0,q.Z)(function*(n,e){var t;const r=yield Cc(n),o=dg(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(o)};let f;try{f=yield(yield fetch(`${yc(n.appConfig)}/${e.token}`,a)).json()}catch(p){throw $t.create("token-update-failed",{errorInfo:null===(t=p)||void 0===t?void 0:t.toString()})}if(f.error)throw $t.create("token-update-failed",{errorInfo:f.error.message});if(!f.token)throw $t.create("token-update-no-token");return f.token})).apply(this,arguments)}function vc(n,e){return _i.apply(this,arguments)}function _i(){return(_i=(0,q.Z)(function*(n,e){var t;const o={method:"DELETE",headers:yield Cc(n)};try{const f=yield(yield fetch(`${yc(n.appConfig)}/${e}`,o)).json();if(f.error)throw $t.create("token-unsubscribe-failed",{errorInfo:f.error.message})}catch(a){throw $t.create("token-unsubscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function yc({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Cc(n){return _c.apply(this,arguments)}function _c(){return(_c=(0,q.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function dg({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const o={web:{endpoint:t,auth:e,p256dh:n}};return r!==r9&&(o.web.applicationPubKey=r),o}const hg=6048e5;function pg(n){return f5.apply(this,arguments)}function f5(){return(f5=(0,q.Z)(function*(n){const e=yield f9(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Kr(e.getKey("auth")),p256dh:Kr(e.getKey("p256dh"))},r=yield a5(n.firebaseDependencies);if(r){if(p5(r.subscriptionOptions,t))return Date.now()>=r.createTime+hg?Iw(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield vc(n.firebaseDependencies,r.token)}catch(o){console.warn(o)}return mg(n.firebaseDependencies,t)}return mg(n.firebaseDependencies,t)})).apply(this,arguments)}function u9(n){return x6.apply(this,arguments)}function x6(){return(x6=(0,q.Z)(function*(n){const e=yield a5(n.firebaseDependencies);e&&(yield vc(n.firebaseDependencies,e.token),yield fg(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Iw(n,e){return d5.apply(this,arguments)}function d5(){return(d5=(0,q.Z)(function*(n,e){try{const t=yield a9(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield nn(n.firebaseDependencies,r),t}catch(t){throw yield u9(n),t}})).apply(this,arguments)}function mg(n,e){return A6.apply(this,arguments)}function A6(){return(A6=(0,q.Z)(function*(n,e){const r={token:yield u5(n,e),createTime:Date.now(),subscriptionOptions:e};return yield nn(n,r),r.token})).apply(this,arguments)}function f9(n,e){return h5.apply(this,arguments)}function h5(){return(h5=(0,q.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ag(e)})})).apply(this,arguments)}function p5(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function gg(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Dw(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const o=e.notification.image;o&&(n.notification.image=o)}(e,n),function Lw(n,e){!e.data||(n.data=e.data)}(e,n),function xw(n,e){var t,r,o,a,f;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const p=null!==(o=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==o?o:null===(a=e.notification)||void 0===a?void 0:a.click_action;p&&(n.fcmOptions.link=p);const y=null===(f=e.fcmOptions)||void 0===f?void 0:f.analytics_label;y&&(n.fcmOptions.analyticsLabel=y)}(e,n),e}function Aw(n){return"object"==typeof n&&!!n&&pc in n}function vg(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function d9(n){return $t.create("missing-app-config-values",{valueName:n})}vg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nw{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function Tw(n){if(!n||!n.options)throw d9("App Configuration Object");if(!n.name)throw d9("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw d9(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function yg(n){return ar.apply(this,arguments)}function ar(){return(ar=(0,q.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(ig,{scope:gi}),n.swRegistration.update().catch(()=>{})}catch(t){throw $t.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function m5(n,e){return g5.apply(this,arguments)}function g5(){return(g5=(0,q.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield yg(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $t.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function h9(n,e){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,q.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=r9)})).apply(this,arguments)}function wc(){return(wc=(0,q.Z)(function*(n,e){if(!navigator)throw $t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $t.create("permission-blocked");return yield h9(n,e?.vapidKey),yield m5(n,e?.serviceWorkerRegistration),pg(n)})).apply(this,arguments)}function Cg(n,e,t){return lr.apply(this,arguments)}function lr(){return(lr=(0,q.Z)(function*(n,e,t){const r=p9(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[pc],message_name:t[og],message_time:t[i9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function p9(n){switch(n){case vi.NOTIFICATION_CLICKED:return"notification_open";case vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function y5(){return(y5=(0,q.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===vi.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(gg(t)):n.onMessageHandler.next(gg(t)));const r=t.data;Aw(r)&&"1"===r[cg]&&(yield Cg(n,t.messageType,r))})).apply(this,arguments)}const C5="@firebase/messaging",Mg=n=>{const e=new Nw(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function _g(n,e){return y5.apply(this,arguments)}(e,t)),e},T6=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function v5(n,e){return wc.apply(this,arguments)}(e,r)}};function N6(){return D4.apply(this,arguments)}function D4(){return(D4=(0,q.Z)(function*(){try{yield(0,Xe.eu)()}catch{return!1}return typeof window<"u"&&(0,Xe.hl)()&&(0,Xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mi(){(0,O2._registerComponent)(new en.wA("messaging",Mg,"PUBLIC")),(0,O2._registerComponent)(new en.wA("messaging-internal",T6,"PRIVATE")),(0,O2.registerVersion)(C5,"0.9.16"),(0,O2.registerVersion)(C5,"0.9.16","esm2017")}();const wi="analytics",zg="firebase_id",v9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y9="https://www.googletagmanager.com/gtag/js",Gt=new Nn.Yd("@firebase/analytics");function _5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Eg(n,e){const t=document.createElement("script");t.src=`${y9}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function C9(n,e,t,r,o,a){return M5.apply(this,arguments)}function M5(){return(M5=(0,q.Z)(function*(n,e,t,r,o,a){const f=r[o];try{if(f)yield e[f];else{const y=(yield _5(t)).find(V=>V.measurementId===o);y&&(yield e[y.appId])}}catch(p){Gt.error(p)}n("config",o,a)})).apply(this,arguments)}function Pw(n,e,t,r,o){return w5.apply(this,arguments)}function w5(){return(w5=(0,q.Z)(function*(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=yield _5(t);for(const y of f){const V=p.find(z=>z.measurementId===y),H=V&&e[V.appId];if(!H){a=[];break}a.push(H)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,o||{})}catch(a){Gt.error(a)}})).apply(this,arguments)}function Ig(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(y9))return e;return null}const sn=new Xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),V9=new class w9{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xg(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function b9(n){return P6.apply(this,arguments)}function P6(){return(P6=(0,q.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:xg(r)},a=v9.replace("{app-id}",t),f=yield fetch(a,o);if(200!==f.status&&304!==f.status){let p="";try{const y=yield f.json();null!==(e=y.error)&&void 0!==e&&e.message&&(p=y.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:p})}return f.json()})).apply(this,arguments)}function Ag(n){return wn.apply(this,arguments)}function wn(){return(wn=(0,q.Z)(function*(n,e=V9,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw sn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw sn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new H9;return setTimeout((0,q.Z)(function*(){p.abort()}),void 0!==t?t:6e4),R6({appId:r,apiKey:o,measurementId:a},f,p,e)})).apply(this,arguments)}function R6(n,e,t){return b5.apply(this,arguments)}function b5(){return(b5=(0,q.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=V9){var a,f;const{appId:p,measurementId:y}=n;try{yield Tg(r,e)}catch(V){if(y)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${null===(a=V)||void 0===a?void 0:a.message}]`),{appId:p,measurementId:y};throw V}try{const V=yield b9(n);return o.deleteThrottleMetadata(p),V}catch(V){const H=V;if(!Rw(H)){if(o.deleteThrottleMetadata(p),y)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${H?.message}]`),{appId:p,measurementId:y};throw V}const z=503===Number(null===(f=H?.customData)||void 0===f?void 0:f.httpStatus)?(0,Xe.$s)(t,o.intervalMillis,30):(0,Xe.$s)(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+z,backoffCount:t+1};return o.setThrottleMetadata(p,T),Gt.debug(`Calling attemptFetch again in ${z} millis`),R6(n,T,r,o)}})).apply(this,arguments)}function Tg(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Rw(n){if(!(n instanceof Xe.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class H9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let H5,z9;function z5(){return(z5=(0,q.Z)(function*(n,e,t,r,o){if(o&&o.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function Pg(n){z9=n}function O6(n){H5=n}function Fw(){return B6.apply(this,arguments)}function B6(){return(B6=(0,q.Z)(function*(){var n;if(!(0,Xe.hl)())return Gt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Xe.eu)()}catch(e){return Gt.warn(sn.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function U6(){return(U6=(0,q.Z)(function*(n,e,t,r,o,a,f){var p;const y=Ag(n);y.then(j=>{t[j.measurementId]=j.appId,n.options.measurementId&&j.measurementId!==n.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>Gt.error(j)),e.push(y);const V=Fw().then(j=>{if(j)return r.getId()}),[H,z]=yield Promise.all([y,V]);Ig()||Eg(a,H.measurementId),z9&&(o("consent","default",z9),Pg(void 0)),o("js",new Date);const T=null!==(p=f?.config)&&void 0!==p?p:{};return T.origin="firebase",T.update=!0,null!=z&&(T[zg]=z),o("config",H.measurementId,T),H5&&(o("set",H5),O6(void 0)),H.measurementId})).apply(this,arguments)}class E9{constructor(e){this.app=e}_delete(){return delete Rn[this.app.options.appId],Promise.resolve()}}let Rn={},ur=[];const bc={};let I9,Fn,G3="dataLayer",j6=!1;function Hc(n,e,t){!function Rg(){const n=[];if((0,Xe.ru)()&&n.push("This is a browser extension environment."),(0,Xe.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=sn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(t.message)}}();const r=n.options.appId;if(!r)throw sn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw sn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rn[r])throw sn.create("already-exists",{id:r});if(!j6){!function rn(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(G3);const{wrappedGtag:a,gtagCore:f}=function _9(n,e,t,r,o){let a=function(...f){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(a=window[o]),window[o]=function V5(n,e,t,r){function a(){return(a=(0,q.Z)(function*(f,p,y){try{"event"===f?yield Pw(n,e,t,p,y):"config"===f?yield C9(n,e,t,r,p,y):"consent"===f?n("consent","update",y):n("set",p)}catch(V){Gt.error(V)}})).apply(this,arguments)}return function o(f,p,y){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}(Rn,ur,bc,G3,"gtag");Fn=a,I9=f,j6=!0}return Rn[r]=function S9(n,e,t,r,o,a,f){return U6.apply(this,arguments)}(n,ur,bc,e,I9,G3,t),new E9(n)}function Fg(){return D9.apply(this,arguments)}function D9(){return(D9=(0,q.Z)(function*(){if((0,Xe.ru)()||!(0,Xe.zI)()||!(0,Xe.hl)())return!1;try{return yield(0,Xe.eu)()}catch{return!1}})).apply(this,arguments)}const $6="@firebase/analytics";!function Bg(){(0,O2._registerComponent)(new en.wA(wi,(e,{options:t})=>Hc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,O2._registerComponent)(new en.wA("analytics-internal",function n(e){try{const t=e.getProvider(wi).getImmediate();return{logEvent:(r,o,a)=>function x5(n,e,t,r){n=(0,Xe.m9)(n),function Ng(n,e,t,r,o){return z5.apply(this,arguments)}(Fn,Rn[n.app.options.appId],e,t,r).catch(o=>Gt.error(o))}(t,r,o,a)}}catch(t){throw sn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,O2.registerVersion)($6,"0.8.0"),(0,O2.registerVersion)($6,"0.8.0","esm2017")}();var Ug=x(727);class jg extends Ug.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const G6={setInterval(n,e,...t){const{delegate:r}=G6;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=G6;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var $g=x(8737);class zc extends jg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return G6.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;G6.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(a){r=!0,o=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$g.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const x9={now:()=>(x9.delegate||Date).now(),delegate:void 0};class Zr{constructor(e,t=Zr.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Zr.now=x9.now;class A9 extends Zr{constructor(e,t=Zr.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const A5=new class Gg extends A9{}(class W3 extends zc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),On=new A9(zc);var a1=x(576),y1=x(4482),Hi=x(4671),q3=x(9468),Bn=x(5363);const L4=new g.GfV("7.4.1"),x4="__angularfire_symbol__analyticsIsSupportedValue",A4="__angularfire_symbol__analyticsIsSupported",T4="__angularfire_symbol__remoteConfigIsSupportedValue",N4="__angularfire_symbol__remoteConfigIsSupported",k4="__angularfire_symbol__messagingIsSupportedValue",P4="__angularfire_symbol__messagingIsSupported";globalThis[A4]||(globalThis[A4]=Fg().then(n=>globalThis[x4]=n).catch(()=>globalThis[x4]=!1)),globalThis[P4]||(globalThis[P4]=N6().then(n=>globalThis[k4]=n).catch(()=>globalThis[k4]=!1)),globalThis[N4]||(globalThis[N4]=t9().then(n=>globalThis[T4]=n).catch(()=>globalThis[T4]=!1));const K6=(n,e)=>{const t=e?[e]:(0,O2.getApps)(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(f=>{r.includes(f)||r.push(f)})}),r};function K3(){}class T5{constructor(e,t=A5){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const o=this.zone;return this.delegate.schedule(function(f){o.runGuarded(()=>{e.apply(this,[f])})},t,r)}}class T9{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K3,{},K3,K3)),t.pipe(function Vn(n,e,t){const r=(0,a1.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,y1.e)((o,a)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let p=!0;o.subscribe((0,S1.x)(a,y=>{var V;null===(V=r.next)||void 0===V||V.call(r,y),a.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),a.complete()},y=>{var V;p=!1,null===(V=r.error)||void 0===V||V.call(r,y),a.error(y)},()=>{var y,V;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(V=r.finalize)||void 0===V||V.call(r)}))}):Hi.y}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sc=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new T5(Zone.current)),this.insideAngular=t.run(()=>new T5(Zone.current,On)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z3(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Zg(n){return Z3().ngZone.runOutsideAngular(()=>n())}function F4(n){return Z3().ngZone.run(()=>n())}function D1(n){return Z3(),function N5(n){return function(t){return(t=t.lift(new T9(n.ngZone))).pipe((0,q3.R)(n.outsideAngular),(0,Bn.Q)(n.insideAngular))}}(Z3())(n)}const Yg=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),F4(()=>n.apply(void 0,r))},Y3=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=F4(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K3,{},K3,K3)))),r[a]=Yg(r[a],t));const o=Zg(()=>n.apply(this,r));if(!e){if(o instanceof Y1.y){const a=Z3();return o.pipe((0,q3.R)(a.outsideAngular),(0,Bn.Q)(a.insideAngular))}return F4(()=>o)}return o instanceof Y1.y?o.pipe(D1):o instanceof Promise?F4(()=>new Promise((a,f)=>o.then(p=>F4(()=>a(p)),p=>F4(()=>f(p))))):"function"==typeof o&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),o.apply(this,arguments)}:F4(()=>o)};class Yr{constructor(e){return e}}class Z6{constructor(){return(0,O2.getApps)()}}const Ec=new g.OlP("angularfire2._apps"),N9={provide:Yr,useFactory:function k5(n){return n&&1===n.length?n[0]:new Yr((0,O2.getApp)())},deps:[[new g.FiY,Ec]]},k9={provide:Z6,deps:[[new g.FiY,Ec]]};function P5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yr(r)}}let P9=(()=>{class n{constructor(t){(0,O2.registerVersion)("angularfire",L4.full,"core"),(0,O2.registerVersion)("angularfire",L4.full,"app"),(0,O2.registerVersion)("angular",g.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.Lbi))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[N9,k9]}),n})();function R9(n,...e){return{ngModule:P9,providers:[{provide:Ec,useFactory:P5(n),multi:!0,deps:[g.R0b,g.zs3,Sc,...e]}]}}const O9=Y3(O2.initializeApp,!0);x(8554);class F5{constructor(){return K6("auth")}}const U5=new Map,K9={activated:!1,tokenObservers:[]},zv={initialized:!1,enabled:!1};function qt(n){return U5.get(n)||K9}function Un(n,e){U5.set(n,e)}function J6(){return zv}class Lv{constructor(e,t,r,o,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,q.Z)(function*(){t.stop();try{t.pending=new Xe.BH,yield function xv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const L1=new Xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Y9(n){if(!qt(n).activated)throw L1.create("use-before-activation",{appName:n.name})}function n0(n,e){return r0.apply(this,arguments)}function r0(){return(r0=(0,q.Z)(function*({url:n,body:e},t){var r,o;const a={"Content-Type":"application/json"},f=t.getImmediate({optional:!0});if(f){const j=yield f.getHeartbeatsHeader();j&&(a["X-Firebase-Client"]=j)}const p={method:"POST",body:JSON.stringify(e),headers:a};let y,V;try{y=yield fetch(n,p)}catch(j){throw L1.create("fetch-network-error",{originalErrorMessage:null===(r=j)||void 0===r?void 0:r.message})}if(200!==y.status)throw L1.create("fetch-status-error",{httpStatus:y.status});try{V=yield y.json()}catch(j){throw L1.create("fetch-parse-error",{originalErrorMessage:null===(o=j)||void 0===o?void 0:o.message})}const H=V.ttl.match(/^([\d.]+)(s)$/);if(!H||!H[2]||isNaN(Number(H[1])))throw L1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${V.ttl}`});const z=1e3*Number(H[1]),T=Date.now();return{token:V.token,expireTimeMillis:T+z,issuedAtTimeMillis:T}})).apply(this,arguments)}function J9(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const zi="firebase-app-check-store";let Si=null;function W5(){return Si||(Si=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var a;e(L1.create("storage-open",{originalErrorMessage:null===(a=o.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(zi,{keyPath:"compositeKey"})}}catch(r){e(L1.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Si)}function Dc(){return(Dc=(0,q.Z)(function*(n,e){const r=(yield W5()).transaction(zi,"readwrite"),a=r.objectStore(zi).put({compositeKey:n,value:e});return new Promise((f,p)=>{a.onsuccess=y=>{f()},r.onerror=y=>{var V;p(L1.create("storage-set",{originalErrorMessage:null===(V=y.target.error)||void 0===V?void 0:V.message}))}})})).apply(this,arguments)}const o0=new Nn.Yd("@firebase/app-check");function nd(n,e){return(0,Xe.hl)()?function Tv(n,e){return function kv(n,e){return Dc.apply(this,arguments)}(function q5(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{o0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rd(){return J6().enabled}function Lc(){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,q.Z)(function*(){const n=J6();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yV={error:"UNKNOWN_ERROR"};function sd(n){return Xe.US.encodeString(JSON.stringify(n),!1)}function xc(n){return Z5.apply(this,arguments)}function Z5(){return(Z5=(0,q.Z)(function*(n,e=!1){const t=n.app;Y9(t);const r=qt(t);let a,o=r.token;if(!o){const y=yield r.cachedTokenPromise;y&&l0(y)&&(o=y)}if(!e&&o&&l0(o))return{token:o.token};let p,f=!1;if(rd()){r.exchangeTokenPromise||(r.exchangeTokenPromise=n0(J9(t,yield Lc()),n.heartbeatServiceProvider).then(V=>(r.exchangeTokenPromise=void 0,V)),f=!0);const y=yield r.exchangeTokenPromise;return yield nd(t,y),Un(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),f=!0),o=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?o0.warn(y.message):o0.error(y),a=y}return o?(p={token:o.token},Un(t,Object.assign(Object.assign({},r),{token:o})),yield nd(t,o)):p=Fv(a),f&&od(t,p),p})).apply(this,arguments)}function a0(n,e){const t=qt(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Un(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Y5(n){const{app:e}=n,t=qt(e);let r=t.tokenRefresher;r||(r=function id(n){const{app:e}=n;return new Lv((0,q.Z)(function*(){let r;if(r=qt(e).token?yield xc(n,!0):yield xc(n),r.error)throw r.error}),()=>!0,()=>{const t=qt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Un(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function od(n,e){const t=qt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function l0(n){return n.expireTimeMillis-Date.now()>0}function Fv(n){return{token:sd(yV),error:n}}class Ac{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qt(this.app);for(const t of e)a0(this.app,t.next);return Promise.resolve()}}const gd="app-check-internal";!function vd(){(0,O2._registerComponent)(new en.wA("app-check",n=>function Ov(n,e){return new Ac(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gd).initialize()})),(0,O2._registerComponent)(new en.wA(gd,n=>function Bv(n){return{getToken:e=>xc(n,e),addTokenListener:e=>function c0(n,e,t,r){const{app:o}=n,a=qt(o),f={next:t,error:r,type:e};if(Un(o,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,f]})),a.token&&l0(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),Y5(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Y5(n))}(n,"INTERNAL",e),removeTokenListener:e=>a0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,O2.registerVersion)("@firebase/app-check","0.5.12")}();class d0{constructor(){return K6("app-check")}}typeof window<"u"&&window;var Ye,Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={},r7=r7||{},H2=Qv||self;function h0(){}function Tc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var s7="closure_uid_"+(1e9*Math.random()>>>0),Xv=0;function Jv(n,e,t){return n.call.apply(n.bind,arguments)}function ey(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function l1(n,e,t){return(l1=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jv:ey).apply(null,arguments)}function p0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function u1(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,a){for(var f=Array(arguments.length-2),p=2;p<arguments.length;p++)f[p-2]=arguments[p];return e.prototype[o].apply(r,f)}}function U4(){this.s=this.s,this.o=this.o}var wd={};U4.prototype.s=!1,U4.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function _d(n){return Object.prototype.hasOwnProperty.call(n,s7)&&n[s7]||(n[s7]=++Xv)}(this);delete wd[n]}},U4.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vd=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},bd=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in o&&e.call(t,o[a],a,n)};function zd(n){return Array.prototype.concat.apply([],arguments)}function i7(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function m0(n){return/^[\s\xa0]*$/.test(n)}var d1,g0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function f1(n,e){return-1!=n.indexOf(e)}function v0(n,e){return n<e?-1:n>e?1:0}e:{var Sd=H2.navigator;if(Sd){var Ed=Sd.userAgent;if(Ed){d1=Ed;break e}}d1=""}function kc(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Id(n){const e={};for(const t in n)e[t]=n[t];return e}var o7="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X3(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let a=0;a<o7.length;a++)t=o7[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function c7(n){return c7[" "](n),n}c7[" "]=h0;var Ai,n,zV=f1(d1,"Opera"),J3=f1(d1,"Trident")||f1(d1,"MSIE"),y0=f1(d1,"Edge"),a7=y0||J3,l7=f1(d1,"Gecko")&&!(f1(d1.toLowerCase(),"webkit")&&!f1(d1,"Edge"))&&!(f1(d1,"Trident")||f1(d1,"MSIE"))&&!f1(d1,"Edge"),ny=f1(d1.toLowerCase(),"webkit")&&!f1(d1,"Edge");function Dd(){var n=H2.document;return n?n.documentMode:void 0}e:{var C0="",_0=(n=d1,l7?/rv:([^\);]+)(\)|;)/.exec(n):y0?/Edge\/([\d\.]+)/.exec(n):J3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ny?/WebKit\/(\S+)/.exec(n):zV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_0&&(C0=_0?_0[1]:""),J3){var M0=Dd();if(null!=M0&&M0>parseFloat(C0)){Ai=String(M0);break e}}Ai=C0}var Ld={};var sy=H2.document&&J3&&(Dd()||parseInt(Ai,10))||void 0,Ad=function(){if(!H2.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{H2.addEventListener("test",h0,e),H2.removeEventListener("test",h0,e)}catch{}return n}();function x1(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ti(n,e){if(x1.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(l7){e:{try{c7(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ti.Z.h.call(this)}}x1.prototype.h=function(){this.defaultPrevented=!0},u1(Ti,x1);var iy={2:"touch",3:"pen",4:"mouse"};Ti.prototype.h=function(){Ti.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pc="closure_listenable_"+(1e6*Math.random()|0),SV=0;function EV(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++SV,this.ca=this.fa=!1}function w0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function V0(n){this.src=n,this.g={},this.h=0}function f7(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],o=Vd(r,e);(a=0<=o)&&Array.prototype.splice.call(r,o,1),a&&(w0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function d7(n,e,t,r){for(var o=0;o<n.length;++o){var a=n[o];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return o}return-1}V0.prototype.add=function(n,e,t,r,o){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var f=d7(n,e,r,o);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new EV(e,this.src,a,!!r,o)).fa=t,n.push(e)),e};var h7="closure_lm_"+(1e6*Math.random()|0),p7={};function Td(n,e,t,r,o){if(r&&r.once)return kd(n,e,t,r,o);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Td(n,e[a],t,r,o);return null}return t=z0(t),n&&n[Pc]?n.N(e,t,Nc(r)?!!r.capture:!!r,o):Nd(n,e,t,!1,r,o)}function Nd(n,e,t,r,o,a){if(!e)throw Error("Invalid event type");var f=Nc(o)?!!o.capture:!!o,p=b0(n);if(p||(n[h7]=p=new V0(n)),(t=p.add(e,t,r,f,a)).proxy)return t;if(r=function oy(){var e=Rd;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ad||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Ni(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kd(n,e,t,r,o){if(Array.isArray(e)){for(var a=0;a<e.length;a++)kd(n,e[a],t,r,o);return null}return t=z0(t),n&&n[Pc]?n.O(e,t,Nc(r)?!!r.capture:!!r,o):Nd(n,e,t,!0,r,o)}function Pd(n,e,t,r,o){if(Array.isArray(e))for(var a=0;a<e.length;a++)Pd(n,e[a],t,r,o);else r=Nc(r)?!!r.capture:!!r,t=z0(t),n&&n[Pc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=d7(a=n.g[e],t,r,o))&&(w0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=b0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=d7(e,t,r,o)),(t=-1<n?e[n]:null)&&m7(t))}function m7(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Pc])f7(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ni(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=b0(e))?(f7(t,n),0==t.h&&(t.src=null,e[h7]=null)):w0(n)}}}function Ni(n){return n in p7?p7[n]:p7[n]="on"+n}function Rd(n,e){if(n.ca)n=!0;else{e=new Ti(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&m7(n),n=t.call(r,e)}return n}function b0(n){return(n=n[h7])instanceof V0?n:null}var H0="__closure_events_fn_"+(1e9*Math.random()>>>0);function z0(n){return"function"==typeof n?n:(n[H0]||(n[H0]=function(e){return n.handleEvent(e)}),n[H0])}function Ot(){U4.call(this),this.i=new V0(this),this.P=this,this.I=null}function Kt(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new x1(e,n);else if(e instanceof x1)e.target=e.target||n;else{var o=e;X3(e=new x1(r,n),o)}if(o=!0,t)for(var a=t.length-1;0<=a;a--){var f=e.g=t[a];o=S0(f,r,!0,e)&&o}if(o=S0(f=e.g=n,r,!0,e)&&o,o=S0(f,r,!1,e)&&o,t)for(a=0;a<t.length;a++)o=S0(f=e.g=t[a],r,!1,e)&&o}function S0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,a=0;a<e.length;++a){var f=e[a];if(f&&!f.ca&&f.capture==t){var p=f.listener,y=f.ia||f.src;f.fa&&f7(n.i,f),o=!1!==p.call(y,r)&&o}}return o&&!r.defaultPrevented}u1(Ot,U4),Ot.prototype[Pc]=!0,Ot.prototype.removeEventListener=function(n,e,t,r){Pd(this,n,e,t,r)},Ot.prototype.M=function(){if(Ot.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)w0(t[r]);delete n.g[e],n.h--}}this.I=null},Ot.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ot.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Fd=H2.JSON.stringify;function Od(){var n=Ud;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var g7,Bd=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ay,n=>n.reset());class ay{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ly(n){H2.setTimeout(()=>{throw n},0)}function es(n,e){g7||function v7(){var n=H2.Promise.resolve(void 0);g7=function(){n.then(y7)}}(),bn||(g7(),bn=!0),Ud.add(n,e)}var bn=!1,Ud=new class cy{constructor(){this.h=this.g=null}add(e,t){const r=Bd.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function y7(){for(var n;n=Od();){try{n.h.call(n.g)}catch(t){ly(t)}var e=Bd;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bn=!1}function j4(n,e){Ot.call(this),this.h=n||1,this.g=e||H2,this.j=l1(this.kb,this),this.l=Date.now()}function C7(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function _7(n,e,t){if("function"==typeof n)t&&(n=l1(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=l1(n.handleEvent,n)}return 2147483647<Number(e)?-1:H2.setTimeout(n,e||0)}function jd(n){n.g=_7(()=>{n.g=null,n.i&&(n.i=!1,jd(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}u1(j4,Ot),(Ye=j4.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(C7(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){j4.Z.M.call(this),C7(this),delete this.g};class E0 extends U4{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jd(this)}M(){super.M(),this.g&&(H2.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $4(n){U4.call(this),this.h=n,this.g={}}u1($4,U4);var $d=[];function Gd(n,e,t,r){Array.isArray(t)||(t&&($d[0]=t.toString()),t=$d);for(var o=0;o<t.length;o++){var a=Td(e,t[o],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function M7(n){kc(n.g,function(e,t){this.g.hasOwnProperty(t)&&m7(e)},n),n.g={}}function Rc(){this.g=!0}function ki(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IV(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var f=1;f<o.length;f++)o[f]=""}}}return Fd(t)}catch{return e}}(n,t)+(r?" "+r:"")})}$4.prototype.M=function(){$4.Z.M.call(this),M7(this)},$4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rc.prototype.Aa=function(){this.g=!1},Rc.prototype.info=function(){};var Jr={},I0=null;function Fc(){return I0=I0||new Ot}function D0(n){x1.call(this,Jr.Ma,n)}function ts(n){const e=Fc();Kt(e,new D0(e,n))}function qd(n,e){x1.call(this,Jr.STAT_EVENT,n),this.stat=e}function A1(n){const e=Fc();Kt(e,new qd(e,n))}function Kd(n,e){x1.call(this,Jr.Na,n),this.size=e}function Oc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return H2.setTimeout(function(){n()},e)}Jr.Ma="serverreachability",u1(D0,x1),Jr.STAT_EVENT="statevent",u1(qd,x1),Jr.Na="timingevent",u1(Kd,x1);var Bc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},L0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function V7(){}function Yd(){}V7.prototype.h=null;var A0,Uc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function b7(){x1.call(this,"d")}function x0(){x1.call(this,"c")}function T0(){}function Pi(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new $4(this),this.P=T1,this.W=new j4(n=a7?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qd}function Qd(){this.i=null,this.g="",this.h=!1}u1(b7,x1),u1(x0,x1),u1(T0,V7),T0.prototype.g=function(){return new XMLHttpRequest},T0.prototype.i=function(){return{}},A0=new T0;var T1=45e3,G4={},N0={};function H7(n,e,t){n.K=1,n.v=Oi(pr(e)),n.s=t,n.U=!0,fy(n,null)}function fy(n,e){n.F=Date.now(),e4(n),n.A=pr(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),oh(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Qd,n.g=vh(n.l,t?e:null,!n.s),0<n.O&&(n.L=new E0(l1(n.Ia,n,n.g),n.O)),Gd(n.V,n.g,"readystatechange",n.gb),e=n.H?Id(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ts(1),function w7(n,e,t,r,o,a){n.info(function(){if(n.g)if(a)for(var f="",p=a.split("&"),y=0;y<p.length;y++){var V=p[y].split("=");if(1<V.length){var H=V[0];V=V[1];var z=H.split("_");f=2<=z.length&&"type"==z[1]?f+(H+"=")+V+"&":f+(H+"=redacted&")}}else f=null;else f=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function dy(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function z7(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Xd(n,t),o==N0){4==e&&(n.o=4,A1(14),r=!1),ki(n.j,n.m,null,"[Incomplete Response]");break}if(o==G4){n.o=4,A1(15),ki(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ki(n.j,n.m,o,null),S7(n,o)}dy(n)&&o!=N0&&o!=G4&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,A1(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),P7(e),e.L=!0,A1(11))):(ki(n.j,n.m,t,"[Invalid Chunked Response]"),W4(n),jc(n))}function Xd(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?N0:(t=Number(e.substring(t,r)),isNaN(t)?G4:(r+=1)+t>e.length?N0:(e=e.substr(r,t),n.C=r+t,e))}function e4(n){n.Y=Date.now()+n.P,Jd(n,n.P)}function Jd(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Oc(l1(n.eb,n),e)}function Ri(n){n.B&&(H2.clearTimeout(n.B),n.B=null)}function jc(n){0==n.l.G||n.I||R7(n.l,n)}function W4(n){Ri(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,C7(n.W),M7(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function S7(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||F0(t.i,n)))if(t.I=n.N,!n.J&&F0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;$i(t),Yc(t)}Xc(t),A1(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Oc(l1(t.ab,t),6e3));if(1>=yy(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else rs(t,11)}else if((n.J||t.g==n)&&$i(t),!m0(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let V=o[e];if(t.U=V[0],V=V[1],2==t.G)if("c"==V[0]){t.J=V[1],t.la=V[2];const H=V[3];null!=H&&(t.ma=H,t.h.info("VER="+t.ma));const z=V[4];null!=z&&(t.za=z,t.h.info("SVER="+t.za));const T=V[5];null!=T&&"number"==typeof T&&0<T&&(t.K=r=1.5*T,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const J=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var a=r.i;!a.g&&(f1(J,"spdy")||f1(J,"quic")||f1(J,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(uh(a,a.h),a.h=null))}if(r.D){const ye=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,lt(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=B7(r,r.H?r.la:null,r.W),f.J){Cy(r.i,f);var p=f,y=r.K;y&&p.setTimeout(y),p.B&&(Ri(p),e4(p)),r.g=f}else mh(r);0<t.l.length&&j1(t)}else"stop"!=V[0]&&"close"!=V[0]||rs(t,7);else 3==t.G&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?rs(t,7):N7(t):"noop"!=V[0]&&t.j&&t.j.wa(V),t.A=0)}ts(4)}catch{}}function E7(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tc(n)||"string"==typeof n)bd(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Tc(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function hy(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Tc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var a=0;a<o;a++)e.call(void 0,r[a],t&&t[a],n)}}function q4(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof q4)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function k0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];K4(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)K4(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function K4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=Pi.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==Q4(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const H=Q4(this.g);var e=this.g.Da();const z=this.g.ba();if(!(3>H)&&(3!=H||a7||this.g&&(this.h.h||this.g.ga()||Hy(this.g)))){this.I||4!=H||7==e||ts(8==e||0>=z?3:2),Ri(this);var t=this.g.ba();this.N=t;t:if(dy(this)){var r=Hy(this.g);n="";var o=r.length,a=4==Q4(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){W4(this),jc(this);var f="";break t}this.h.i=new H2.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function Wd(n,e,t,r,o,a,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+a+" "+f})}(this.j,this.u,this.A,this.m,this.X,H,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m0(p)){var V=p;break t}}V=null}if(!(t=V)){this.i=!1,this.o=3,A1(12),W4(this),jc(this);break e}ki(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,S7(this,t)}this.U?(z7(this,H,f),a7&&this.i&&3==H&&(Gd(this.V,this.W,"tick",this.fb),this.W.start())):(ki(this.j,this.m,f,null),S7(this,f)),4==H&&W4(this),this.i&&!this.I&&(4==H?R7(this.l,this):(this.i=!1,e4(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,A1(12)):(this.o=0,A1(13)),W4(this),jc(this)}}}catch{}},Ye.fb=function(){if(this.g){var n=Q4(this.g),e=this.g.ga();this.C<e.length&&(Ri(this),z7(this,n,e),this.i&&4!=n&&e4(this))}},Ye.cancel=function(){this.I=!0,W4(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function uy(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ts(3),A1(17)),W4(this),this.o=2,jc(this)):Jd(this,this.Y-n)},(Ye=q4.prototype).R=function(){k0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return k0(this),this.g.concat()},Ye.get=function(n,e){return K4(this.h,n)?this.h[n]:e},Ye.set=function(n,e){K4(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],a=this.get(o);n.call(e,a,o,this)}};var $c=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fi(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Fi){this.g=void 0!==e?e:n.g,P0(this,n.j),this.s=n.s,Gc(this,n.i),t4(this,n.m),this.l=n.l,e=n.h;var t=new Bi;t.i=e.i,e.g&&(t.g=new q4(e.g),t.h=e.h),eh(this,t),this.o=n.o}else n&&(t=String(n).match($c))?(this.g=!!e,P0(this,t[1]||"",!0),this.s=R0(t[2]||""),Gc(this,t[3]||"",!0),t4(this,t[4]),this.l=R0(t[5]||"",!0),eh(this,t[6]||"",!0),this.o=R0(t[7]||"")):(this.g=!!e,this.h=new Bi(null,this.g))}function pr(n){return new Fi(n)}function P0(n,e,t){n.j=t?R0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gc(n,e,t){n.i=t?R0(e,!0):e}function t4(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eh(n,e,t){e instanceof Bi?(n.h=e,function ch(n,e){e&&!n.j&&(Z4(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(ih(this,r),oh(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Wc(e,gy)),n.h=new Bi(e,n.g))}function lt(n,e,t){n.h.set(e,t)}function Oi(n){return lt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function R0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,my),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function my(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fi.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wc(e,th,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wc(e,th,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wc(t,"/"==t.charAt(0)?rh:nh,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wc(t,sh)),n.join("")};var th=/[#\/\?@]/g,nh=/[#\?:]/g,rh=/[#\?]/g,gy=/[#\?@]/g,sh=/#/g;function Bi(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Z4(n){n.g||(n.g=new q4,n.h=0,n.i&&function I7(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var a=n[t].substring(0,r);o=n[t].substring(r+1)}else a=n[t];e(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ih(n,e){Z4(n),e=ns(n,e),K4(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,K4((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&k0(n)))}function D7(n,e){return Z4(n),e=ns(n,e),K4(n.g.h,e)}function oh(n,e,t){ih(n,e),0<t.length&&(n.i=null,n.g.set(ns(n,e),i7(t)),n.h+=t.length)}function ns(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function L7(n){this.l=n||vy,n=H2.PerformanceNavigationTiming?0<(n=H2.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(H2.g&&H2.g.Ea&&H2.g.Ea()&&H2.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Bi.prototype).add=function(n,e){Z4(this),this.i=null,n=ns(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){Z4(this),this.g.forEach(function(t,r){bd(t,function(o){n.call(e,o,r,this)},this)},this)},Ye.T=function(){Z4(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],a=0;a<o.length;a++)t.push(e[r]);return t},Ye.R=function(n){Z4(this);var e=[];if("string"==typeof n)D7(this,n)&&(e=zd(e,this.g.get(ns(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=zd(e,n[t])}return e},Ye.set=function(n,e){return Z4(this),this.i=null,D7(this,n=ns(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var f=o;""!==r[a]&&(f+="="+encodeURIComponent(String(r[a]))),n.push(f)}}return this.i=n.join("&")};var vy=10;function lh(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yy(n){return n.h?1:n.g?n.g.size:0}function F0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uh(n,e){n.g?n.g.add(e):n.h=e}function Cy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _y(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return i7(n.i)}function fh(){}function LV(){this.g=new fh}function xV(n,e,t){const r=t||"";try{E7(n,function(o,a){let f=o;Nc(o)&&(f=Fd(o)),e.push(r+a+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function x7(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Y4(n){this.l=n.$b||null,this.j=n.ib||!1}function A7(n,e){Ot.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=O0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}L7.prototype.cancel=function(){if(this.i=_y(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fh.prototype.stringify=function(n){return H2.JSON.stringify(n,void 0)},fh.prototype.parse=function(n){return H2.JSON.parse(n,void 0)},u1(Y4,V7),Y4.prototype.g=function(){return new A7(this.l,this.j)},Y4.prototype.i=function(n){return function(){return n}}({}),u1(A7,Ot);var O0=0;function qc(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ui(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ji(n)}function ji(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=A7.prototype).open=function(n,e){if(this.readyState!=O0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ji(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||H2).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ui(this)),this.readyState=O0},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof H2.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qc(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ui(this):ji(this),3==this.readyState&&qc(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,Ui(this))},Ye.Ta=function(n){this.g&&(this.response=n,Ui(this))},Ye.ha=function(){this.g&&Ui(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(A7.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var TV=H2.JSON.parse;function bt(n){Ot.call(this),this.headers=new q4,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=T7,this.K=this.L=!1}u1(bt,Ot);var T7="",My=/^https?$/i,wy=["POST","PUT"];function kV(n){return"content-type"==n.toLowerCase()}function Vy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dh(n),B0(n)}function dh(n){n.D||(n.D=!0,Kt(n,"complete"),Kt(n,"error"))}function Kc(n){if(n.h&&typeof r7<"u"&&(!n.C[1]||4!=Q4(n)||2!=n.ba()))if(n.v&&4==Q4(n))_7(n.Fa,0,n);else if(Kt(n,"readystatechange"),4==Q4(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var o=String(n.H).match($c)[1]||null;if(!o&&H2.self&&H2.self.location){var a=H2.self.location.protocol;o=a.substr(0,a.length-1)}r=!My.test(o?o.toLowerCase():"")}t=r}if(t)Kt(n,"complete"),Kt(n,"success");else{n.m=6;try{var f=2<Q4(n)?n.g.statusText:""}catch{f=""}n.j=f+" ["+n.ba()+"]",dh(n)}}finally{B0(n)}}}function B0(n,e){if(n.g){by(n);const t=n.g,r=n.C[0]?h0:null;n.g=null,n.C=null,e||Kt(n,"ready");try{t.onreadystatechange=r}catch{}}}function by(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(H2.clearTimeout(n.A),n.A=null)}function Q4(n){return n.g?n.g.readyState:0}function Hy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case T7:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hh(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function zy(n){let e="";return kc(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lt(n,e,t))}function Zc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sy(n){this.za=0,this.l=[],this.h=new Rc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zc("baseRetryDelayMs",5e3,n),this.$a=Zc("retryDelaySeedMs",1e4,n),this.Ya=Zc("forwardChannelMaxRetries",2,n),this.ra=Zc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new L7(n&&n.concurrentRequestLimit),this.Ca=new LV,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function N7(n){if(k7(n),3==n.G){var e=n.V++,t=pr(n.F);lt(t,"SID",n.J),lt(t,"RID",e),lt(t,"TYPE","terminate"),Qc(n,t),(e=new Pi(n,n.h,e,void 0)).K=2,e.v=Oi(pr(t)),t=!1,H2.navigator&&H2.navigator.sendBeacon&&(t=H2.navigator.sendBeacon(e.v.toString(),"")),!t&&H2.Image&&((new Image).src=e.v,t=!0),t||(e.g=vh(e.l,null),e.g.ea(e.v)),e.F=Date.now(),e4(e)}O7(n)}function Yc(n){n.g&&(P7(n),n.g.cancel(),n.g=null)}function k7(n){Yc(n),n.u&&(H2.clearTimeout(n.u),n.u=null),$i(n),n.i.cancel(),n.m&&("number"==typeof n.m&&H2.clearTimeout(n.m),n.m=null)}function ph(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&j1(n)}function j1(n){lh(n.i)||n.m||(n.m=!0,es(n.Ha,n),n.C=0)}function U0(n,e){var t;t=e?e.m:n.V++;const r=pr(n.F);lt(r,"SID",n.J),lt(r,"RID",t),lt(r,"AID",n.U),Qc(n,r),n.o&&n.s&&hh(r,n.o,n.s),t=new Pi(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=on(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),uh(n.i,t),H7(t,r,e)}function Qc(n,e){n.j&&E7({},function(t,r){lt(e,r,t)})}function on(n,e,t){t=Math.min(n.l.length,t);var r=n.j?l1(n.j.Oa,n.j,n):null;e:{var o=n.l;let a=-1;for(;;){const f=["count="+t];-1==a?0<t?(a=o[0].h,f.push("ofs="+a)):a=0:f.push("ofs="+a);let p=!0;for(let y=0;y<t;y++){let V=o[y].h;const H=o[y].g;if(V-=a,0>V)a=Math.max(0,o[y].h-100),p=!1;else try{xV(H,f,"req"+V+"_")}catch{r&&r(H)}}if(p){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function mh(n){n.g||n.u||(n.Y=1,es(n.Ga,n),n.A=0)}function Xc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Oc(l1(n.Ga,n),F7(n,n.A)),n.A++,0))}function P7(n){null!=n.B&&(H2.clearTimeout(n.B),n.B=null)}function gh(n){n.g=new Pi(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=pr(n.oa);lt(e,"RID","rpc"),lt(e,"SID",n.J),lt(e,"CI",n.N?"0":"1"),lt(e,"AID",n.U),Qc(n,e),lt(e,"TYPE","xmlhttp"),n.o&&n.s&&hh(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Oi(pr(e)),t.s=null,t.U=!0,fy(t,n)}function $i(n){null!=n.v&&(H2.clearTimeout(n.v),n.v=null)}function R7(n,e){var t=null;if(n.g==e){$i(n),P7(n),n.g=null;var r=2}else{if(!F0(n.i,e))return;t=e.D,Cy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Kt(r=Fc(),new Kd(r,t,e,o)),j1(n)}else mh(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Ey(n,e){return!(yy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Oc(l1(n.Ha,n,e),F7(n,n.C)),n.C++,0)))}(n,e)||2==r&&Xc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:rs(n,5);break;case 4:rs(n,10);break;case 3:rs(n,6);break;default:rs(n,2)}}function F7(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function rs(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=l1(n.jb,n);t||(t=new Fi("//www.google.com/images/cleardot.gif"),H2.location&&"http"==H2.location.protocol||P0(t,"https"),Oi(t)),function AV(n,e){const t=new Rc;if(H2.Image){const r=new Image;r.onload=p0(x7,t,r,"TestLoadImage: loaded",!0,e),r.onerror=p0(x7,t,r,"TestLoadImage: error",!1,e),r.onabort=p0(x7,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=p0(x7,t,r,"TestLoadImage: timeout",!1,e),H2.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else A1(2);n.G=0,n.j&&n.j.va(e),O7(n),k7(n)}function O7(n){n.G=0,n.I=-1,n.j&&((0!=_y(n.i).length||0!=n.l.length)&&(n.i.i.length=0,i7(n.l),n.l.length=0),n.j.ua())}function B7(n,e,t){let r=function DV(n){return n instanceof Fi?pr(n):new Fi(n,void 0)}(t);if(""!=r.i)e&&Gc(r,e+"."+r.i),t4(r,r.m);else{const o=H2.location;r=function py(n,e,t,r){var o=new Fi(null,void 0);return n&&P0(o,n),e&&Gc(o,e),t&&t4(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&kc(n.aa,function(o,a){lt(r,a,o)}),t=n.sa,(e=n.D)&&t&&lt(r,e,t),lt(r,"VER",n.ma),Qc(n,r),r}function vh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bt(t&&n.Ba&&!n.qa?new Y4({ib:!0}):n.qa)).L=n.H,e}function U7(){}function j0(){if(J3&&!(10<=Number(sy)))throw Error("Environmental error: no available transport.")}function N1(n,e){Ot.call(this),this.g=new Sy(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!m0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!m0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new X4(this)}function n4(n){b7.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function j7(){x0.call(this),this.status=1}function X4(n){this.g=n}(Ye=bt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():A0.g(),this.C=function Zd(n){return n.h||(n.h=n.i())}(this.u?this.u:A0),this.g.onreadystatechange=l1(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Vy(this,a)}n=t||"";const o=new q4(this.headers);r&&E7(r,function(a,f){o.set(f,a)}),r=function Hd(n){e:{var e=kV;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=H2.FormData&&n instanceof H2.FormData,!(0<=Vd(wy,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(a,f){this.g.setRequestHeader(f,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{by(this),0<this.B&&((this.K=function NV(n){return J3&&function ry(){return function ty(n){var e=Ld;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=g0(String(Ai)).split("."),t=g0("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var o=e[f]||"",a=t[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;n=v0(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||v0(0==o[2].length,0==a[2].length)||v0(o[2],a[2]),o=o[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=l1(this.pa,this)):this.A=_7(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Vy(this,a)}},Ye.pa=function(){typeof r7<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kt(this,"complete"),Kt(this,"abort"),B0(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B0(this,!0)),bt.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?Kc(this):this.cb())},Ye.cb=function(){Kc(this)},Ye.ba=function(){try{return 2<Q4(this)?this.g.status:-1}catch{return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),TV(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=Sy.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Pi(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Id(a),X3(a,this.P)):a=this.P),null===this.o&&(o.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=on(this,o,e),lt(t=pr(this.F),"RID",n),lt(t,"CVER",22),this.D&&lt(t,"X-HTTP-Session-Id",this.D),Qc(this,t),this.o&&a&&hh(t,this.o,a),uh(this.i,o),this.Ra&&lt(t,"TYPE","init"),this.ja?(lt(t,"$req",e),lt(t,"SID","null"),o.$=!0,H7(o,t,null)):H7(o,t,e),this.G=2}}else 3==this.G&&(n?U0(this,n):0==this.l.length||lh(this.i)||U0(this))},Ye.Ga=function(){if(this.u=null,gh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Oc(l1(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,A1(10),Yc(this),gh(this))},Ye.ab=function(){null!=this.v&&(this.v=null,Yc(this),Xc(this),A1(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),A1(2)):(this.h.info("Failed to ping google.com"),A1(1))},(Ye=U7.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},j0.prototype.g=function(n,e){return new N1(n,e)},u1(N1,Ot),N1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),es(l1(n.hb,n,e))),A1(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=B7(n,null,n.W),j1(n)},N1.prototype.close=function(){N7(this.g)},N1.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ph(this.g,e)}else this.v?((e={}).__data__=Fd(n),ph(this.g,e)):ph(this.g,n)},N1.prototype.M=function(){this.g.j=null,delete this.j,N7(this.g),delete this.g,N1.Z.M.call(this)},u1(n4,b7),u1(j7,x0),u1(X4,U7),X4.prototype.xa=function(){Kt(this.g,"a")},X4.prototype.wa=function(n){Kt(this.g,new n4(n))},X4.prototype.va=function(n){Kt(this.g,new j7(n))},X4.prototype.ua=function(){Kt(this.g,"b")},j0.prototype.createWebChannel=j0.prototype.g,N1.prototype.send=N1.prototype.u,N1.prototype.open=N1.prototype.m,N1.prototype.close=N1.prototype.close,Bc.NO_ERROR=0,Bc.TIMEOUT=8,Bc.HTTP_ERROR=6,L0.COMPLETE="complete",Yd.EventType=Uc,Uc.OPEN="a",Uc.CLOSE="b",Uc.ERROR="c",Uc.MESSAGE="d",Ot.prototype.listen=Ot.prototype.N,bt.prototype.listenOnce=bt.prototype.O,bt.prototype.getLastError=bt.prototype.La,bt.prototype.getLastErrorCode=bt.prototype.Da,bt.prototype.getStatus=bt.prototype.ba,bt.prototype.getResponseJson=bt.prototype.Qa,bt.prototype.getResponseText=bt.prototype.ga,bt.prototype.send=bt.prototype.ea;var r4=hr.createWebChannelTransport=function(){return new j0},Iy=hr.getStatEventTarget=function(){return Fc()},yh=hr.ErrorCode=Bc,Dy=hr.EventType=L0,PV=hr.Event=Jr,Ch=hr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ly=hr.FetchXmlHttpFactory=Y4,Jc=hr.WebChannel=Yd,RV=hr.XhrIo=bt;const $7="@firebase/firestore";class Zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let ss="9.9.4";const is=new Nn.Yd("@firebase/firestore");function ea(){return is.logLevel}function Ie(n,...e){if(is.logLevel<=Nn.in.DEBUG){const t=e.map($0);is.debug(`Firestore (${ss}): ${n}`,...t)}}function Ht(n,...e){if(is.logLevel<=Nn.in.ERROR){const t=e.map($0);is.error(`Firestore (${ss}): ${n}`,...t)}}function J4(n,...e){if(is.logLevel<=Nn.in.WARN){const t=e.map($0);is.warn(`Firestore (${ss}): ${n}`,...t)}}function $0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Qe(n="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+n;throw Ht(e),new Error(e)}function C2(n,e){n||Qe()}function We(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class OV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vh{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const a=V=>this.i!==o?(o=this.i,t(V)):Promise.resolve();let f=new Yt;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Yt,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const V=f;e.enqueueRetryable((0,q.Z)(function*(){yield V.promise,yield a(r.currentUser)}))},y=V=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(V=>y(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?y(V):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Yt)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(C2("string"==typeof r.accessToken),new wh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return C2(null===e||"string"==typeof e),new Zt(e)}}class xy{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(C2(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ay{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new xy(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BV{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const f=a.token!==this.A;return this.A=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?o(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(C2("string"==typeof t.token),this.A=t.token,new bh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function UV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ty{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=UV(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function S2(n,e){return n<e?-1:n>e?1:0}function Gi(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function ta(n){return n+"\0"}class pt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new pt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?S2(this.nanoseconds,e.nanoseconds):S2(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class M2{constructor(e){this.timestamp=e}static fromTimestamp(e){return new M2(e)}static min(){return new M2(new pt(0,0))}static max(){return new M2(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wi{constructor(e,t,r){void 0===t?t=0:t>e.length&&Qe(),void 0===r?r=e.length-t:r>e.length-t&&Qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),f=t.get(o);if(a<f)return-1;if(a>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class A2 extends Wi{construct(e,t,r){return new A2(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new A2(t)}static emptyPath(){return new A2([])}}const Hh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Wi{construct(e,t,r){return new mt(e,t,r)}static isValidIdentifier(e){return Hh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(0===r.length)throw new Ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new Ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===p?(f=!f,o++):"."!==p||f?(r+=p,o++):(a(),o++)}if(a(),f)throw new Ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(t)}static emptyPath(){return new mt([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(A2.fromString(e))}static fromName(e){return new Oe(A2.fromString(e).popFirst(5))}static empty(){return new Oe(A2.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===A2.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return A2.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new A2(e.slice()))}}class G0{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function na(n){return n.fields.find(e=>2===e.kind)}function s4(n){return n.fields.filter(e=>2!==e.kind)}G0.UNKNOWN_ID=-1;class G7{constructor(e,t){this.fieldPath=e,this.kind=t}}class q0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new q0(0,cn.min())}}function Ny(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=M2.fromTimestamp(1e9===r?new pt(t+1,0):new pt(t,r));return new cn(o,Oe.empty(),e)}function W7(n){return new cn(n.readTime,n.key,-1)}class cn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cn(M2.min(),Oe.empty(),-1)}static max(){return new cn(M2.max(),Oe.empty(),-1)}}function q7(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Oe.comparator(n.documentKey,e.documentKey),0!==t?t:S2(n.largestBatchId,e.largestBatchId))}const zh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function i4(n){return K0.apply(this,arguments)}function K0(){return K0=(0,q.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==zh)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}),K0.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let o=0,a=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++a,f&&a===o&&t()},y=>r(y))}),f=!0,a===o&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(o=>o?ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,o)=>{const a=e.length,f=new Array(a);let p=0;for(let y=0;y<a;y++){const V=y;t(e[V]).next(H=>{f[V]=H,++p,p===a&&r(f)},H=>o(H))}})}static doWhile(e,t){return new ne((r,o)=>{const a=()=>{!0===e()?t().next(()=>{a()},o):r()};a()})}}class Z0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Yt,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new os(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=K7(r.target.error);this.P.reject(new os(e,o))}}static open(e,t,r,o){try{return new Z0(t,e.transaction(o,r))}catch(a){throw new os(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ih(t)}}class jn{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===jn.D((0,Xe.z$)())&&Ht("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),o4(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xe.hl)())return!1;if(jn.N())return!0;const e=(0,Xe.z$)(),t=jn.D(e),r=0<t&&t<10,o=jn.k(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,q.Z)(function*(){return t.db||(Ie("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=f=>{r(f.target.result)},a.onblocked=()=>{o(new os(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=f=>{const p=f.target.error;o("VersionError"===p.name?new Ve(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ve(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new os(e,p))},a.onupgradeneeded=f=>{Ie("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.S.$(f.target.result,a.transaction,f.oldVersion,t.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var a=this;return(0,q.Z)(function*(){const f="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.F(e);const y=Z0.open(a.db,e,f?"readonly":"readwrite",r),V=o(y).next(H=>(y.V(),H)).catch(H=>(y.abort(H),ne.reject(H))).toPromise();return V.catch(()=>{}),yield y.v,V}catch(y){const V=y,H="FirebaseError"!==V.name&&p<3;if(Ie("SimpleDb","Transaction failed with error:",V.message,"Retrying:",H),a.close(),!H)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Eh{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return o4(this.U.delete())}}class os extends Ve{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cs(n){return"IndexedDbTransactionError"===n.name}class Ih{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ie("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),o4(r)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),o4(this.store.add(e))}get(e){return o4(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ie("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),o4(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),o4(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),a=[];return this.H(o,(f,p)=>{a.push(p)}).next(()=>a)}{const o=this.store.getAll(r.range);return new ne((a,f)=>{o.onerror=p=>{f(p.target.error)},o.onsuccess=p=>{a(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ne((o,a)=>{r.onerror=f=>{a(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}Y(e,t){Ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(a,f,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ne((r,o)=>{t.onerror=a=>{const f=K7(a.target.error);o(f)},t.onsuccess=a=>{const f=a.target.result;f?e(f.primaryKey,f.value).next(p=>{p?f.continue():r()}):r()}})}H(e,t){const r=[];return new ne((o,a)=>{e.onerror=f=>{a(f.target.error)},e.onsuccess=f=>{const p=f.target.result;if(!p)return void o();const y=new Eh(p),V=t(p.primaryKey,p.value,y);if(V instanceof ne){const H=V.catch(z=>(y.done(),ne.reject(z)));r.push(H)}y.isDone?o():null===y.G?p.continue():p.continue(y.G)}}).next(()=>ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function o4(n){return new ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=K7(r.target.error);t(o)}})}let Dh=!1;function K7(n){const e=jn.D((0,Xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dh||(Dh=!0,setTimeout(()=>{throw r},0)),r}}return n}class $V{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ie("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,q.Z)(function*(){t.task=null;try{Ie("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){cs(r)?Ie("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield i4(r)}yield t.nt(1)}))}}class GV{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,q.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,a=!0;return ne.doWhile(()=>!0===a&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!r.has(f))return Ie("IndexBackiller",`Processing collection: ${f}`),this.rt(e,f,o).next(p=>{o-=p,r.add(f)});a=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(a=>{const f=a.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ot(o,a)).next(p=>(Ie("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>f.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,a)=>{const f=W7(a);q7(f,r)>0&&(r=f)}),new cn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Lh(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function as(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ky(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$1.at=-1;class At{constructor(e,t){this.comparator=e,this.root=t||C1.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,C1.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,C1.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Z7(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Z7(this.root,e,this.comparator,!1)}getReverseIterator(){return new Z7(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Z7(this.root,e,this.comparator,!0)}}class Z7{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class C1{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??C1.RED,this.left=o??C1.EMPTY,this.right=a??C1.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new C1(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===a?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return C1.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return C1.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,C1.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,C1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}C1.EMPTY=null,C1.RED=!0,C1.BLACK=!1,C1.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new C1(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xh(this.data.getIterator())}getIteratorFrom(e){return new xh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(o,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nt(this.comparator);return t.data=e,t}}class xh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ra(n){return n.hasNext()?n.getNext():void 0}class Hn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new nt(mt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gi(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qt(t)}static fromUint8Array(e){const t=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return S2(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const qV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(n){if(C2(!!n),"string"==typeof n){let e=0;const t=qV.exec(n);if(C2(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:s(n.seconds),nanos:s(n.nanos)}}function s(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function i(n){return"string"==typeof n?Qt.fromBase64String(n):Qt.fromUint8Array(n)}function c(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function l(n){const e=n.mapValue.fields.__previous_value__;return c(e)?l(e):e}function u(n){const e=ls(n.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}class d{constructor(e,t,r,o,a,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class v{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new v("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof v&&e.projectId===this.projectId&&e.database===this.database}}function _(n){return null==n}function w(n){return 0===n&&1/n==-1/0}function b(n){return"number"==typeof n&&Number.isInteger(n)&&!w(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const E={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},D={nullValue:"NULL_VALUE"};function O(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c(n)?4:Y0(n)?9007199254740991:10:Qe()}function Z(n,e){if(n===e)return!0;const t=O(n);if(t!==O(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return u(n).isEqual(u(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const a=ls(r.timestampValue),f=ls(o.timestampValue);return a.seconds===f.seconds&&a.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,i(n.bytesValue).isEqual(i(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return s(r.geoPointValue.latitude)===s(o.geoPointValue.latitude)&&s(r.geoPointValue.longitude)===s(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return s(r.integerValue)===s(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const a=s(r.doubleValue),f=s(o.doubleValue);return a===f?w(a)===w(f):isNaN(a)&&isNaN(f)}return!1}(n,e);case 9:return Gi(n.arrayValue.values||[],e.arrayValue.values||[],Z);case 10:return function(r,o){const a=r.mapValue.fields||{},f=o.mapValue.fields||{};if(Lh(a)!==Lh(f))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===f[p]||!Z(a[p],f[p])))return!1;return!0}(n,e);default:return Qe()}var o}function ue(n,e){return void 0!==(n.values||[]).find(t=>Z(t,e))}function be(n,e){if(n===e)return 0;const t=O(n),r=O(e);if(t!==r)return S2(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return S2(n.booleanValue,e.booleanValue);case 2:return function(o,a){const f=s(o.integerValue||o.doubleValue),p=s(a.integerValue||a.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Ue(n.timestampValue,e.timestampValue);case 4:return Ue(u(n),u(e));case 5:return S2(n.stringValue,e.stringValue);case 6:return function(o,a){const f=i(o),p=i(a);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,a){const f=o.split("/"),p=a.split("/");for(let y=0;y<f.length&&y<p.length;y++){const V=S2(f[y],p[y]);if(0!==V)return V}return S2(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,a){const f=S2(s(o.latitude),s(a.latitude));return 0!==f?f:S2(s(o.longitude),s(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,a){const f=o.values||[],p=a.values||[];for(let y=0;y<f.length&&y<p.length;++y){const V=be(f[y],p[y]);if(V)return V}return S2(f.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===E.mapValue&&a===E.mapValue)return 0;if(o===E.mapValue)return 1;if(a===E.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),y=a.fields||{},V=Object.keys(y);p.sort(),V.sort();for(let H=0;H<p.length&&H<V.length;++H){const z=S2(p[H],V[H]);if(0!==z)return z;const T=be(f[p[H]],y[V[H]]);if(0!==T)return T}return S2(p.length,V.length)}(n.mapValue,e.mapValue);default:throw Qe()}}function Ue(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return S2(n,e);const t=ls(n),r=ls(e),o=S2(t.seconds,r.seconds);return 0!==o?o:S2(t.nanos,r.nanos)}function qe(n){return m2(n)}function m2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ls(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?i(n.bytesValue).toBase64():"referenceValue"in n?Oe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",a=!0;for(const f of r.values||[])a?a=!1:o+=",",o+=m2(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let a="{",f=!0;for(const p of o)f?f=!1:a+=",",a+=`${p}:${m2(r.fields[p])}`;return a+"}"}(n.mapValue):Qe();var e}function ge(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function h2(n){return!!n&&"integerValue"in n}function T2(n){return!!n&&"arrayValue"in n}function it(n){return!!n&&"nullValue"in n}function e3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qi(n){return!!n&&"mapValue"in n}function us(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return as(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=us(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=us(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Y0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Y7(n){return"nullValue"in n?D:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ge(v.empty(),Oe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Qe()}function Q7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ge(v.empty(),Oe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?E:Qe()}function Q0(n,e){const t=be(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function X0(n,e){const t=be(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=us(t)}setAll(e){let t=mt.emptyPath(),r={},o=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,o),r={},o=[],t=p.popLast()}f?r[p.lastSegment()]=us(f):o.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());qi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Z(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];qi(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){as(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Bt(us(this.value))}}function J0(n){const e=[];return as(n.fields,(t,r)=>{const o=new mt([t]);if(qi(r)){const a=J0(r.mapValue).fields;if(0===a.length)e.push(o);else for(const f of a)e.push(o.child(f))}else e.push(o)}),new Hn(e)}class gt{constructor(e,t,r,o,a,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=a,this.documentState=f}static newInvalidDocument(e){return new gt(e,0,M2.min(),M2.min(),Bt.empty(),0)}static newFoundDocument(e,t,r){return new gt(e,1,t,M2.min(),r,0)}static newNoDocument(e,t){return new gt(e,2,t,M2.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new gt(e,3,t,M2.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=M2.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class WN{constructor(e,t=null,r=[],o=[],a=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=f,this.endAt=p,this.ht=null}}function KV(n,e=null,t=[],r=[],o=null,a=null,f=null){return new WN(n,e,t,r,o,a,f)}function sa(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+qe(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qe(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qe(r)).join(",")),e.ht=t}return e.ht}function X7(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!tk(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Z(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JV(n.startAt,e.startAt)&&JV(n.endAt,e.endAt)}function Ah(n){return Oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Th(n,e){return n.filters.filter(t=>t instanceof k1&&t.field.isEqual(e))}function ZV(n,e,t){let r=D,o=!0;for(const a of Th(n,e)){let f=D,p=!0;switch(a.op){case"<":case"<=":f=Y7(a.value);break;case"==":case"in":case">=":f=a.value;break;case">":f=a.value,p=!1;break;case"!=":case"not-in":f=D}Q0({value:r,inclusive:o},{value:f,inclusive:p})<0&&(r=f,o=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const f=t.position[a];Q0({value:r,inclusive:o},{value:f,inclusive:t.inclusive})<0&&(r=f,o=t.inclusive);break}return{value:r,inclusive:o}}function YV(n,e,t){let r=E,o=!0;for(const a of Th(n,e)){let f=E,p=!0;switch(a.op){case">=":case">":f=Q7(a.value),p=!1;break;case"==":case"in":case"<=":f=a.value;break;case"<":f=a.value,p=!1;break;case"!=":case"not-in":f=E}X0({value:r,inclusive:o},{value:f,inclusive:p})>0&&(r=f,o=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const f=t.position[a];X0({value:r,inclusive:o},{value:f,inclusive:t.inclusive})>0&&(r=f,o=t.inclusive);break}return{value:r,inclusive:o}}class k1 extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new KN(e,t,r):"array-contains"===t?new QN(e,r):"in"===t?new XN(e,r):"not-in"===t?new JN(e,r):"array-contains-any"===t?new ek(e,r):new k1(e,t,r)}static lt(e,t,r){return"in"===t?new ZN(e,r):new YN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(be(t,this.value)):null!==t&&O(this.value)===O(t)&&this.ft(be(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class KN extends k1{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.ft(t)}}class ZN extends k1{constructor(e,t){super(e,"in",t),this.keys=QV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YN extends k1{constructor(e,t){super(e,"not-in",t),this.keys=QV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class QN extends k1{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return T2(t)&&ue(t.arrayValue,this.value)}}class XN extends k1{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ue(this.value.arrayValue,t)}}class JN extends k1{constructor(e,t){super(e,"not-in",t)}matches(e){if(ue(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ue(this.value.arrayValue,t)}}class ek extends k1{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!T2(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ue(this.value.arrayValue,r))}}class Ki{constructor(e,t){this.position=e,this.inclusive=t}}class e8{constructor(e,t="asc"){this.field=e,this.dir=t}}function tk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function XV(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],f=n.position[o];if(r=a.field.isKeyField()?Oe.comparator(Oe.fromName(f.referenceValue),t.key):be(f,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function JV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Z(n.position[t],e.position[t]))return!1;return!0}class fs{constructor(e,t=null,r=[],o=[],a=null,f="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=f,this.startAt=p,this.endAt=y,this._t=null,this.wt=null}}function eb(n,e,t,r,o,a,f,p){return new fs(n,e,t,r,o,a,f,p)}function t8(n){return new fs(n)}function tb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Py(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ry(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Fy(n){return null!==n.collectionGroup}function n8(n){const e=We(n);if(null===e._t){e._t=[];const t=Ry(e),r=Py(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new e8(t)),e._t.push(new e8(mt.keyField(),"asc"));else{let o=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(o=!0);if(!o){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new e8(mt.keyField(),a))}}}return e._t}function zn(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=KV(e.path,e.collectionGroup,n8(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of n8(e))t.push(new e8(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ki(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Ki(e.startAt.position,e.startAt.inclusive):null;e.wt=KV(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Nh(n,e,t){return new fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J7(n,e){return X7(zn(n),zn(e))&&n.limitType===e.limitType}function nb(n){return`${sa(zn(n))}|lt:${n.limitType}`}function Oy(n){return`Query(target=${function qN(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${qe(r.value)}`;var r}).join(", ")}]`),_(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>qe(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>qe(t)).join(",")),`Target(${e})`}(zn(n))}; limitType=${n.limitType})`}function By(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Oe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,a,f){const p=XV(o,a,f);return o.inclusive?p<=0:p<0}(t.startAt,n8(t),r)||t.endAt&&!function(o,a,f){const p=XV(o,a,f);return o.inclusive?p>=0:p>0}(t.endAt,n8(t),r)));var t,r}function rb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sb(n){return(e,t)=>{let r=!1;for(const o of n8(n)){const a=nk(o,e,t);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function nk(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(o,a,f){const p=a.data.field(o),y=f.data.field(o);return null!==p&&null!==y?be(p,y):Qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}function ib(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w(e)?"-0":e}}function ob(n){return{integerValue:""+n}}function cb(n,e){return b(e)?ob(e):ib(n,e)}class kh{constructor(){this._=void 0}}function rk(n,e,t){return n instanceof r8?function(r,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(a.fields.__previous_value__=o),{mapValue:a}}(t,e):n instanceof ia?lb(n,e):n instanceof oa?ub(n,e):function(r,o){const a=ab(r,o),f=fb(a)+fb(r.yt);return h2(a)&&h2(r.yt)?ob(f):ib(r.It,f)}(n,e)}function sk(n,e,t){return n instanceof ia?lb(n,e):n instanceof oa?ub(n,e):t}function ab(n,e){return n instanceof s8?h2(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class r8 extends kh{}class ia extends kh{constructor(e){super(),this.elements=e}}function lb(n,e){const t=db(e);for(const r of n.elements)t.some(o=>Z(o,r))||t.push(r);return{arrayValue:{values:t}}}class oa extends kh{constructor(e){super(),this.elements=e}}function ub(n,e){let t=db(e);for(const r of n.elements)t=t.filter(o=>!Z(o,r));return{arrayValue:{values:t}}}class s8 extends kh{constructor(e,t){super(),this.It=e,this.yt=t}}function fb(n){return s(n.integerValue||n.doubleValue)}function db(n){return T2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class eu{constructor(e,t){this.field=e,this.transform=t}}class ok{constructor(e,t){this.version=e,this.transformResults=t}}class zt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rh{}function hb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new o8(n.key,zt.none()):new i8(n.key,n.data,zt.none());{const t=n.data,r=Bt.empty();let o=new nt(mt.comparator);for(let a of e.fields)if(!o.has(a)){let f=t.field(a);null===f&&a.length>1&&(a=a.popLast(),f=t.field(a)),null===f?r.delete(a):r.set(a,f),o=o.add(a)}return new ds(n.key,r,new Hn(o.toArray()),zt.none())}}function ck(n,e,t){n instanceof i8?function(r,o,a){const f=r.value.clone(),p=gb(r.fieldTransforms,o,a.transformResults);f.setAll(p),o.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ds?function(r,o,a){if(!Ph(r.precondition,o))return void o.convertToUnknownDocument(a.version);const f=gb(r.fieldTransforms,o,a.transformResults),p=o.data;p.setAll(mb(r)),p.setAll(f),o.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tu(n,e,t,r){return n instanceof i8?function(o,a,f,p){if(!Ph(o.precondition,a))return f;const y=o.value.clone(),V=vb(o.fieldTransforms,p,a);return y.setAll(V),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof ds?function(o,a,f,p){if(!Ph(o.precondition,a))return f;const y=vb(o.fieldTransforms,p,a),V=a.data;return V.setAll(mb(o)),V.setAll(y),a.convertToFoundDocument(a.version,V).setHasLocalMutations(),null===f?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(H=>H.field))}(n,e,t,r):(f=t,Ph(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):f);var a,f}function ak(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=ab(r.transform,o||null);null!=a&&(null===t&&(t=Bt.empty()),t.set(r.field,a))}return t||null}function pb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Gi(t,r,(o,a)=>function ik(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ia&&r instanceof ia||t instanceof oa&&r instanceof oa?Gi(t.elements,r.elements,Z):t instanceof s8&&r instanceof s8?Z(t.yt,r.yt):t instanceof r8&&r instanceof r8);var t,r}(o,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class i8 extends Rh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Rh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gb(n,e,t){const r=new Map;C2(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],f=a.transform,p=e.data.field(a.field);r.set(a.field,sk(f,p,t[o]))}return r}function vb(n,e,t){const r=new Map;for(const o of n){const a=o.transform,f=t.data.field(o.field);r.set(o.field,rk(a,f,e))}return r}class o8 extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uy extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lk{constructor(e){this.count=e}}var Xt,q2;function yb(n){switch(n){default:return Qe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function Cb(n){if(void 0===n)return Ht("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Xt.OK:return oe.OK;case Xt.CANCELLED:return oe.CANCELLED;case Xt.UNKNOWN:return oe.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return oe.INTERNAL;case Xt.UNAVAILABLE:return oe.UNAVAILABLE;case Xt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Xt.NOT_FOUND:return oe.NOT_FOUND;case Xt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Xt.ABORTED:return oe.ABORTED;case Xt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Xt.DATA_LOSS:return oe.DATA_LOSS;default:return Qe()}}(q2=Xt||(Xt={}))[q2.OK=0]="OK",q2[q2.CANCELLED=1]="CANCELLED",q2[q2.UNKNOWN=2]="UNKNOWN",q2[q2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q2[q2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q2[q2.NOT_FOUND=5]="NOT_FOUND",q2[q2.ALREADY_EXISTS=6]="ALREADY_EXISTS",q2[q2.PERMISSION_DENIED=7]="PERMISSION_DENIED",q2[q2.UNAUTHENTICATED=16]="UNAUTHENTICATED",q2[q2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q2[q2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q2[q2.ABORTED=10]="ABORTED",q2[q2.OUT_OF_RANGE=11]="OUT_OF_RANGE",q2[q2.UNIMPLEMENTED=12]="UNIMPLEMENTED",q2[q2.INTERNAL=13]="INTERNAL",q2[q2.UNAVAILABLE=14]="UNAVAILABLE",q2[q2.DATA_LOSS=15]="DATA_LOSS";class Zi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,a]of r)if(this.equalsFn(o,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return ky(this.inner)}size(){return this.innerSize}}const uk=new At(Oe.comparator);function Sn(){return uk}const _b=new At(Oe.comparator);function nu(...n){let e=_b;for(const t of n)e=e.insert(t.key,t);return e}function Mb(n){let e=_b;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function t3(){return ru()}function wb(){return ru()}function ru(){return new Zi(n=>n.toString(),(n,e)=>n.isEqual(e))}const fk=new At(Oe.comparator),dk=new nt(Oe.comparator);function N2(...n){let e=dk;for(const t of n)e=e.add(t);return e}const hk=new nt(S2);function Fh(){return hk}class su{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,t)),new su(M2.min(),r,Fh(),Sn(),N2())}}class iu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new iu(Qt.EMPTY_BYTE_STRING,t,N2(),N2(),N2())}}class Oh{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class Vb{constructor(e,t){this.targetId=e,this.At=t}}class bb{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Hb{constructor(){this.Rt=0,this.bt=Sb(),this.Pt=Qt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=N2(),t=N2(),r=N2();return this.bt.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Qe()}}),new iu(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=Sb()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class pk{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Sn(),this.qt=zb(),this.Kt=new nt(S2)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const a=o.target;if(Ah(a))if(0===r){const f=new Oe(a.path);this.jt(t,f,gt.newNoDocument(f,M2.min()))}else C2(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,f)=>{const p=this.Xt(f);if(p){if(a.current&&Ah(p.target)){const y=new Oe(p.target.path);null!==this.Ut.get(y)||this.ee(f,y)||this.jt(f,y,gt.newNoDocument(y,e))}a.Dt&&(t.set(f,a.xt()),a.Nt())}});let r=N2();this.qt.forEach((a,f)=>{let p=!0;f.forEachWhile(y=>{const V=this.Xt(y);return!V||2===V.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.Ut.forEach((a,f)=>f.setReadTime(e));const o=new su(e,t,this.Kt,this.Ut,r);return this.Ut=Sn(),this.qt=zb(),this.Kt=new nt(S2),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Hb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new nt(S2),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Hb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function zb(){return new At(Oe.comparator)}function Sb(){return new At(Oe.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vk{constructor(e,t){this.databaseId=e,this.gt=t}}function ou(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(n,e){return n.gt?e.toBase64():e.toUint8Array()}function yk(n,e){return ou(n,e.toTimestamp())}function _1(n){return C2(!!n),M2.fromTimestamp(function(e){const t=ls(e);return new pt(t.seconds,t.nanos)}(n))}function jy(n,e){return(t=n,new A2(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ib(n){const e=A2.fromString(n);return C2(Rb(e)),e}function cu(n,e){return jy(n.databaseId,e.path)}function n3(n,e){const t=Ib(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(Lb(t))}function $y(n,e){return jy(n.databaseId,e)}function Db(n){const e=Ib(n);return 4===e.length?A2.emptyPath():Lb(e)}function au(n){return new A2(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lb(n){return C2(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xb(n,e,t){return{name:cu(n,e),fields:t.value.mapValue.fields}}function Ab(n,e,t){const r=n3(n,e.name),o=_1(e.updateTime),a=new Bt({mapValue:{fields:e.fields}}),f=gt.newFoundDocument(r,o,a);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function lu(n,e){let t;if(e instanceof i8)t={update:xb(n,e.key,e.value)};else if(e instanceof o8)t={delete:cu(n,e.key)};else if(e instanceof ds)t={update:xb(n,e.key,e.data),updateMask:Sk(e.fieldMask)};else{if(!(e instanceof Uy))return Qe();t={verify:cu(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const f=a.transform;if(f instanceof r8)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ia)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof oa)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof s8)return{fieldPath:a.field.canonicalString(),increment:f.yt};throw Qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:yk(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Qe()),t;var o}function Gy(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?zt.updateTime(_1(o.updateTime)):void 0!==o.exists?zt.exists(o.exists):zt.none():zt.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(a,f){let p=null;"setToServerValue"in f?(C2("REQUEST_TIME"===f.setToServerValue),p=new r8):"appendMissingElements"in f?p=new ia(f.appendMissingElements.values||[]):"removeAllFromArray"in f?p=new oa(f.removeAllFromArray.values||[]):"increment"in f?p=new s8(a,f.increment):Qe();const y=mt.fromServerFormat(f.fieldPath);return new eu(y,p)}(n,o)):[];var o;if(e.update){const o=n3(n,e.update.name),a=new Bt({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Hn((e.updateMask.fieldPaths||[]).map(V=>mt.fromServerFormat(V)));return new ds(o,a,f,t,r)}return new i8(o,a,t,r)}if(e.delete){const o=n3(n,e.delete);return new o8(o,t)}if(e.verify){const o=n3(n,e.verify);return new Uy(o,t)}return Qe()}function Tb(n,e){return{documents:[$y(n,e.path)]}}function Nb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=$y(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$y(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0===y.length)return;const V=y.map(H=>function(z){if("=="===z.op){if(e3(z.value))return{unaryFilter:{field:c8(z.field),op:"IS_NAN"}};if(it(z.value))return{unaryFilter:{field:c8(z.field),op:"IS_NULL"}}}else if("!="===z.op){if(e3(z.value))return{unaryFilter:{field:c8(z.field),op:"IS_NOT_NAN"}};if(it(z.value))return{unaryFilter:{field:c8(z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:c8(z.field),op:bk(z.op),value:z.value}}}(H));return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}(e.filters);o&&(t.structuredQuery.where=o);const a=function(y){if(0!==y.length)return y.map(V=>{return{field:c8((H=V).field),direction:Vk(H.dir)};var H})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const f=(V=e.limit,n.gt||_(V)?V:{value:V});var V,p,y;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function kb(n){let e=Db(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){C2(1===r);const H=t.from[0];H.allDescendants?o=H.collectionId:e=e.child(H.collectionId)}let a=[];t.where&&(a=Pb(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(H=>{return new e8(a8((z=H).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));let p=null;t.limit&&(p=function(H){let z;return z="object"==typeof H?H.value:H,_(z)?null:z}(t.limit));let y=null;var H;t.startAt&&(y=new Ki((H=t.startAt).values||[],!!H.before));let V=null;return t.endAt&&(V=function(H){return new Ki(H.values||[],!H.before)}(t.endAt)),eb(e,o,f,a,p,"F",y,V)}function Pb(n){return n?void 0!==n.unaryFilter?[zk(n)]:void 0!==n.fieldFilter?[Hk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Pb(e)).reduce((e,t)=>e.concat(t)):Qe():[]}function Vk(n){return mk[n]}function bk(n){return gk[n]}function c8(n){return{fieldPath:n.canonicalString()}}function a8(n){return mt.fromServerFormat(n.fieldPath)}function Hk(n){return k1.create(a8(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(n.fieldFilter.op),n.fieldFilter.value)}function zk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=a8(n.unaryFilter.field);return k1.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=a8(n.unaryFilter.field);return k1.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=a8(n.unaryFilter.field);return k1.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=a8(n.unaryFilter.field);return k1.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function Sk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function an(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fb(e)),e=Ek(n.get(t),e);return Fb(e)}function Ek(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Fb(n){return n+"\x01\x01"}function r3(n){const e=n.length;if(C2(e>=2),2===e)return C2("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),A2.emptyPath();const t=e-2,r=[];let o="";for(let a=0;a<e;){const f=n.indexOf("\x01",a);switch((f<0||f>t)&&Qe(),n.charAt(f+1)){case"\x01":const p=n.substring(a,f);let y;0===o.length?y=p:(o+=p,y=o,o=""),r.push(y);break;case"\x10":o+=n.substring(a,f),o+="\0";break;case"\x11":o+=n.substring(a,f+1);break;default:Qe()}a=f+2}return new A2(r)}const Ob=["userId","batchId"];function Bh(n,e){return[n,an(e)]}function Bb(n,e,t){return[n,an(e),t]}const Ik={},Dk=["prefixPath","collectionGroup","readTime","documentId"],Lk=["prefixPath","collectionGroup","documentId"],xk=["collectionGroup","readTime","prefixPath","documentId"],Ak=["canonicalId","targetId"],Tk=["targetId","path"],Nk=["path","targetId"],kk=["collectionId","parent"],Pk=["indexId","uid"],Rk=["uid","sequenceNumber"],Fk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ok=["indexId","uid","orderedDocumentKey"],Bk=["userId","collectionPath","documentId"],Uk=["userId","collectionPath","largestBatchId"],jk=["userId","collectionGroup","largestBatchId"],Ub=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$k=[...Ub,"documentOverlays"],jb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$b=jb,Gk=[...$b,"indexConfiguration","indexState","indexEntries"];class Wy extends Sh{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function M1(n,e){const t=We(n);return jn.O(t.ie,e)}class qy{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&ck(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wb();return this.mutations.forEach(o=>{const a=e.get(o.key),f=a.overlayedDocument;let p=this.applyToLocalView(f,a.mutatedFields);p=t.has(o.key)?null:p;const y=hb(f,p);null!==y&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(M2.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),N2())}isEqual(e){return this.batchId===e.batchId&&Gi(this.mutations,e.mutations,(t,r)=>pb(t,r))&&Gi(this.baseMutations,e.baseMutations,(t,r)=>pb(t,r))}}class Ky{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){C2(e.mutations.length===r.length);let o=fk;const a=e.mutations;for(let f=0;f<a.length;f++)o=o.insert(a[f].key,r[f].version);return new Ky(e,t,r,o)}}class Zy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yi{constructor(e,t,r,o,a=M2.min(),f=M2.min(),p=Qt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Gb{constructor(e){this.re=e}}function Wb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Uh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cu(o=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ou(o,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ca(e.version)};else{if(!e.isUnknownDocument())return Qe();r.unknownDocument={path:t.path.toArray(),version:ca(e.version)}}var o,a;return r}function Uh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ca(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function aa(n){const e=new pt(n.seconds,n.nanoseconds);return M2.fromTimestamp(e)}function la(n,e){const t=(e.baseMutations||[]).map(a=>Gy(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const f=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(f.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Gy(n.re,a)),o=pt.fromMillis(e.localWriteTimeMs);return new qy(e.batchId,o,t,r)}function uu(n){const e=aa(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?aa(n.lastLimboFreeSnapshotVersion):M2.min();let r;var o;return void 0!==n.query.documents?(C2(1===(o=n.query).documents.length),r=zn(t8(Db(o.documents[0])))):r=zn(kb(n.query)),new Yi(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Qt.fromBase64String(n.resumeToken))}function qb(n,e){const t=ca(e.snapshotVersion),r=ca(e.lastLimboFreeSnapshotVersion);let o;o=Ah(e.target)?Tb(n.re,e.target):Nb(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sa(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Yy(n){const e=kb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Nh(e,e.limit,"L"):e}function Qy(n,e){return new Zy(e.largestBatchId,Gy(n.re,e.overlayMutation))}function Kb(n,e){const t=e.path.lastSegment();return[n,an(e.path.popLast()),t]}function Zb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ca(r.readTime),documentKey:an(r.documentKey.path),largestBatchId:r.largestBatchId}}class qk{getBundleMetadata(e,t){return Yb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:aa(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Yb(e).put({bundleId:(r=t).id,createTime:ca(_1(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Qb(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Yy(o.bundledQuery),readTime:aa(o.readTime)};var o})}saveNamedQuery(e,t){return Qb(e).put({name:(r=t).name,readTime:ca(_1(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Yb(n){return M1(n,"bundles")}function Qb(n){return M1(n,"namedQueries")}class jh{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new jh(e,t.uid||"")}getOverlay(e,t){return fu(e).get(Kb(this.userId,t)).next(r=>r?Qy(this.It,r):null)}getOverlays(e,t){const r=t3();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((a,f)=>{const p=new Zy(t,f);o.push(this.ue(e,p))}),ne.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(f=>o.add(an(f.getCollectionPath())));const a=[];return o.forEach(f=>{const p=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);a.push(fu(e).Y("collectionPathOverlayIndex",p))}),ne.waitFor(a)}getOverlaysForCollection(e,t,r){const o=t3(),a=an(t),f=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return fu(e).W("collectionPathOverlayIndex",f).next(p=>{for(const y of p){const V=Qy(this.It,y);o.set(V.getKey(),V)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const a=t3();let f;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fu(e).Z({index:"collectionGroupOverlayIndex",range:p},(y,V,H)=>{const z=Qy(this.It,V);a.size()<o||z.largestBatchId===f?(a.set(z.getKey(),z),f=z.largestBatchId):H.done()}).next(()=>a)}ue(e,t){return fu(e).put(function(r,o,a){const[f,p,y]=Kb(o,a.mutation.key);return{userId:o,collectionPath:p,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:lu(r.re,a.mutation)}}(this.It,this.userId,t))}}function fu(n){return M1(n,"documentOverlays")}class ua{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(s(e.integerValue));else if("doubleValue"in e){const r=s(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),w(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(i(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Y0(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Qe()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),Oe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Kk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Xb(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const a=Kk(255&t[o]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ua.Te=new ua;class Zk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=Xb(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=Xb(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Yk{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Qk{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class du{constructor(){this.Be=new Zk,this.Le=new Yk(this.Be),this.Ue=new Qk(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class fa{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fa(this.indexId,this.documentKey,this.arrayValue,r)}}function da(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Jb(n.arrayValue,e.arrayValue),0!==t?t:(t=Jb(n.directionalValue,e.directionalValue),0!==t?t:Oe.comparator(n.documentKey,e.documentKey)))}function Jb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Xk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=na(e);if(void 0!==t&&!this.ze(t))return!1;const r=s4(e);let o=0,a=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const f=r[o];if(!this.He(this.je,f)||!this.Je(this.Ge[a++],f))return!1;++o}for(;o<r.length;++o){const f=r[o];if(a>=this.Ge.length||!this.Je(this.Ge[a++],f))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Jk{constructor(){this.Ye=new Xy}addToCollectionParentIndex(e,t){return this.Ye.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(cn.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(cn.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class Xy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new nt(A2.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new nt(A2.comparator)).toArray()}}const $h=new Uint8Array(0);class eP{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Xy,this.Ze=new Zi(r=>sa(r),(r,o)=>X7(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:an(o)};return eH(e).put(a)}return ne.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[ta(t),""],!1,!0);return eH(e).W(o).next(a=>{for(const f of a){if(f.collectionId!==t)break;r.push(r3(f.parent))}return r})}addFieldIndex(e,t){const r=Gh(e),o={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var f;delete o.indexId;const a=r.add(o);if(t.indexState){const f=pu(e);return a.next(p=>{f.put(Zb(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Gh(e),o=pu(e),a=hu(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=hu(e);let o=!0;const a=new Map;return ne.forEach(this.tn(t),f=>this.en(e,f).next(p=>{o&&(o=!!p),a.set(f,p)})).next(()=>{if(o){let f=N2();const p=[];return ne.forEach(a,(y,V)=>{var H;Ie("IndexedDbIndexManager",`Using index ${H=y,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(s2=>`${s2.fieldPath}:${s2.kind}`).join(",")}`} to execute ${sa(t)}`);const z=function(s2,n2){const e2=na(n2);if(void 0===e2)return null;for(const V2 of Th(s2,e2.fieldPath))switch(V2.op){case"array-contains-any":return V2.value.arrayValue.values||[];case"array-contains":return[V2.value]}return null}(V,y),T=function(s2,n2){const e2=new Map;for(const V2 of s4(n2))for(const ut of Th(s2,V2.fieldPath))switch(ut.op){case"==":case"in":e2.set(V2.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return e2.set(V2.fieldPath.canonicalString(),ut.value),Array.from(e2.values())}return null}(V,y),j=function(s2,n2){const e2=[];let V2=!0;for(const ut of s4(n2)){const _s=0===ut.kind?ZV(s2,ut.fieldPath,s2.startAt):YV(s2,ut.fieldPath,s2.startAt);e2.push(_s.value),V2&&(V2=_s.inclusive)}return new Ki(e2,V2)}(V,y),J=function(s2,n2){const e2=[];let V2=!0;for(const ut of s4(n2)){const _s=0===ut.kind?YV(s2,ut.fieldPath,s2.endAt):ZV(s2,ut.fieldPath,s2.endAt);e2.push(_s.value),V2&&(V2=_s.inclusive)}return new Ki(e2,V2)}(V,y),ye=this.nn(y,V,j),xe=this.nn(y,V,J),l2=this.sn(y,V,T),r2=this.rn(y.indexId,z,ye,j.inclusive,xe,J.inclusive,l2);return ne.forEach(r2,s2=>r.J(s2,t.limit).next(n2=>{n2.forEach(e2=>{const V2=Oe.fromSegments(e2.documentKey);f.has(V2)||(f=f.add(V2),p.push(V2))})}))}).next(()=>p)}return ne.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,a,f,p){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),V=y/(null!=t?t.length:1),H=[];for(let z=0;z<y;++z){const T=t?this.on(t[z/V]):$h,j=this.un(e,T,r[z%V],o),J=this.cn(e,T,a[z%V],f),ye=p.map(xe=>this.un(e,T,xe,!0));H.push(...this.createRange(j,J,ye))}return H}un(e,t,r,o){const a=new fa(e,Oe.empty(),t,r);return o?a:a.Ke()}cn(e,t,r,o){const a=new fa(e,Oe.empty(),t,r);return o?a.Ke():a}en(e,t){const r=new Xk(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(a=>{let f=null;for(const p of a)r.We(p)&&(!f||p.fields.length>f.fields.length)&&(f=p);return f})}getIndexType(e,t){let r=2;return ne.forEach(this.tn(t),o=>this.en(e,o).next(a=>{a?0!==r&&a.fields.length<function(f){let p=new nt(mt.comparator),y=!1;for(const V of f.filters){const H=V;H.field.isKeyField()||("array-contains"===H.op||"array-contains-any"===H.op?y=!0:p=p.add(H.field))}for(const V of f.orderBy)V.field.isKeyField()||(p=p.add(V.field));return p.size+(y?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new du;for(const o of s4(e)){const a=t.data.field(o.fieldPath);if(null==a)return null;const f=r.qe(o.kind);ua.Te.ce(a,f)}return r.$e()}on(e){const t=new du;return ua.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new du;return ua.Te.ce(ge(this.databaseId,t),r.qe(function(o){const a=s4(o);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new du);let a=0;for(const f of s4(e)){const p=r[a++];for(const y of o)if(this.ln(t,f.fieldPath)&&T2(p))o=this.fn(o,f,p);else{const V=y.qe(f.kind);ua.Te.ce(p,V)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],a=[];for(const f of r.arrayValue.values||[])for(const p of o){const y=new du;y.seed(p.$e()),ua.Te.ce(f,y.qe(t.kind)),a.push(y)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof k1&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Gh(e),o=pu(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const f=[];return ne.forEach(a,p=>o.get([p.indexId,this.uid]).next(y=>{f.push(function(V,H){const z=H?new q0(H.sequenceNumber,new cn(aa(H.readTime),new Oe(r3(H.documentKey)),H.largestBatchId)):q0.empty(),T=V.fields.map(([j,J])=>new G7(mt.fromServerFormat(j),J));return new G0(V.indexId,V.collectionGroup,T,z)}(p,y))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const a=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==a?a:S2(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Gh(e),a=pu(e);return this._n(e).next(f=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ne.forEach(p,y=>a.put(Zb(y.indexId,this.user,f,r)))))}updateIndexEntries(e,t){const r=new Map;return ne.forEach(t,(o,a)=>{const f=r.get(o.collectionGroup);return(f?ne.resolve(f):this.getFieldIndexes(e,o.collectionGroup)).next(p=>(r.set(o.collectionGroup,p),ne.forEach(p,y=>this.wn(e,o,y).next(V=>{const H=this.mn(a,y);return V.isEqual(H)?ne.resolve():this.gn(e,a,y,V,H)}))))})}yn(e,t,r,o){return hu(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return hu(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=hu(e);let a=new nt(da);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(f,p)=>{a=a.add(new fa(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}mn(e,t){let r=new nt(da);const o=this.an(t,e);if(null==o)return r;const a=na(t);if(null!=a){const f=e.data.field(a.fieldPath);if(T2(f))for(const p of f.arrayValue.values||[])r=r.add(new fa(t.indexId,e.key,this.on(p),o))}else r=r.add(new fa(t.indexId,e.key,$h,o));return r}gn(e,t,r,o,a){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(p,y,V,H,z){const T=p.getIterator(),j=y.getIterator();let J=ra(T),ye=ra(j);for(;J||ye;){let xe=!1,l2=!1;if(J&&ye){const r2=V(J,ye);r2<0?l2=!0:r2>0&&(xe=!0)}else null!=J?l2=!0:xe=!0;xe?(H(ye),ye=ra(j)):l2?(z(J),J=ra(T)):(J=ra(T),ye=ra(j))}}(o,a,da,p=>{f.push(this.yn(e,t,r,p))},p=>{f.push(this.pn(e,t,r,p))}),ne.waitFor(f)}_n(e){let t=1;return pu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,a)=>{a.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,p)=>da(f,p)).filter((f,p,y)=>!p||0!==da(f,y[p-1]));const o=[];o.push(e);for(const f of r){const p=da(f,e),y=da(f,t);if(0===p)o[0]=e.Ke();else if(p>0&&y<0)o.push(f),o.push(f.Ke());else if(y>0)break}o.push(t);const a=[];for(let f=0;f<o.length;f+=2)a.push(IDBKeyRange.bound([o[f].indexId,this.uid,o[f].arrayValue,o[f].directionalValue,$h,[]],[o[f+1].indexId,this.uid,o[f+1].arrayValue,o[f+1].directionalValue,$h,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tH)}getMinOffset(e,t){return ne.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||Qe())).next(tH)}}function eH(n){return M1(n,"collectionParents")}function hu(n){return M1(n,"indexEntries")}function Gh(n){return M1(n,"indexConfiguration")}function pu(n){return M1(n,"indexState")}function tH(n){C2(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;q7(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new cn(e.readTime,e.documentKey,t)}const nH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class En{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rH(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),a=[],f=IDBKeyRange.only(t.batchId);let p=0;const y=r.Z({range:f},(H,z,T)=>(p++,T.delete()));a.push(y.next(()=>{C2(1===p)}));const V=[];for(const H of t.mutations){const z=Bb(e,H.key.path,t.batchId);a.push(o.delete(z)),V.push(H.key)}return ne.waitFor(a).next(()=>V)}function Wh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Qe();e=n.noDocument}return JSON.stringify(e).length}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class qh{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){C2(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new qh(a,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qi(e).Z({index:"userMutationsIndex",range:r},(o,a,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const a=l8(e),f=Qi(e);return f.add({}).next(p=>{C2("number"==typeof p);const y=new qy(p,t,r,o),V=function(T,j,J){const ye=J.baseMutations.map(l2=>lu(T.re,l2)),xe=J.mutations.map(l2=>lu(T.re,l2));return{userId:j,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:ye,mutations:xe}}(this.It,this.userId,y),H=[];let z=new nt((T,j)=>S2(T.canonicalString(),j.canonicalString()));for(const T of o){const j=Bb(this.userId,T.key.path,p);z=z.add(T.key.path.popLast()),H.push(f.put(V)),H.push(a.put(j,Ik))}return z.forEach(T=>{H.push(this.indexManager.addToCollectionParentIndex(e,T))}),e.addOnCommittedListener(()=>{this.In[p]=y.keys()}),ne.waitFor(H).next(()=>y)})}lookupMutationBatch(e,t){return Qi(e).get(t).next(r=>r?(C2(r.userId===this.userId),la(this.It,r)):null)}Tn(e,t){return this.In[t]?ne.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Qi(e).Z({index:"userMutationsIndex",range:o},(f,p,y)=>{p.userId===this.userId&&(C2(p.batchId>=r),a=la(this.It,p)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Qi(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,a,f)=>{r=a.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qi(e).W("userMutationsIndex",t).next(r=>r.map(o=>la(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Bh(this.userId,t.path),o=IDBKeyRange.lowerBound(r),a=[];return l8(e).Z({range:o},(f,p,y)=>{const[V,H,z]=f,T=r3(H);if(V===this.userId&&t.path.isEqual(T))return Qi(e).get(z).next(j=>{if(!j)throw Qe();C2(j.userId===this.userId),a.push(la(this.It,j))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nt(S2);const o=[];return t.forEach(a=>{const f=Bh(this.userId,a.path),p=IDBKeyRange.lowerBound(f),y=l8(e).Z({range:p},(V,H,z)=>{const[T,j,J]=V,ye=r3(j);T===this.userId&&a.path.isEqual(ye)?r=r.add(J):z.done()});o.push(y)}),ne.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,a=Bh(this.userId,r),f=IDBKeyRange.lowerBound(a);let p=new nt(S2);return l8(e).Z({range:f},(y,V,H)=>{const[z,T,j]=y,J=r3(T);z===this.userId&&r.isPrefixOf(J)?J.length===o&&(p=p.add(j)):H.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],o=[];return t.forEach(a=>{o.push(Qi(e).get(a).next(f=>{if(null===f)throw Qe();C2(f.userId===this.userId),r.push(la(this.It,f))}))}),ne.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return rH(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ne.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return l8(e).Z({range:r},(a,f,p)=>{if(a[0]===this.userId){const y=r3(a[1]);o.push(y)}else p.done()}).next(()=>{C2(0===o.length)})})}containsKey(e,t){return sH(e,this.userId,t)}Rn(e){return iH(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sH(n,e,t){const r=Bh(e,t.path),o=r[1],a=IDBKeyRange.lowerBound(r);let f=!1;return l8(n).Z({range:a,X:!0},(p,y,V)=>{const[H,z,T]=p;H===e&&z===o&&(f=!0),V.done()}).next(()=>f)}function Qi(n){return M1(n,"mutations")}function l8(n){return M1(n,"documentMutations")}function iH(n){return M1(n,"mutationQueues")}class ha{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ha(0)}static vn(){return new ha(-1)}}class tP{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ha(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>M2.fromTimestamp(new pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>u8(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(C2(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const a=[];return u8(e).Z((f,p)=>{const y=uu(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(o++,a.push(this.removeTargetData(e,y)))}).next(()=>ne.waitFor(a)).next(()=>o)}forEachTarget(e,t){return u8(e).Z((r,o)=>{const a=uu(o);t(a)})}Vn(e){return oH(e).get("targetGlobalKey").next(t=>(C2(null!==t),t))}Sn(e,t){return oH(e).put("targetGlobalKey",t)}Dn(e,t){return u8(e).put(qb(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=sa(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return u8(e).Z({range:o,index:"queryTargetsIndex"},(f,p,y)=>{const V=uu(p);X7(t,V.target)&&(a=V,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const o=[],a=Xi(e);return t.forEach(f=>{const p=an(f.path);o.push(a.put({targetId:r,path:p})),o.push(this.referenceDelegate.addReference(e,r,f))}),ne.waitFor(o)}removeMatchingKeys(e,t,r){const o=Xi(e);return ne.forEach(t,a=>{const f=an(a.path);return ne.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Xi(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Xi(e);let a=N2();return o.Z({range:r,X:!0},(f,p,y)=>{const V=r3(f[1]),H=new Oe(V);a=a.add(H)}).next(()=>a)}containsKey(e,t){const r=an(t.path),o=IDBKeyRange.bound([r],[ta(r)],!1,!0);let a=0;return Xi(e).Z({index:"documentTargetsIndex",X:!0,range:o},([f,p],y,V)=>{0!==f&&(a++,V.done())}).next(()=>a>0)}se(e,t){return u8(e).get(t).next(r=>r?uu(r):null)}}function u8(n){return M1(n,"targets")}function oH(n){return M1(n,"targetGlobal")}function Xi(n){return M1(n,"targetDocuments")}function cH([n,e],[t,r]){const o=S2(n,t);return 0===o?S2(e,r):o}class nP{constructor(e){this.xn=e,this.buffer=new nt(cH),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cH(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,q.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){cs(r)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield i4(r)}yield t.Fn(3e5)}))}}class sP{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ne.resolve($1.at);const r=new nP(t);return this.$n.forEachTarget(e,o=>r.Mn(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.Mn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(nH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nH):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,a,f,p,y,V;const H=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(z=>(z>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${z}`),o=this.params.maximumSequenceNumbersToCollect):o=z,f=Date.now(),this.nthSequenceNumber(e,o))).next(z=>(r=z,p=Date.now(),this.removeTargets(e,r,t))).next(z=>(a=z,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(z=>(V=Date.now(),ea()<=Nn.in.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-H}ms\n\tDetermined least recently used ${o} in `+(p-f)+`ms\n\tRemoved ${a} targets in `+(y-p)+`ms\n\tRemoved ${z} documents in `+(V-y)+`ms\nTotal Duration: ${V-H}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:z})))}}class iP{constructor(e,t){this.db=e,this.garbageCollector=new sP(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return Kh(e,r)}removeReference(e,t,r){return Kh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Kh(e,t)}Gn(e,t){return function(r,o){let a=!1;return iH(r).tt(f=>sH(r,f,o).next(p=>(p&&(a=!0),ne.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let a=0;return this.Kn(e,(f,p)=>{if(p<=t){const y=this.Gn(e,f).next(V=>{if(!V)return a++,r.getEntry(e,f).next(()=>(r.removeEntry(f,M2.min()),Xi(e).delete([0,an(f.path)])))});o.push(y)}}).next(()=>ne.waitFor(o)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Kh(e,t)}Kn(e,t){const r=Xi(e);let o,a=$1.at;return r.Z({index:"documentTargetsIndex"},([f,p],{path:y,sequenceNumber:V})=>{0===f?(a!==$1.at&&t(new Oe(r3(o)),a),a=V,o=y):a=$1.at}).next(()=>{a!==$1.at&&t(new Oe(r3(o)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kh(n,e){return Xi(n).put((r=n.currentSequenceNumber,{targetId:0,path:an(e.path),sequenceNumber:r}));var r}class aH{constructor(){this.changes=new Zi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oP{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return pa(e).put(r)}removeEntry(e,t,r){return pa(e).delete(function(o,a){const f=o.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Uh(a),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=gt.newInvalidDocument(t);return pa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mu(t))},(o,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:gt.newInvalidDocument(t)};return pa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mu(t))},(o,a)=>{r={document:this.jn(t,a),size:Wh(a)}}).next(()=>r)}getEntries(e,t){let r=Sn();return this.zn(e,t,(o,a)=>{const f=this.jn(o,a);r=r.insert(o,f)}).next(()=>r)}Hn(e,t){let r=Sn(),o=new At(Oe.comparator);return this.zn(e,t,(a,f)=>{const p=this.jn(a,f);r=r.insert(a,p),o=o.insert(a,Wh(f))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ne.resolve();let o=new nt(dH);t.forEach(y=>o=o.add(y));const a=IDBKeyRange.bound(mu(o.first()),mu(o.last())),f=o.getIterator();let p=f.getNext();return pa(e).Z({index:"documentKeyIndex",range:a},(y,V,H)=>{const z=Oe.fromSegments([...V.prefixPath,V.collectionGroup,V.documentId]);for(;p&&dH(p,z)<0;)r(p,null),p=f.getNext();p&&p.isEqual(z)&&(r(p,V),p=f.hasNext()?f.getNext():null),p?H.j(mu(p)):H.done()}).next(()=>{for(;p;)r(p,null),p=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Uh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pa(e).W(IDBKeyRange.bound(o,a,!0)).next(f=>{let p=Sn();for(const y of f){const V=this.jn(Oe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(V.key,V)}return p})}getAllFromCollectionGroup(e,t,r,o){let a=Sn();const f=fH(t,r),p=fH(t,cn.max());return pa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,p,!0)},(y,V,H)=>{const z=this.jn(Oe.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);a=a.insert(z.key,z),a.size===o&&H.done()}).next(()=>a)}newChangeBuffer(e){return new cP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uH(e).get("remoteDocumentGlobalKey").next(t=>(C2(!!t),t))}Qn(e,t){return uH(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function Wk(n,e){let t;if(e.document)t=Ab(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Oe.fromSegments(e.noDocument.path),o=aa(e.noDocument.readTime);t=gt.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qe();{const r=Oe.fromSegments(e.unknownDocument.path),o=aa(e.unknownDocument.version);t=gt.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new pt(r[0],r[1]);return M2.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(M2.min()))return r}return gt.newInvalidDocument(e)}}function lH(n){return new oP(n)}class cP extends aH{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Zi(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new nt((a,f)=>S2(a.canonicalString(),f.canonicalString()));return this.changes.forEach((a,f)=>{const p=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,p.readTime)),f.isValidDocument()){const y=Wb(this.Yn.It,f);o=o.add(a.path.popLast()),r+=Wh(y)-p.size,t.push(this.Yn.addEntry(e,a,y))}else if(r-=p.size,this.trackRemovals){const y=Wb(this.Yn.It,f.convertToNoDocument(M2.min()));t.push(this.Yn.addEntry(e,a,y))}}),o.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),ne.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((a,f)=>{this.Xn.set(a,{size:f,readTime:r.get(a).readTime})}),r))}}function uH(n){return M1(n,"remoteDocumentGlobal")}function pa(n){return M1(n,"remoteDocumentsV14")}function mu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fH(n,e){const t=e.documentKey.path.toArray();return[n,Uh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function dH(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(o=S2(t[a],r[a]),o)return o;return o=S2(t.length,r.length),o||(o=S2(t[t.length-2],r[r.length-2]),o||S2(t[t.length-1],r[r.length-1]))}class aP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hH{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&tu(r.mutation,o,Hn.empty(),pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,N2()).next(()=>r))}getLocalViewOfDocuments(e,t,r=N2()){const o=t3();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let f=nu();return a.forEach((p,y)=>{f=f.insert(p,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=t3();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,N2()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,r,o){let a=Sn();const f=ru(),p=ru();return t.forEach((y,V)=>{const H=r.get(V.key);o.has(V.key)&&(void 0===H||H.mutation instanceof ds)?a=a.insert(V.key,V):void 0!==H&&(f.set(V.key,H.mutation.getFieldMask()),tu(H.mutation,V,H.mutation.getFieldMask(),pt.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((V,H)=>f.set(V,H)),t.forEach((V,H)=>{var z;return p.set(V,new aP(H,null!==(z=f.get(V))&&void 0!==z?z:null))}),p))}recalculateAndSaveOverlays(e,t){const r=ru();let o=new At((f,p)=>f-p),a=N2();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(y=>{const V=t.get(y);if(null===V)return;let H=r.get(y)||Hn.empty();H=p.applyToLocalView(V,H),r.set(y,H);const z=(o.get(p.batchId)||N2()).add(y);o=o.insert(p.batchId,z)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),V=y.key,H=y.value,z=wb();H.forEach(T=>{if(!a.has(T)){const j=hb(t.get(T),r.get(T));null!==j&&z.set(T,j),a=a.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,z))}return ne.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Oe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const f=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ne.resolve(t3());let p=-1,y=a;return f.next(V=>ne.forEach(V,(H,z)=>(p<z.largestBatchId&&(p=z.largestBatchId),a.get(H)?ne.resolve():this.getBaseDocument(e,H,z).next(T=>{y=y.insert(H,T)}))).next(()=>this.populateOverlays(e,V,a)).next(()=>this.computeViews(e,y,V,N2())).next(H=>({batchId:p,changes:Mb(H)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let o=nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let a=nu();return this.indexManager.getCollectionParents(e,o).next(f=>ne.forEach(f,p=>{const y=(V=t,H=p.child(o),new fs(H,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,H;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(V=>{V.forEach((H,z)=>{a=a.insert(H,z)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(o=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((p,y)=>{const V=y.getKey();null===o.get(V)&&(o=o.insert(V,gt.newInvalidDocument(V)))});let f=nu();return o.forEach((p,y)=>{const V=a.get(p);void 0!==V&&tu(V.mutation,y,Hn.empty(),pt.now()),By(t,y)&&(f=f.insert(p,y))}),f})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ne.resolve(gt.newInvalidDocument(t))}}class lP{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ne.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:_1(r.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Yy(r.bundledQuery),readTime:_1(r.readTime)}),ne.resolve();var r}}class uP{constructor(){this.overlays=new At(Oe.comparator),this.es=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=t3();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{null!==a&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.ue(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=t3(),a=t.length+1,f=new Oe(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,V=y.getKey();if(!t.isPrefixOf(V.path))break;V.path.length===a&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new At((V,H)=>V-H);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===t&&V.largestBatchId>r){let H=a.get(V.largestBatchId);null===H&&(H=t3(),a=a.insert(V.largestBatchId,H)),H.set(V.getKey(),V)}}const p=t3(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((V,H)=>p.set(V,H)),!(p.size()>=o)););return ne.resolve(p)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const f=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Zy(t,r));let a=this.es.get(t);void 0===a&&(a=N2(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class Jy{constructor(){this.ns=new nt(w1.ss),this.rs=new nt(w1.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new w1(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new w1(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Oe(new A2([])),r=new w1(t,e),o=new w1(t,e+1),a=[];return this.rs.forEachInRange([r,o],f=>{this.cs(f),a.push(f.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Oe(new A2([])),r=new w1(t,e),o=new w1(t,e+1);let a=N2();return this.rs.forEachInRange([r,o],f=>{a=a.add(f.key)}),a}containsKey(e){const t=new w1(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class w1{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Oe.comparator(e.key,t.key)||S2(e._s,t._s)}static os(e,t){return S2(e._s,t._s)||Oe.comparator(e.key,t.key)}}class fP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new nt(w1.ss)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const a=this.ws;this.ws++;const f=new qy(a,t,r,o);this.mutationQueue.push(f);for(const p of o)this.gs=this.gs.add(new w1(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,t){return ne.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new w1(t,0),o=new w1(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,o],f=>{const p=this.ys(f._s);a.push(p)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nt(S2);return t.forEach(o=>{const a=new w1(o,0),f=new w1(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,f],p=>{r=r.add(p._s)})}),ne.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Oe.isDocumentKey(a)||(a=a.child(""));const f=new w1(new Oe(a),0);let p=new nt(S2);return this.gs.forEachWhile(y=>{const V=y.key.path;return!!r.isPrefixOf(V)&&(V.length===o&&(p=p.add(y._s)),!0)},f),ne.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){C2(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ne.forEach(t.mutations,o=>{const a=new w1(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new w1(t,0),o=this.gs.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ne.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dP{constructor(e){this.Es=e,this.docs=new At(Oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,f=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let r=Sn();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():gt.newInvalidDocument(o))}),ne.resolve(r)}getAllFromCollection(e,t,r){let o=Sn();const a=new Oe(t.child("")),f=this.docs.getIteratorFrom(a);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||q7(W7(y),r)<=0||(o=o.insert(y.key,y.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Qe()}As(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hP(this)}getSize(e){return ne.resolve(this.size)}}class hP extends aH{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class pP{constructor(e){this.persistence=e,this.Rs=new Zi(t=>sa(t),X7),this.lastRemoteSnapshotVersion=M2.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Jy,this.targetCount=0,this.vs=ha.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ne.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Dn(t),ne.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Rs.forEach((f,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(f),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(f=>{a.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Ps.containsKey(t))}}class pH{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $1(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new pP(this),this.indexManager=new Jk,this.remoteDocumentCache=new dP(r=>this.referenceDelegate.xs(r)),this.It=new Gb(t),this.Ns=new lP(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new fP(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const o=new mP(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(a=>this.referenceDelegate.Ms(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Os(e,t){return ne.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class mP extends Sh{constructor(e){super(),this.currentSequenceNumber=e}}class Zh{constructor(e){this.persistence=e,this.Fs=new Jy,this.$s=null}static Bs(e){return new Zh(e)}get Ls(){if(this.$s)return this.$s;throw Qe()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ls,r=>{const o=Oe.fromPath(r);return this.Us(e,o).next(a=>{a||t.removeEntry(o,M2.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ne.or([()=>ne.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class gP{constructor(e){this.It=e}$(e,t,r,o){const a=new Z0("createOrUpgrade",t);var p;r<1&&o>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ob,{unique:!0}),p.createObjectStore("documentMutations"),mH(e),function(p){p.createObjectStore("remoteDocuments")}(e));let f=ne.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),mH(e)),f=f.next(()=>function(p){const y=p.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:M2.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",V)}(a))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(p,y){return y.store("mutations").W().next(V=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ob,{unique:!0});const H=y.store("mutations"),z=V.map(T=>H.put(T));return ne.waitFor(z)})}(e,a))),f=f.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.qs(a))),r<6&&o>=6&&(f=f.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&o>=7&&(f=f.next(()=>this.Gs(a))),r<8&&o>=8&&(f=f.next(()=>this.Qs(e,a))),r<9&&o>=9&&(f=f.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(f=f.next(()=>this.js(a))),r<11&&o>=11&&(f=f.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(f=f.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:Bk});y.createIndex("collectionPathOverlayIndex",Uk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",jk,{unique:!1})}(e)})),r<13&&o>=13&&(f=f.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:Dk});y.createIndex("documentKeyIndex",Lk),y.createIndex("collectionGroupIndex",xk)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(f=f.next(()=>this.zs(e,a))),r<15&&o>=15&&(f=f.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Pk}).createIndex("sequenceNumberIndex",Rk,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Fk}).createIndex("documentKeyIndex",Ok,{unique:!1})}(e))),f}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=Wh(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ne.forEach(o,a=>{const f=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",f).next(p=>ne.forEach(p,y=>{C2(y.userId===a.userId);const V=la(this.It,y);return rH(e,a.userId,V).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const a=[];return r.Z((f,p)=>{const y=new A2(f),V=[0,an(y)];a.push(t.get(V).next(H=>H?ne.resolve():t.put({targetId:0,path:an(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ne.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:kk});const r=t.store("collectionParents"),o=new Xy,a=f=>{if(o.add(f)){const p=f.lastSegment(),y=f.popLast();return r.put({collectionId:p,parent:an(y)})}};return t.store("remoteDocuments").Z({X:!0},(f,p)=>{const y=new A2(f);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([f,p,y],V)=>{const H=r3(p);return a(H.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const a=uu(o),f=qb(this.It,a);return t.put(f)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((a,f)=>{const p=t.store("remoteDocumentsV14"),y=(V=f,V.document?new Oe(A2.fromString(V.document.name).popFirst(5)):V.noDocument?Oe.fromSegments(V.noDocument.path):V.unknownDocument?Oe.fromSegments(V.unknownDocument.path):Qe()).path.toArray();var V;const H={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};o.push(p.put(H))}).next(()=>ne.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=lH(this.It),a=new pH(Zh.Bs,this.It.re);return r.W().next(f=>{const p=new Map;return f.forEach(y=>{var V;let H=null!==(V=p.get(y.userId))&&void 0!==V?V:N2();la(this.It,y).keys().forEach(z=>H=H.add(z)),p.set(y.userId,H)}),ne.forEach(p,(y,V)=>{const H=new Zt(V),z=jh.oe(this.It,H),T=a.getIndexManager(H),j=qh.oe(H,this.It,T,a.referenceDelegate);return new hH(o,j,z,T).recalculateAndSaveOverlaysForDocumentKeys(new Wy(t,$1.at),y).next()})})}}function mH(n){n.createObjectStore("targetDocuments",{keyPath:Tk}).createIndex("documentTargetsIndex",Nk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ak,{unique:!0}),n.createObjectStore("targetGlobal")}const eC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tC{constructor(e,t,r,o,a,f,p,y,V,H,z=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=f,this.document=p,this.Js=V,this.Ys=H,this.Xs=z,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=T=>Promise.resolve(),!tC.C())throw new Ve(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iP(this,o),this.ii=t+"main",this.It=new Gb(y),this.ri=new jn(this.ii,this.Xs,new gP(this.It)),this.Cs=new tP(this.referenceDelegate,this.It),this.remoteDocumentCache=lH(this.It),this.Ns=new qk,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===H&&Ht("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(oe.FAILED_PRECONDITION,eC);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $1(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,q.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,q.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,q.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(cs(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return gu(e).get("owner").next(t=>ne.resolve(this.mi(t)))}gi(e){return Yh(e).delete(this.clientId)}yi(){var e=this;return(0,q.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=M1(r,"clientMetadata");return o.W().next(a=>{const f=e.Ii(a,18e5),p=a.filter(y=>-1===f.indexOf(y));return ne.forEach(p,y=>o.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ne.resolve(!0):gu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ve(oe.FAILED_PRECONDITION,eC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yh(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,p=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ie("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,q.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Wy(t,$1.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Yh(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return qh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eP(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return jh.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ie("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",a=15===(f=this.Xs)?Gk:14===f?$b:13===f?jb:12===f?$k:11===f?Ub:void Qe();var f;let p;return this.ri.runTransaction(e,o,a,y=>(p=new Wy(y,this.Ss?this.Ss.next():$1.at),"readwrite-primary"===t?this.fi(p).next(V=>!!V||this.di(p)).next(V=>{if(!V)throw Ht(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(oe.FAILED_PRECONDITION,zh);return r(p)}).next(V=>this.wi(p).next(()=>V)):this.Vi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(e){return gu(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(oe.FAILED_PRECONDITION,eC)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gu(e).put("owner",t)}static C(){return jn.C()}_i(e){const t=gu(e);return t.get("owner").next(r=>this.mi(r)?(Ie("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ht(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ht("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ht("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gu(n){return M1(n,"owner")}function Yh(n){return M1(n,"clientMetadata")}function nC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rC{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=N2(),o=N2();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new rC(e,t.fromCache,r,o)}}class gH{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(a=>a||this.Mi(e,t,o,r)).next(a=>a||this.Oi(e,t))}ki(e,t){if(tb(t))return ne.resolve(null);let r=zn(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Nh(t,null,"F"),r=zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const f=N2(...a);return this.Ni.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const V=this.Fi(t,p);return this.$i(t,V,f,y.readTime)?this.ki(e,Nh(t,null,"F")):this.Bi(e,V,t,y)}))})))}Mi(e,t,r,o){return tb(t)||o.isEqual(M2.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(a=>{const f=this.Fi(t,a);return this.$i(t,f,r,o)?this.Oi(e,t):(ea()<=Nn.in.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oy(t)),this.Bi(e,f,t,Ny(o,-1)))})}Fi(e,t){let r=new nt(sb(e));return t.forEach((o,a)=>{By(e,a)&&(r=r.add(a))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Oi(e,t){return ea()<=Nn.in.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Oy(t)),this.Ni.getDocumentsMatchingQuery(e,t,cn.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(f=>{a=a.insert(f.key,f)}),a))}}class vP{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new At(S2),this.qi=new Zi(a=>sa(a),X7),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hH(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function vH(n,e,t,r){return new vP(n,e,t,r)}function yH(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,q.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const f=[],p=[];let y=N2();for(const V of o){f.push(V.batchId);for(const H of V.mutations)y=y.add(H.key)}for(const V of a){p.push(V.batchId);for(const H of V.mutations)y=y.add(H.key)}return t.localDocuments.getDocuments(r,y).next(V=>({ji:V,removedBatchIds:f,addedBatchIds:p}))})})}),sC.apply(this,arguments)}function yP(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(f,p,y,V){const H=y.batch,z=H.keys();let T=ne.resolve();return z.forEach(j=>{T=T.next(()=>V.getEntry(p,j)).next(J=>{const ye=y.docVersions.get(j);C2(null!==ye),J.version.compareTo(ye)<0&&(H.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),V.addEntry(J)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(p,H))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=N2();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function CH(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function CP(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const f=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const p=[];e.targetChanges.forEach((H,z)=>{const T=o.get(z);if(!T)return;p.push(t.Cs.removeMatchingKeys(a,H.removedDocuments,z).next(()=>t.Cs.addMatchingKeys(a,H.addedDocuments,z)));let j=T.withSequenceNumber(a.currentSequenceNumber);var J,ye,xe;e.targetMismatches.has(z)?j=j.withResumeToken(Qt.EMPTY_BYTE_STRING,M2.min()).withLastLimboFreeSnapshotVersion(M2.min()):H.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(H.resumeToken,r)),o=o.insert(z,j),ye=j,xe=H,(0===(J=T).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(a,j))});let y=Sn(),V=N2();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,H))}),p.push(_H(a,f,e.documentUpdates).next(H=>{y=H.Wi,V=H.zi})),!r.isEqual(M2.min())){const H=t.Cs.getLastRemoteSnapshotVersion(a).next(z=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(H)}return ne.waitFor(p).next(()=>f.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,V)).next(()=>y)}).then(a=>(t.Ui=o,a))}function _H(n,e,t){let r=N2(),o=N2();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let f=Sn();return t.forEach((p,y)=>{const V=a.get(p);y.isFoundDocument()!==V.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(M2.min())?(e.removeEntry(p,y.readTime),f=f.insert(p,y)):!V.isValidDocument()||y.version.compareTo(V.version)>0||0===y.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(y),f=f.insert(p,y)):Ie("LocalStore","Ignoring outdated watch update for ",p,". Current version:",V.version," Watch version:",y.version)}),{Wi:f,zi:o}})}function _P(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f8(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(a=>a?(o=a,ne.resolve(o)):t.Cs.allocateTargetId(r).next(f=>(o=new Yi(e,f,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function d8(n,e,t){return iC.apply(this,arguments)}function iC(){return iC=(0,q.Z)(function*(n,e,t){const r=We(n),o=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!cs(f))throw f;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),iC.apply(this,arguments)}function Qh(n,e,t){const r=We(n);let o=M2.min(),a=N2();return r.persistence.runTransaction("Execute query","readonly",f=>function(p,y,V){const H=We(p),z=H.qi.get(V);return void 0!==z?ne.resolve(H.Ui.get(z)):H.Cs.getTargetData(y,V)}(r,f,zn(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(f,p.targetId).next(y=>{a=y})}).next(()=>r.Li.getDocumentsMatchingQuery(f,e,t?o:M2.min(),t?a:N2())).next(p=>(VH(r,rb(e),p),{documents:p,Hi:a})))}function MH(n,e){const t=We(n),r=We(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(f=>f?f.target:null))}function wH(n,e){const t=We(n),r=t.Ki.get(e)||M2.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,Ny(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(VH(t,e,o),o))}function VH(n,e,t){let r=M2.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function oC(){return oC=(0,q.Z)(function*(n,e,t,r){const o=We(n);let a=N2(),f=Sn();for(const V of t){const H=e.Ji(V.metadata.name);V.document&&(a=a.add(H));const z=e.Yi(V);z.setReadTime(e.Xi(V.metadata.readTime)),f=f.insert(H,z)}const p=o.Gi.newChangeBuffer({trackRemovals:!0}),y=yield f8(o,(V=r,zn(t8(A2.fromString(`__bundle__/docs/${V}`)))));var V;return o.persistence.runTransaction("Apply bundle documents","readwrite",V=>_H(V,p,f).next(H=>(p.apply(V),H)).next(H=>o.Cs.removeMatchingKeysForTargetId(V,y.targetId).next(()=>o.Cs.addMatchingKeys(V,a,y.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(V,H.Wi,H.zi)).next(()=>H.Wi)))}),oC.apply(this,arguments)}function wP(n,e){return cC.apply(this,arguments)}function cC(){return cC=(0,q.Z)(function*(n,e,t=N2()){const r=yield f8(n,zn(Yy(e.bundledQuery))),o=We(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{const f=_1(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.Ns.saveNamedQuery(a,e);const p=r.withResumeToken(Qt.EMPTY_BYTE_STRING,f);return o.Ui=o.Ui.insert(p.targetId,p),o.Cs.updateTargetData(a,p).next(()=>o.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>o.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(a,e))})}),cC.apply(this,arguments)}function bH(n,e){return`firestore_clients_${n}_${e}`}function HH(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aC(n,e){return`firestore_targets_${n}_${e}`}class Xh{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let a,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(a=new Ve(o.error.code,o.error.message))),f?new Xh(e,t,o.state,a):(Ht("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new Ve(r.error.code,r.error.message))),a?new vu(e,r.state,o):(Ht("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fh();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=b(r.activeTargetIds[f]),a=a.add(r.activeTargetIds[f]);return o?new Jh(e,a):(Ht("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lC{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lC(t.clientId,t.onlineState):(Ht("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uC{constructor(){this.activeTargetIds=Fh()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fC{constructor(e,t,r,o,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new At(S2),this.started=!1,this.cr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=bH(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new uC),this.lr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,q.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const a=e.getItem(bH(e.persistenceKey,o));if(a){const f=Jh.Zi(o,a);f&&(e.ur=e.ur.insert(f.clientId,f))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(aC(this.persistenceKey,e));if(r){const o=vu.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ie("SharedClientState","READ",e,t),t}setItem(e,t){Ie("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Ht("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,q.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(a){let f=$1.at;if(null!=a)try{const p=JSON.parse(a);C2("number"==typeof p),f=p}catch(p){Ht("SharedClientState","Failed to read sequence number from WebStorage",p)}return f}(r.newValue);o!==$1.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Mr(r.newValue);yield Promise.all(o.map(a=>t.syncEngine.Or(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new Xh(this.currentUser,e,t,r),a=HH(this.persistenceKey,this.currentUser,e);this.setItem(a,o.tr())}Er(e){const t=HH(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=aC(this.persistenceKey,e),a=new vu(e,t,r);this.setItem(o,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Jh.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return Xh.Zi(new Zt(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return vu.Zi(o,t)}yr(e){return lC.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,q.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),a=this.Ir(r),f=[],p=[];return a.forEach(y=>{o.has(y)||f.push(y)}),o.forEach(y=>{a.has(y)||p.push(y)}),this.syncEngine.Br(f,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Fh();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class zH{constructor(){this.Lr=new uC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new uC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VP{qr(e){}shutdown(){}}class SH{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class HP{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class zP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,a){const f=this.ao(e,t);Ie("RestConnection","Sending: ",f,r);const p={};return this.ho(p,o,a),this.lo(e,f,p,r).then(y=>(Ie("RestConnection","Received: ",y),y),y=>{throw J4("RestConnection",`${e} failed with error: `,y,"url: ",f,"request:",r),y})}fo(e,t,r,o,a,f){return this.co(e,t,r,o,a)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ss,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}ao(e,t){return`${this.oo}/v1/${t}:${bP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){return new Promise((a,f)=>{const p=new RV;p.listenOnce(Dy.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const V=p.getResponseJson();Ie("Connection","XHR received:",JSON.stringify(V)),a(V);break;case yh.TIMEOUT:Ie("Connection",'RPC "'+e+'" timed out'),f(new Ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const H=p.getStatus();if(Ie("Connection",'RPC "'+e+'" failed with status:',H,"response text:",p.getResponseText()),H>0){const z=p.getResponseJson().error;if(z&&z.status&&z.message){const T=function(j){const J=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(J)>=0?J:oe.UNKNOWN}(z.status);f(new Ve(T,z.message))}else f(new Ve(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ve(oe.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Ie("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(o);p.send(t,"POST",y,r,15)})}_o(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=r4(),f=Iy(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Ly({})),this.ho(p.initMessageHeaders,t,r),(0,Xe.uI)()||(0,Xe.b$)()||(0,Xe.d)()||(0,Xe.w1)()||(0,Xe.Mn)()||(0,Xe.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=o.join("");Ie("Connection","Creating WebChannel: "+y,p);const V=a.createWebChannel(y,p);let H=!1,z=!1;const T=new HP({Hr:J=>{z?Ie("Connection","Not sending because WebChannel is closed:",J):(H||(Ie("Connection","Opening WebChannel transport."),V.open(),H=!0),Ie("Connection","WebChannel sending:",J),V.send(J))},Jr:()=>V.close()}),j=(J,ye,xe)=>{J.listen(ye,l2=>{try{xe(l2)}catch(r2){setTimeout(()=>{throw r2},0)}})};return j(V,Jc.EventType.OPEN,()=>{z||Ie("Connection","WebChannel transport opened.")}),j(V,Jc.EventType.CLOSE,()=>{z||(z=!0,Ie("Connection","WebChannel transport closed"),T.io())}),j(V,Jc.EventType.ERROR,J=>{z||(z=!0,J4("Connection","WebChannel transport errored:",J),T.io(new Ve(oe.UNAVAILABLE,"The operation could not be completed")))}),j(V,Jc.EventType.MESSAGE,J=>{var ye;if(!z){const xe=J.data[0];C2(!!xe);const l2=xe,r2=l2.error||(null===(ye=l2[0])||void 0===ye?void 0:ye.error);if(r2){Ie("Connection","WebChannel received error:",r2);const s2=r2.status;let n2=function(V2){const ut=Xt[V2];if(void 0!==ut)return Cb(ut)}(s2),e2=r2.message;void 0===n2&&(n2=oe.INTERNAL,e2="Unknown error status: "+s2+" with message "+r2.message),z=!0,T.io(new Ve(n2,e2)),V.close()}else Ie("Connection","WebChannel received:",xe),T.ro(xe)}}),j(f,PV.STAT_EVENT,J=>{J.stat===Ch.PROXY?Ie("Connection","Detected buffering proxy"):J.stat===Ch.NOPROXY&&Ie("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function EH(){return typeof window<"u"?window:null}function ep(){return typeof document<"u"?document:null}function yu(n){return new vk(n,!0)}class dC{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=o,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class IH{constructor(e,t,r,o,a,f,p,y){this.Hs=e,this.Po=r,this.vo=o,this.Vo=a,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new dC(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,q.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,q.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,q.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ht(t.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===oe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new Ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,q.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SP extends IH{constructor(e,t,r,o,a,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.It=a}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function _k(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Qe(),o=e.targetChange.targetIds||[],a=function(y,V){return y.gt?(C2(void 0===V||"string"==typeof V),Qt.fromBase64String(V||"")):(C2(void 0===V||V instanceof Uint8Array),Qt.fromUint8Array(V||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(y){const V=void 0===y.code?oe.UNKNOWN:Cb(y.code);return new Ve(V,y.message||"")}(f);t=new bb(r,o,a,p||null)}else if("documentChange"in e){const r=e.documentChange,o=n3(n,r.document.name),a=_1(r.document.updateTime),f=new Bt({mapValue:{fields:r.document.fields}}),p=gt.newFoundDocument(o,a,f);t=new Oh(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,o=n3(n,r.document),a=r.readTime?_1(r.readTime):M2.min(),f=gt.newNoDocument(o,a);t=new Oh([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=n3(n,r.document);t=new Oh([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Qe();{const r=e.filter,a=new lk(r.count||0);t=new Vb(r.targetId,a)}}var y;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return M2.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?M2.min():a.readTime?_1(a.readTime):M2.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=au(this.It),t.addTarget=function(o,a){let f;const p=a.target;return f=Ah(p)?{documents:Tb(o,p)}:{query:Nb(o,p)},f.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?f.resumeToken=Eb(o,a.resumeToken):a.snapshotVersion.compareTo(M2.min())>0&&(f.readTime=ou(o,a.snapshotVersion.toTimestamp())),f}(this.It,e);const r=function wk(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=au(this.It),t.removeTarget=e,this.Bo(t)}}class EP extends IH{constructor(e,t,r,o,a,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(C2(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Mk(n,e){return n&&n.length>0?(C2(void 0!==e),n.map(t=>function(r,o){let a=_1(r.updateTime?r.updateTime:o);return a.isEqual(M2.min())&&(a=_1(o)),new ok(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_1(e.commitTime);return this.listener.Zo(r,t)}return C2(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=au(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lu(this.It,r))};this.Bo(t)}}class IP extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new Ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.Vo.co(e,t,r,o,a)).catch(o=>{throw"FirebaseError"===o.name?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(oe.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,f])=>this.Vo.fo(e,t,r,a,f,o)).catch(a=>{throw"FirebaseError"===a.name?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(oe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class DP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ht(t),this.ou=!1):Ie("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class LP{constructor(e,t,r,o,a){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(p=>{r.enqueueAndForget((0,q.Z)(function*(){var y;Ji(f)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,q.Z)(function*(V){const H=We(V);H._u.add(4),yield h8(H),H.gu.set("Unknown"),H._u.delete(4),yield Cu(H)}),function(V){return y.apply(this,arguments)})(f))}))}),this.gu=new DP(r,o)}}function Cu(n){return hC.apply(this,arguments)}function hC(){return hC=(0,q.Z)(function*(n){if(Ji(n))for(const e of n.wu)yield e(!0)}),hC.apply(this,arguments)}function h8(n){return pC.apply(this,arguments)}function pC(){return pC=(0,q.Z)(function*(n){for(const e of n.wu)yield e(!1)}),pC.apply(this,arguments)}function tp(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),vC(t)?gC(t):m8(t).ko()&&mC(t,e))}function _u(n,e){const t=We(n),r=m8(t);t.du.delete(e),r.ko()&&DH(t,e),0===t.du.size&&(r.ko()?r.Fo():Ji(t)&&t.gu.set("Unknown"))}function mC(n,e){n.yu.Ot(e.targetId),m8(n).zo(e)}function DH(n,e){n.yu.Ot(e),m8(n).Ho(e)}function gC(n){n.yu=new pk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),m8(n).start(),n.gu.uu()}function vC(n){return Ji(n)&&!m8(n).No()&&n.du.size>0}function Ji(n){return 0===We(n)._u.size}function LH(n){n.yu=void 0}function xP(n){return yC.apply(this,arguments)}function yC(){return yC=(0,q.Z)(function*(n){n.du.forEach((e,t)=>{mC(n,e)})}),yC.apply(this,arguments)}function AP(n,e){return CC.apply(this,arguments)}function CC(){return CC=(0,q.Z)(function*(n,e){LH(n),vC(n)?(n.gu.hu(e),gC(n)):n.gu.set("Unknown")}),CC.apply(this,arguments)}function TP(n,e,t){return _C.apply(this,arguments)}function _C(){return _C=(0,q.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof bb&&2===e.state&&e.cause)try{yield(r=(0,q.Z)(function*(o,a){const f=a.cause;for(const p of a.targetIds)o.du.has(p)&&(yield o.remoteSyncer.rejectListen(p,f),o.du.delete(p),o.yu.removeTarget(p))}),function(o,a){return r.apply(this,arguments)})(n,e)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield np(n,r)}else if(e instanceof Oh?n.yu.Gt(e):e instanceof Vb?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(M2.min()))try{const r=yield CH(n.localStore);t.compareTo(r)>=0&&(yield function(o,a){const f=o.yu.te(a);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const V=o.du.get(y);V&&o.du.set(y,V.withResumeToken(p.resumeToken,a))}}),f.targetMismatches.forEach(p=>{const y=o.du.get(p);if(!y)return;o.du.set(p,y.withResumeToken(Qt.EMPTY_BYTE_STRING,y.snapshotVersion)),DH(o,p);const V=new Yi(y.target,p,1,y.sequenceNumber);mC(o,V)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),yield np(n,r)}var r}),_C.apply(this,arguments)}function np(n,e,t){return MC.apply(this,arguments)}function MC(){return MC=(0,q.Z)(function*(n,e,t){if(!cs(e))throw e;n._u.add(1),yield h8(n),n.gu.set("Offline"),t||(t=()=>CH(n.localStore)),n.asyncQueue.enqueueRetryable((0,q.Z)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Cu(n)}))}),MC.apply(this,arguments)}function xH(n,e){return e().catch(t=>np(n,t,e))}function p8(n){return wC.apply(this,arguments)}function wC(){return wC=(0,q.Z)(function*(n){const e=We(n),t=eo(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;NP(e);)try{const o=yield _P(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,kP(e,o)}catch(o){yield np(e,o)}AH(e)&&TH(e)}),wC.apply(this,arguments)}function NP(n){return Ji(n)&&n.fu.length<10}function kP(n,e){n.fu.push(e);const t=eo(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function AH(n){return Ji(n)&&!eo(n).No()&&n.fu.length>0}function TH(n){eo(n).start()}function PP(n){return VC.apply(this,arguments)}function VC(){return VC=(0,q.Z)(function*(n){eo(n).eu()}),VC.apply(this,arguments)}function RP(n){return bC.apply(this,arguments)}function bC(){return bC=(0,q.Z)(function*(n){const e=eo(n);for(const t of n.fu)e.Xo(t.mutations)}),bC.apply(this,arguments)}function FP(n,e,t){return HC.apply(this,arguments)}function HC(){return HC=(0,q.Z)(function*(n,e,t){const r=n.fu.shift(),o=Ky.from(r,e,t);yield xH(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield p8(n)}),HC.apply(this,arguments)}function OP(n,e){return zC.apply(this,arguments)}function zC(){return zC=(0,q.Z)(function*(n,e){var t;e&&eo(n).Yo&&(yield(t=(0,q.Z)(function*(r,o){if(yb(a=o.code)&&a!==oe.ABORTED){const f=r.fu.shift();eo(r).Oo(),yield xH(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield p8(r)}var a}),function(r,o){return t.apply(this,arguments)})(n,e)),AH(n)&&TH(n)}),zC.apply(this,arguments)}function NH(n,e){return SC.apply(this,arguments)}function SC(){return SC=(0,q.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=Ji(t);t._u.add(3),yield h8(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Cu(t)}),SC.apply(this,arguments)}function EC(n,e){return IC.apply(this,arguments)}function IC(){return IC=(0,q.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield Cu(t)):e||(t._u.add(2),yield h8(t),t.gu.set("Unknown"))}),IC.apply(this,arguments)}function m8(n){return n.pu||(n.pu=function(e,t,r){const o=We(e);return o.su(),new SP(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:xP.bind(null,n),Zr:AP.bind(null,n),Wo:TP.bind(null,n)}),n.wu.push(function(){var e=(0,q.Z)(function*(t){t?(n.pu.Oo(),vC(n)?gC(n):n.gu.set("Unknown")):(yield n.pu.stop(),LH(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function eo(n){return n.Iu||(n.Iu=function(e,t,r){const o=We(e);return o.su(),new EP(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:PP.bind(null,n),Zr:OP.bind(null,n),tu:RP.bind(null,n),Zo:FP.bind(null,n)}),n.wu.push(function(){var e=(0,q.Z)(function*(t){t?(n.Iu.Oo(),yield p8(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class DC{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,a){const f=Date.now()+r,p=new DC(e,t,f,o,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g8(n,e){if(Ht("AsyncQueue",`${e}: ${n}`),cs(n))return new Ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class v8{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new At(this.comparator)}static emptySet(e){return new v8(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof v8)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new v8;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class kH{constructor(){this.Tu=new At(Oe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Qe():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class y8{constructor(e,t,r,o,a,f,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,o){const a=[];return t.forEach(f=>{a.push({type:0,doc:f})}),new y8(e,t,v8.emptySet(t),a,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J7(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class BP{constructor(){this.Au=void 0,this.listeners=[]}}class UP{constructor(){this.queries=new Zi(e=>nb(e),J7),this.onlineState="Unknown",this.Ru=new Set}}function LC(n,e){return xC.apply(this,arguments)}function xC(){return xC=(0,q.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1,a=t.queries.get(r);if(a||(o=!0,a=new BP),o)try{a.Au=yield t.onListen(r)}catch(f){const p=g8(f,`Initialization of query '${Oy(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&NC(t)}),xC.apply(this,arguments)}function AC(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,q.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1;const a=t.queries.get(r);if(a){const f=a.listeners.indexOf(e);f>=0&&(a.listeners.splice(f,1),o=0===a.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),TC.apply(this,arguments)}function jP(n,e){const t=We(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const p of f.listeners)p.Pu(o)&&(r=!0);f.Au=o}}r&&NC(t)}function $P(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.listeners)a.onError(t);r.queries.delete(e)}function NC(n){n.Ru.forEach(e=>{e.next()})}class kC{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new y8(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=y8.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class GP{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class PH{constructor(e){this.It=e}Ji(e){return n3(this.It,e)}Yi(e){return e.metadata.exists?Ab(this.It,e.document,!1):gt.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return _1(e)}}class WP{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RH(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=A2.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new PH(this.It);for(const o of e)if(o.metadata.queries){const a=r.Ji(o.metadata.name);for(const f of o.metadata.queries){const p=(t.get(f)||N2()).add(a);t.set(f,p)}}return t}complete(){var e=this;return(0,q.Z)(function*(){const t=yield function MP(n,e,t,r){return oC.apply(this,arguments)}(e.localStore,new PH(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const o of e.queries)yield wP(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function RH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FH{constructor(e){this.key=e}}class OH{constructor(e){this.key=e}}class BH{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=N2(),this.mutatedKeys=N2(),this.Ku=sb(e),this.Gu=new v8(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new kH,o=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,V="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((H,z)=>{const T=o.get(H),j=By(this.query,z)?z:null,J=!!T&&this.mutatedKeys.has(T.key),ye=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let xe=!1;T&&j?T.data.isEqual(j.data)?J!==ye&&(r.track({type:3,doc:j}),xe=!0):this.zu(T,j)||(r.track({type:2,doc:j}),xe=!0,(y&&this.Ku(j,y)>0||V&&this.Ku(j,V)<0)&&(p=!0)):!T&&j?(r.track({type:0,doc:j}),xe=!0):T&&!j&&(r.track({type:1,doc:T}),xe=!0,(y||V)&&(p=!0)),xe&&(j?(f=f.add(j),a=ye?a.add(H):a.delete(H)):(f=f.delete(H),a=a.delete(H)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const H="F"===this.query.limitType?f.last():f.first();f=f.delete(H.key),a=a.delete(H.key),r.track({type:1,doc:H})}return{Gu:f,Wu:r,$i:p,mutatedKeys:a}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((V,H)=>function(z,T){const j=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return j(z)-j(T)}(V.type,H.type)||this.Ku(V.doc,H.doc)),this.Hu(r);const f=t?this.Ju():[],p=0===this.qu.size&&this.current?1:0,y=p!==this.Uu;return this.Uu=p,0!==a.length||y?{snapshot:new y8(this.query,e.Gu,o,a,e.mutatedKeys,0===p,y,!1),Yu:f}:{Yu:f}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new kH,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=N2(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new OH(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new FH(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=N2();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return y8.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class qP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KP{constructor(e){this.key=e,this.ec=!1}}class ZP{constructor(e,t,r,o,a,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=f,this.nc={},this.sc=new Zi(p=>nb(p),J7),this.ic=new Map,this.rc=new Set,this.oc=new At(Oe.comparator),this.uc=new Map,this.cc=new Jy,this.ac={},this.hc=new Map,this.lc=ha.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function YP(n,e){return PC.apply(this,arguments)}function PC(){return PC=(0,q.Z)(function*(n,e){const t=o_(n);let r,o;const a=t.sc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),o=a.view.tc();else{const f=yield f8(t.localStore,zn(e));t.isPrimaryClient&&tp(t.remoteStore,f);const p=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield RC(t,e,r,"current"===p)}return o}),PC.apply(this,arguments)}function RC(n,e,t,r){return FC.apply(this,arguments)}function FC(){return FC=(0,q.Z)(function*(n,e,t,r){n.dc=(H,z,T)=>{return(j=(0,q.Z)(function*(J,ye,xe,l2){let r2=ye.view.ju(xe);r2.$i&&(r2=yield Qh(J.localStore,ye.query,!1).then(({documents:e2})=>ye.view.ju(e2,r2)));const s2=l2&&l2.targetChanges.get(ye.targetId),n2=ye.view.applyChanges(r2,J.isPrimaryClient,s2);return ZC(J,ye.targetId,n2.Yu),n2.snapshot}),function(J,ye,xe,l2){return j.apply(this,arguments)})(n,H,z,T);var j};const o=yield Qh(n.localStore,e,!0),a=new BH(e,o.Hi),f=a.ju(o.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=a.applyChanges(f,n.isPrimaryClient,p);ZC(n,t,y.Yu);const V=new qP(e,t,a);return n.sc.set(e,V),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),FC.apply(this,arguments)}function QP(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,q.Z)(function*(n,e){const t=We(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(a=>!J7(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield d8(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_u(t.remoteStore,r.targetId),C8(t,r.targetId)}).catch(i4))):(C8(t,r.targetId),yield d8(t.localStore,r.targetId,!0))}),OC.apply(this,arguments)}function BC(){return BC=(0,q.Z)(function*(n,e,t){const r=c_(n);try{const o=yield function(a,f){const p=We(a),y=pt.now(),V=f.reduce((T,j)=>T.add(j.key),N2());let H,z;return p.persistence.runTransaction("Locally write mutations","readwrite",T=>{let j=Sn(),J=N2();return p.Gi.getEntries(T,V).next(ye=>{j=ye,j.forEach((xe,l2)=>{l2.isValidDocument()||(J=J.add(xe))})}).next(()=>p.localDocuments.getOverlayedDocuments(T,j)).next(ye=>{H=ye;const xe=[];for(const l2 of f){const r2=ak(l2,H.get(l2.key).overlayedDocument);null!=r2&&xe.push(new ds(l2.key,r2,J0(r2.value.mapValue),zt.exists(!0)))}return p.mutationQueue.addMutationBatch(T,y,xe,f)}).next(ye=>{z=ye;const xe=ye.applyToLocalDocumentSet(H,J);return p.documentOverlayCache.saveOverlays(T,ye.batchId,xe)})}).then(()=>({batchId:z.batchId,changes:Mb(H)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(a,f,p){let y=a.ac[a.currentUser.toKey()];y||(y=new At(S2)),y=y.insert(f,p),a.ac[a.currentUser.toKey()]=y}(r,o.batchId,t),yield hs(r,o.changes),yield p8(r.remoteStore)}catch(o){const a=g8(o,"Failed to persist write");t.reject(a)}}),BC.apply(this,arguments)}function UH(n,e){return UC.apply(this,arguments)}function UC(){return UC=(0,q.Z)(function*(n,e){const t=We(n);try{const r=yield CP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const f=t.uc.get(a);f&&(C2(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.ec=!0:o.modifiedDocuments.size>0?C2(f.ec):o.removedDocuments.size>0&&(C2(f.ec),f.ec=!1))}),yield hs(t,r,e)}catch(r){yield i4(r)}}),UC.apply(this,arguments)}function jH(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((a,f)=>{const p=f.view.bu(e);p.snapshot&&o.push(p.snapshot)}),function(a,f){const p=We(a);p.onlineState=f;let y=!1;p.queries.forEach((V,H)=>{for(const z of H.listeners)z.bu(f)&&(y=!0)}),y&&NC(p)}(r.eventManager,e),o.length&&r.nc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JP(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,q.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),a=o&&o.key;if(a){let f=new At(Oe.comparator);f=f.insert(a,gt.newNoDocument(a,M2.min()));const p=N2().add(a),y=new su(M2.min(),new Map,new nt(S2),f,p);yield UH(r,y),r.oc=r.oc.remove(a),r.uc.delete(e),YC(r)}else yield d8(r.localStore,e,!1).then(()=>C8(r,e,t)).catch(i4)}),jC.apply(this,arguments)}function eR(n,e){return $C.apply(this,arguments)}function $C(){return $C=(0,q.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const o=yield yP(t.localStore,e);KC(t,r,null),qC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hs(t,o)}catch(o){yield i4(o)}}),$C.apply(this,arguments)}function tR(n,e,t){return GC.apply(this,arguments)}function GC(){return GC=(0,q.Z)(function*(n,e,t){const r=We(n);try{const o=yield function(a,f){const p=We(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let V;return p.mutationQueue.lookupMutationBatch(y,f).next(H=>(C2(null!==H),V=H.keys(),p.mutationQueue.removeMutationBatch(y,H))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,V,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,V)).next(()=>p.localDocuments.getDocuments(y,V))})}(r.localStore,e);KC(r,e,t),qC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hs(r,o)}catch(o){yield i4(o)}}),GC.apply(this,arguments)}function WC(){return WC=(0,q.Z)(function*(n,e){const t=We(n);Ji(t.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const f=We(a);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>f.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=g8(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),WC.apply(this,arguments)}function qC(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function KC(n,e,t){const r=We(n);let o=r.ac[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function C8(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||$H(n,r)})}function $H(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(_u(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),YC(n))}function ZC(n,e,t){for(const r of t)r instanceof FH?(n.cc.addReference(r.key,e),rR(n,r)):r instanceof OH?(Ie("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||$H(n,r.key)):Qe()}function rR(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ie("SyncEngine","New document in limbo: "+t),n.rc.add(r),YC(n))}function YC(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Oe(A2.fromString(e)),r=n.lc.next();n.uc.set(r,new KP(t)),n.oc=n.oc.insert(t,r),tp(n.remoteStore,new Yi(zn(t8(t.path)),r,2,$1.at))}}function hs(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,q.Z)(function*(n,e,t){const r=We(n),o=[],a=[],f=[];var p;r.sc.isEmpty()||(r.sc.forEach((p,y)=>{f.push(r.dc(y,e,t).then(V=>{if(V){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,V.fromCache?"not-current":"current"),o.push(V);const H=rC.Ci(y.targetId,V);a.push(H)}}))}),yield Promise.all(f),r.nc.Wo(o),yield(p=(0,q.Z)(function*(y,V){const H=We(y);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",z=>ne.forEach(V,T=>ne.forEach(T.Si,j=>H.persistence.referenceDelegate.addReference(z,T.targetId,j)).next(()=>ne.forEach(T.Di,j=>H.persistence.referenceDelegate.removeReference(z,T.targetId,j)))))}catch(z){if(!cs(z))throw z;Ie("LocalStore","Failed to update sequence numbers: "+z)}for(const z of V){const T=z.targetId;if(!z.fromCache){const j=H.Ui.get(T),ye=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);H.Ui=H.Ui.insert(T,ye)}}}),function(y,V){return p.apply(this,arguments)})(r.localStore,a))}),QC.apply(this,arguments)}function sR(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,q.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const r=yield yH(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(f=>{f.forEach(p=>{p.reject(new Ve(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hs(t,r.ji)}var o}),XC.apply(this,arguments)}function iR(n,e){const t=We(n),r=t.uc.get(e);if(r&&r.ec)return N2().add(r.key);{let o=N2();const a=t.ic.get(e);if(!a)return o;for(const f of a){const p=t.sc.get(f);o=o.unionWith(p.view.Qu)}return o}}function oR(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,q.Z)(function*(n,e){const t=We(n),r=yield Qh(t.localStore,e.query,!0),o=e.view.Zu(r);return t.isPrimaryClient&&ZC(t,e.targetId,o.Yu),o}),JC.apply(this,arguments)}function cR(n,e){return e_.apply(this,arguments)}function e_(){return e_=(0,q.Z)(function*(n,e){const t=We(n);return wH(t.localStore,e).then(r=>hs(t,r))}),e_.apply(this,arguments)}function aR(n,e,t,r){return t_.apply(this,arguments)}function t_(){return t_=(0,q.Z)(function*(n,e,t,r){const o=We(n),a=yield function(f,p){const y=We(f),V=We(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",H=>V.Tn(H,p).next(z=>z?y.localDocuments.getDocuments(H,z):ne.resolve(null)))}(o.localStore,e);var p;null!==a?("pending"===t?yield p8(o.remoteStore):"acknowledged"===t||"rejected"===t?(KC(o,e,r||null),qC(o,e),p=e,We(We(o.localStore).mutationQueue).An(p)):Qe(),yield hs(o,a)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)}),t_.apply(this,arguments)}function n_(){return n_=(0,q.Z)(function*(n,e){const t=We(n);if(o_(t),c_(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield GH(t,r.toArray());t.fc=!0,yield EC(t.remoteStore,!0);for(const a of o)tp(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((a,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(C8(t,f),d8(t.localStore,f,!0))),_u(t.remoteStore,f)}),yield o,yield GH(t,r),function(a){const f=We(a);f.uc.forEach((p,y)=>{_u(f.remoteStore,y)}),f.cc.fs(),f.uc=new Map,f.oc=new At(Oe.comparator)}(t),t.fc=!1,yield EC(t.remoteStore,!1)}}),n_.apply(this,arguments)}function GH(n,e,t){return r_.apply(this,arguments)}function r_(){return r_=(0,q.Z)(function*(n,e,t){const r=We(n),o=[],a=[];for(const f of e){let p;const y=r.ic.get(f);if(y&&0!==y.length){p=yield f8(r.localStore,zn(y[0]));for(const V of y){const H=r.sc.get(V),z=yield oR(r,H);z.snapshot&&a.push(z.snapshot)}}else{const V=yield MH(r.localStore,f);p=yield f8(r.localStore,V),yield RC(r,WH(V),f,!1)}o.push(p)}return r.nc.Wo(a),o}),r_.apply(this,arguments)}function WH(n){return eb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function uR(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function fR(n,e,t,r){return s_.apply(this,arguments)}function s_(){return s_=(0,q.Z)(function*(n,e,t,r){const o=We(n);if(o.fc)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const a=o.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const f=yield wH(o.localStore,rb(a[0])),p=su.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield hs(o,f,p);break}case"rejected":yield d8(o.localStore,e,!0),C8(o,e,r);break;default:Qe()}}),s_.apply(this,arguments)}function dR(n,e,t){return i_.apply(this,arguments)}function i_(){return i_=(0,q.Z)(function*(n,e,t){const r=o_(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Ie("SyncEngine","Adding an already active target "+o);continue}const a=yield MH(r.localStore,o),f=yield f8(r.localStore,a);yield RC(r,WH(a),f.targetId,!1),tp(r.remoteStore,f)}for(const o of t)r.ic.has(o)&&(yield d8(r.localStore,o,!1).then(()=>{_u(r.remoteStore,o),C8(r,o)}).catch(i4))}}),i_.apply(this,arguments)}function o_(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JP.bind(null,e),e.nc.Wo=jP.bind(null,e.eventManager),e.nc._c=$P.bind(null,e.eventManager),e}function c_(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class qH{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,q.Z)(function*(){t.It=yu(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return vH(this.persistence,new gH,e.initialUser,this.It)}gc(e){return new pH(Zh.Bs,this.It)}mc(e){return new zH}terminate(){var e=this;return(0,q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class KH extends qH{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,q.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield c_(r.Ec.syncEngine),yield p8(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return vH(this.persistence,new gH,e.initialUser,this.It)}Ic(e,t){return new rP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new GV(t,this.persistence);return new $V(e.asyncQueue,r)}gc(e){const t=nC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new tC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,EH(),ep(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new zH}}class pR extends KH{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,q.Z)(function*(){yield t().call(r,e);const o=r.Ec.syncEngine;r.sharedClientState instanceof fC&&(r.sharedClientState.syncEngine={Fr:aR.bind(null,o),$r:fR.bind(null,o),Br:dR.bind(null,o),vi:uR.bind(null,o),Or:cR.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,q.Z)(function*(f){yield function lR(n,e){return n_.apply(this,arguments)}(r.Ec.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start():f||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(f&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():f||r.indexBackfillerScheduler.stop())});return function(f){return a.apply(this,arguments)}}())})()}mc(e){const t=EH();if(!fC.C(t))throw new Ve(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=nC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class a_{initialize(e,t){var r=this;return(0,q.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>jH(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=sR.bind(null,r.syncEngine),yield EC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new UP}createDatastore(e){const t=yu(e.databaseInfo.databaseId),r=new zP(e.databaseInfo);return new IP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,a=p=>jH(this.syncEngine,p,0),f=SH.C()?new SH:new VP,new LP(t,r,o,a,f);var t,r,o,a,f}createSyncEngine(e,t){return function(r,o,a,f,p,y,V){const H=new ZP(r,o,a,f,p,y);return V&&(H.fc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,q.Z)(function*(t){const r=We(t);Ie("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield h8(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ZH(n,e=10240){let t=0;return{read:()=>(0,q.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,q.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ht("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mR{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Yt,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,q.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,q.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,q.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),o=Number(r);isNaN(o)&&e.Sc(`length string (${r}) is not valid number`);const a=yield e.Dc(o);return new GP(JSON.parse(a),t.length+o)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,q.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,q.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,q.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class gR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,q.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,q.Z)(function*(a,f){const p=We(a),y=au(p.It)+"/documents",V={documents:f.map(j=>cu(p.It,j))},H=yield p.fo("BatchGetDocuments",y,V,f.length),z=new Map;H.forEach(j=>{const J=function Ck(n,e){return"found"in e?function(t,r){C2(!!r.found);const o=n3(t,r.found.name),a=_1(r.found.updateTime),f=new Bt({mapValue:{fields:r.found.fields}});return gt.newFoundDocument(o,a,f)}(n,e):"missing"in e?function(t,r){C2(!!r.missing),C2(!!r.readTime);const o=n3(t,r.missing),a=_1(r.readTime);return gt.newNoDocument(o,a)}(n,e):Qe()}(p.It,j);z.set(J.key.toString(),J)});const T=[];return f.forEach(j=>{const J=z.get(j.toString());C2(!!J),T.push(J)}),T}),function(a,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new o8(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const a=Oe.fromPath(o);e.mutations.push(new Uy(a,e.precondition(a)))}),yield(r=(0,q.Z)(function*(o,a){const f=We(o),p=au(f.It)+"/documents",y={writes:a.map(V=>lu(f.It,V))};yield f.co("Commit",p,y)}),function(o,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qe();t=M2.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(M2.min())?zt.exists(!1):zt.updateTime(t):zt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(M2.min()))throw new Ve(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zt.updateTime(t)}return zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vR{constructor(e,t,r,o,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new dC(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,q.Z)(function*(){const t=new gR(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(a=>{e.Oc(a)}))}).catch(o=>{e.Oc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!yb(t)}return!1}}class yR{constructor(e,t,r,o){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Ty.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,q.Z)(function*(p){Ie("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Ie("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=g8(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function YH(n,e){return l_.apply(this,arguments)}function l_(){return l_=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,q.Z)(function*(a){r.isEqual(a)||(yield yH(e.localStore,a),r=a)});return function(a){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),l_.apply(this,arguments)}function QH(n,e){return u_.apply(this,arguments)}function u_(){return u_=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield f_(n);Ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>NH(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>NH(e.remoteStore,a)),n.onlineComponents=e}),u_.apply(this,arguments)}function f_(n){return d_.apply(this,arguments)}function d_(){return d_=(0,q.Z)(function*(n){return n.offlineComponents||(Ie("FirestoreClient","Using default OfflineComponentProvider"),yield YH(n,new qH)),n.offlineComponents}),d_.apply(this,arguments)}function sp(n){return h_.apply(this,arguments)}function h_(){return h_=(0,q.Z)(function*(n){return n.onlineComponents||(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield QH(n,new a_)),n.onlineComponents}),h_.apply(this,arguments)}function XH(n){return f_(n).then(e=>e.persistence)}function ip(n){return f_(n).then(e=>e.localStore)}function JH(n){return sp(n).then(e=>e.remoteStore)}function p_(n){return sp(n).then(e=>e.syncEngine)}function _8(n){return m_.apply(this,arguments)}function m_(){return m_=(0,q.Z)(function*(n){const e=yield sp(n),t=e.eventManager;return t.onListen=YP.bind(null,e.syncEngine),t.onUnlisten=QP.bind(null,e.syncEngine),t}),m_.apply(this,arguments)}function ez(n,e,t={}){const r=new Yt;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(o,a,f,p,y){const V=new rp({next:z=>{a.enqueueAndForget(()=>AC(o,H));const T=z.docs.has(f);!T&&z.fromCache?y.reject(new Ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&z.fromCache&&p&&"server"===p.source?y.reject(new Ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(z)},error:z=>y.reject(z)}),H=new kC(t8(f.path),V,{includeMetadataChanges:!0,Nu:!0});return LC(o,H)}(yield _8(n),n.asyncQueue,e,t,r)})),r.promise}function tz(n,e,t={}){const r=new Yt;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(o,a,f,p,y){const V=new rp({next:z=>{a.enqueueAndForget(()=>AC(o,H)),z.fromCache&&"server"===p.source?y.reject(new Ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(z)},error:z=>y.reject(z)}),H=new kC(f,V,{includeMetadataChanges:!0,Nu:!0});return LC(o,H)}(yield _8(n),n.asyncQueue,e,t,r)})),r.promise}const nz=new Map;function g_(n,e,t){if(!t)throw new Ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rz(n,e,t,r){if(!0===e&&!0===r)throw new Ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sz(n){if(!Oe.isDocumentKey(n))throw new Ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iz(n){if(Oe.isDocumentKey(n))throw new Ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function op(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Qe()}function $2(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=op(n);throw new Ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function oz(n,e){if(e<=0)throw new Ve(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cz{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mu{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new FV;switch(t.type){case"gapi":return new Ay(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nz.get(e);t&&(Ie("ComponentProvider","Removing Datastore"),nz.delete(e),t.terminate())}(this),Promise.resolve()}}class yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s3(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}}class G1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new G1(this.firestore,e,this._query)}}class s3 extends G1{constructor(e,t,r){super(e,t,t8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new Oe(e))}withConverter(e){return new s3(this.firestore,e,this._path)}}function v_(n,e,...t){if(n=(0,Xe.m9)(n),g_("collection","path",e),n instanceof Mu){const r=A2.fromString(e,...t);return iz(r),new s3(n,null,r)}{if(!(n instanceof yt||n instanceof s3))throw new Ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(A2.fromString(e,...t));return iz(r),new s3(n.firestore,null,r)}}function cp(n,e,...t){if(n=(0,Xe.m9)(n),1===arguments.length&&(e=Ty.R()),g_("doc","path",e),n instanceof Mu){const r=A2.fromString(e,...t);return sz(r),new yt(n,null,new Oe(r))}{if(!(n instanceof yt||n instanceof s3))throw new Ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(A2.fromString(e,...t));return sz(r),new yt(n.firestore,n instanceof s3?n.converter:null,new Oe(r))}}function az(n,e){return n=(0,Xe.m9)(n),e=(0,Xe.m9)(e),(n instanceof yt||n instanceof s3)&&(e instanceof yt||e instanceof s3)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function lz(n,e){return n=(0,Xe.m9)(n),e=(0,Xe.m9)(e),n instanceof G1&&e instanceof G1&&n.firestore===e.firestore&&J7(n._query,e._query)&&n.converter===e.converter}class IR{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new dC(this,"async_queue_retry"),this.jc=()=>{const t=ep();t&&Ie("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=ep();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=ep();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Yt;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,q.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!cs(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Ht("INTERNAL UNHANDLED ERROR: ",function(a){let f=a.message||"";return a.stack&&(f=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),f}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const o=DC.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(o),o}Wc(){this.qc&&Qe()}verifyOperationInProgress(){}Yc(){var e=this;return(0,q.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function y_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class DR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class St extends Mu{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new IR,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uz(this),this._firestoreClient.terminate()}}function xR(n,e){const t="object"==typeof n?n:(0,O2.getApp)(),r="string"==typeof n?n:e||"(default)";return(0,O2._getProvider)(t,"firestore").getImmediate({identifier:r})}function Jt(n){return n._firestoreClient||uz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uz(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new d(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new yR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function fz(n,e,t){const r=new Yt;return n.asyncQueue.enqueue((0,q.Z)(function*(){try{yield YH(n,t),yield QH(n,e),r.resolve()}catch(o){const a=o;if(!("FirebaseError"===(f=a).name?f.code===oe.FAILED_PRECONDITION||f.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw a;J4("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var f})).then(()=>r.promise)}function dz(n){if(n._initialized||n._terminated)throw new Ve(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ps{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i3{constructor(e){this._byteString=e}static fromBase64String(e){try{return new i3(Qt.fromBase64String(e))}catch(t){throw new Ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new i3(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ma{constructor(e){this._methodName=e}}class ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return S2(this._lat,e._lat)||S2(this._long,e._long)}}const BR=/^__.*__$/;class UR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new i8(e,this.data,t,this.fieldTransforms)}}class hz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class lp{constructor(e,t,r,o,a,f){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=f||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.oa(e),o}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.ea(),o}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return dp(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(pz(this.na)&&BR.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class jR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||yu(e)}fa(e,t,r,o=!1){return new lp({na:e,methodName:t,la:r,path:mt.emptyPath(),ra:!1,ha:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ga(n){const e=n._freezeSettings(),t=yu(n._databaseId);return new jR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function up(n,e,t,r,o,a={}){const f=n.fa(a.merge||a.mergeFields?2:0,e,t,o);w_("Data must be an object, but it was:",f,r);const p=vz(r,f);let y,V;if(a.merge)y=new Hn(f.fieldMask),V=f.fieldTransforms;else if(a.mergeFields){const H=[];for(const z of a.mergeFields){const T=V_(e,z,t);if(!f.contains(T))throw new Ve(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Cz(H,T)||H.push(T)}y=new Hn(H),V=f.fieldTransforms.filter(z=>y.covers(z.field))}else y=null,V=f.fieldTransforms;return new UR(new Bt(p),y,V)}class wu extends ma{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wu}}function mz(n,e,t){return new lp({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class C_ extends ma{_toFieldTransform(e){return new eu(e.path,new r8)}isEqual(e){return e instanceof C_}}class $R extends ma{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=mz(this,e,!0),r=this.da.map(a=>va(a,t)),o=new ia(r);return new eu(e.path,o)}isEqual(e){return this===e}}class GR extends ma{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=mz(this,e,!0),r=this.da.map(a=>va(a,t)),o=new oa(r);return new eu(e.path,o)}isEqual(e){return this===e}}class WR extends ma{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new s8(e.It,cb(e.It,this._a));return new eu(e.path,t)}isEqual(e){return this===e}}function __(n,e,t,r){const o=n.fa(1,e,t);w_("Data must be an object, but it was:",o,r);const a=[],f=Bt.empty();as(r,(y,V)=>{const H=fp(e,y,t);V=(0,Xe.m9)(V);const z=o.ua(H);if(V instanceof wu)a.push(H);else{const T=va(V,z);null!=T&&(a.push(H),f.set(H,T))}});const p=new Hn(a);return new hz(f,p,o.fieldTransforms)}function M_(n,e,t,r,o,a){const f=n.fa(1,e,t),p=[V_(e,r,t)],y=[o];if(a.length%2!=0)throw new Ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)p.push(V_(e,a[T])),y.push(a[T+1]);const V=[],H=Bt.empty();for(let T=p.length-1;T>=0;--T)if(!Cz(V,p[T])){const j=p[T];let J=y[T];J=(0,Xe.m9)(J);const ye=f.ua(j);if(J instanceof wu)V.push(j);else{const xe=va(J,ye);null!=xe&&(V.push(j),H.set(j,xe))}}const z=new Hn(V);return new hz(H,z,f.fieldTransforms)}function gz(n,e,t,r=!1){return va(t,n.fa(r?4:3,e))}function va(n,e){if(yz(n=(0,Xe.m9)(n)))return w_("Unsupported field value:",e,n),vz(n,e);if(n instanceof ma)return function(t,r){if(!pz(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const o=[];let a=0;for(const f of t){let p=va(f,r.ca(a));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),a++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cb(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=pt.fromDate(t);return{timestampValue:ou(r.It,o)}}if(t instanceof pt){const o=new pt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ou(r.It,o)}}if(t instanceof ap)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof i3)return{bytesValue:Eb(r.It,t._byteString)};if(t instanceof yt){const o=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(o))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${op(t)}`)}(n,e)}function vz(n,e){const t={};return ky(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(n,(r,o)=>{const a=va(o,e.ia(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function yz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof ap||n instanceof i3||n instanceof yt||n instanceof ma)}function w_(n,e,t){if(!yz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=op(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function V_(n,e,t){if((e=(0,Xe.m9)(e))instanceof ps)return e._internalPath;if("string"==typeof e)return fp(n,e);throw dp("Field path arguments must be of type string or ",n,!1,void 0,t)}const qR=new RegExp("[~\\*/\\[\\]]");function fp(n,e,t){if(e.search(qR)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ps(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dp(n,e,t,r,o){const a=r&&!r.isEmpty(),f=void 0!==o;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(a||f)&&(y+=" (found",a&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new Ve(oe.INVALID_ARGUMENT,p+n+y)}function Cz(n,e){return n.some(t=>t.isEqual(e))}class Vu{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KR extends Vu{data(){return super.data()}}function hp(n,e){return"string"==typeof e?fp(n,e):e instanceof ps?e._internalPath:e._delegate._internalPath}class ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ms extends Vu{constructor(e,t,r,o,a,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bu extends ms{data(e={}){return super.data(e)}}class to{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ya(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bu(this._firestore,this._userDataWriter,r.key,r,new ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new bu(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ya(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const p=new bu(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ya(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,V=-1;return 0!==f.type&&(y=a.indexOf(f.doc.key),a=a.delete(f.doc.key)),1!==f.type&&(a=a.add(f.doc),V=a.indexOf(f.doc.key)),{type:ZR(f.type),doc:p,oldIndex:y,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function _z(n,e){return n instanceof ms&&e instanceof ms?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof to&&e instanceof to&&n._firestore===e._firestore&&lz(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Mz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hu{}function no(n,...e){for(const t of e)n=t._apply(n);return n}class YR extends Hu{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=ga(e.firestore),r=function(o,a,f,p,y,V,H){let z;if(y.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new Ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){Sz(H,V);const j=[];for(const J of H)j.push(zz(p,o,J));z={arrayValue:{values:j}}}else z=zz(p,o,H)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||Sz(H,V),z=gz(f,"where",H,"in"===V||"not-in"===V);const T=k1.create(y,V,z);return function(j,J){if(J.dt()){const xe=Ry(j);if(null!==xe&&!xe.isEqual(J.field))throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${J.field.toString()}'`);const l2=Py(j);null!==l2&&Ez(0,J.field,l2)}const ye=function(xe,l2){for(const r2 of xe.filters)if(l2.indexOf(r2.op)>=0)return r2.op;return null}(j,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==ye)throw new Ve(oe.INVALID_ARGUMENT,ye===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${ye.toString()}' filters.`)}(o,T),T}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new G1(e.firestore,e.converter,function(o,a){const f=o.filters.concat([a]);return new fs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class XR extends Hu{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,o,a){if(null!==r.startAt)throw new Ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new e8(o,a);return function(p,y){if(null===Py(p)){const V=Ry(p);null!==V&&Ez(0,V,y.field)}}(r,f),f}(e._query,this.wa,this.ya);return new G1(e.firestore,e.converter,function(r,o){const a=r.explicitOrderBy.concat([o]);return new fs(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class wz extends Hu{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new G1(e.firestore,e.converter,Nh(e._query,this.pa,this.Ia))}}class Vz extends Hu{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=Hz(e,this.type,this.Ta,this.Ea);return new G1(e.firestore,e.converter,(o=t,new fs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class bz extends Hu{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=Hz(e,this.type,this.Ta,this.Ea);return new G1(e.firestore,e.converter,(o=t,new fs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function Hz(n,e,t,r){if(t[0]=(0,Xe.m9)(t[0]),t[0]instanceof Vu)return function(o,a,f,p,y){if(!p)throw new Ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const V=[];for(const H of n8(o))if(H.field.isKeyField())V.push(ge(a,p.key));else{const z=p.data.field(H.field);if(c(z))throw new Ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+H.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===z){const T=H.field.canonicalString();throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}V.push(z)}return new Ki(V,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=ga(n.firestore);return function(a,f,p,y,V,H){const z=a.explicitOrderBy;if(V.length>z.length)throw new Ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let j=0;j<V.length;j++){const J=V[j];if(z[j].field.isKeyField()){if("string"!=typeof J)throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof J}`);if(!Fy(a)&&-1!==J.indexOf("/"))throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${J}' contains a slash.`);const ye=a.path.child(A2.fromString(J));if(!Oe.isDocumentKey(ye))throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const xe=new Oe(ye);T.push(ge(f,xe))}else{const ye=gz(p,y,J);T.push(ye)}}return new Ki(T,H)}(n._query,n.firestore._databaseId,o,e,t,r)}}function zz(n,e,t){if("string"==typeof(t=(0,Xe.m9)(t))){if(""===t)throw new Ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fy(e)&&-1!==t.indexOf("/"))throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(A2.fromString(t));if(!Oe.isDocumentKey(r))throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ge(n,new Oe(r))}if(t instanceof yt)return ge(n,t._key);throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(t)}.`)}function Sz(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(oe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ez(n,e,t){if(!t.isEqual(e))throw new Ve(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const oF={maxAttempts:5};class b_{convertValue(e,t="none"){switch(O(e)){case 0:return null;case 1:return e.booleanValue;case 2:return s(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qe()}}convertObject(e,t){const r={};return as(e.fields,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new ap(s(e.latitude),s(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=l(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(u(e));default:return null}}convertTimestamp(e){const t=ls(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=A2.fromString(e);C2(Rb(r));const o=new v(r.get(1),r.get(3)),a=new Oe(r.popFirst(5));return o.isEqual(t)||Ht(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function pp(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cF extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new i3(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}class Iz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ga(e)}set(e,t,r){this._verifyNotCommitted();const o=ro(e,this._firestore),a=pp(o.converter,t,r),f=up(this._dataReader,"WriteBatch.set",o._key,a,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,zt.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const a=ro(e,this._firestore);let f;return f="string"==typeof(t=(0,Xe.m9)(t))||t instanceof ps?M_(this._dataReader,"WriteBatch.update",a._key,t,r,o):__(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(f.toMutation(a._key,zt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ro(e,this._firestore);return this._mutations=this._mutations.concat(new o8(t._key,zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ro(n,e){if((n=(0,Xe.m9)(n)).firestore!==e)throw new Ve(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ca extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new i3(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function Dz(n,e,t){n=$2(n,yt);const r=$2(n.firestore,St),o=pp(n.converter,e,t);return M8(r,[up(ga(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,zt.none())])}function Lz(n,e,t,...r){n=$2(n,yt);const o=$2(n.firestore,St),a=ga(o);let f;return f="string"==typeof(e=(0,Xe.m9)(e))||e instanceof ps?M_(a,"updateDoc",n._key,e,t,r):__(a,"updateDoc",n._key,e),M8(o,[f.toMutation(n._key,zt.exists(!0))])}function H_(n,...e){var t,r,o;n=(0,Xe.m9)(n);let a={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||y_(e[f])||(a=e[f],f++);const p={includeMetadataChanges:a.includeMetadataChanges};if(y_(e[f])){const z=e[f];e[f]=null===(t=z.next)||void 0===t?void 0:t.bind(z),e[f+1]=null===(r=z.error)||void 0===r?void 0:r.bind(z),e[f+2]=null===(o=z.complete)||void 0===o?void 0:o.bind(z)}let y,V,H;if(n instanceof yt)V=$2(n.firestore,St),H=t8(n._key.path),y={next:z=>{e[f]&&e[f](z_(V,n,z))},error:e[f+1],complete:e[f+2]};else{const z=$2(n,G1);V=$2(z.firestore,St),H=z._query;const T=new Ca(V);y={next:j=>{e[f]&&e[f](new to(V,T,z,j))},error:e[f+1],complete:e[f+2]},Mz(n._query)}return function(z,T,j,J){const ye=new rp(J),xe=new kC(T,ye,j);return z.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return LC(yield _8(z),xe)})),()=>{ye.Rc(),z.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return AC(yield _8(z),xe)}))}}(Jt(V),H,p,y)}function M8(n,e){return function(t,r){const o=new Yt;return t.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function XP(n,e,t){return BC.apply(this,arguments)}(yield p_(t),r,o)})),o.promise}(Jt(n),e)}function z_(n,e,t){const r=t.docs.get(e._key),o=new Ca(n);return new ms(n,o,e._key,r,new ya(t.hasPendingWrites,t.fromCache),e.converter)}class vF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ga(e)}get(e){const t=ro(e,this._firestore),r=new cF(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Qe();const a=o[0];if(a.isFoundDocument())return new Vu(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Vu(this._firestore,r,t._key,null,t.converter);throw Qe()})}set(e,t,r){const o=ro(e,this._firestore),a=pp(o.converter,t,r),f=up(this._dataReader,"Transaction.set",o._key,a,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const a=ro(e,this._firestore);let f;return f="string"==typeof(t=(0,Xe.m9)(t))||t instanceof ps?M_(this._dataReader,"Transaction.update",a._key,t,r,o):__(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,f),this}delete(e){const t=ro(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ro(e,this._firestore),r=new Ca(this._firestore);return super.get(e).then(o=>new ms(this._firestore,r,t._key,o._document,new ya(!1,!1),t.converter))}}!function(n,e=!0){ss=O2.SDK_VERSION,(0,O2._registerComponent)(new en.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const a=t.getProvider("app").getImmediate(),f=new St(new Vh(t.getProvider("auth-internal")),new BV(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new v(p.options.projectId,y)}(a,r),a);return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),(0,O2.registerVersion)($7,"3.4.15",n),(0,O2.registerVersion)($7,"3.4.15","esm2017")}();var bF={includeMetadataChanges:!1};function LF(n,e){return void 0===e&&(e={}),function DF(n){return function S_(n,e){return void 0===e&&(e=bF),new Y1.y(function(t){return{unsubscribe:H_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,Pt.U)(function(e){return e.docs}))}(n).pipe((0,Pt.U)(function(t){return t.map(function(r){return function Az(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class mp{constructor(e){return e}}const Pz="firestore",D_=new g.OlP("angularfire2.firestore-instances");function TF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mp(r)}}const NF={provide:class xF{constructor(){return K6(Pz)}},deps:[[new g.FiY,D_]]},kF={provide:mp,useFactory:function AF(n,e){const t=function q6(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(f=>f.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Pz,n,e);return t&&new mp(t)},deps:[[new g.FiY,D_],Yr]};let PF=(()=>{class n{constructor(){(0,O2.registerVersion)("angularfire",L4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[kF,NF]}),n})();function RF(n,...e){return{ngModule:PF,providers:[{provide:D_,useFactory:TF(n),multi:!0,deps:[g.R0b,g.zs3,Sc,Z6,[new g.FiY,F5],[new g.FiY,d0],...e]}]}}const FF=Y3(LF,!0),OF=Y3(v_,!0),BF=Y3(xR,!0);var x_={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},KD={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]};function w8(...n){const e=(0,I3.yG)(n);return(0,z1.D)(n,e)}var u6e=x(6131);function lT(...n){return function f6e(){return(0,u6e.J)(1)}()((0,z1.D)(n,(0,I3.yG)(n)))}function bM(...n){const e=(0,I3.yG)(n);return(0,y1.e)((t,r)=>{(e?lT(n,t,e):lT(n,t)).subscribe(r)})}function HM(){return(0,y1.e)((n,e)=>{let t,r=!1;n.subscribe((0,S1.x)(e,o=>{const a=t;t=o,r&&e.next([a,o]),r=!0}))})}function d6e(n,e,t,r,o){return(a,f)=>{let p=t,y=e,V=0;a.subscribe((0,S1.x)(f,H=>{const z=V++;y=p?n(y,H,z):(p=!0,H),r&&f.next(y)},o&&(()=>{p&&f.next(y),f.complete()})))}}function zM(n,e){return(0,y1.e)(d6e(n,e,arguments.length>=2,!0))}function p6e(n,e){return n===e}function xp(n,e){return(0,y1.e)((t,r)=>{let o=0;t.subscribe((0,S1.x)(r,a=>n.call(e,a,o++)&&r.next(a)))})}var c4=x(2011),m6e=(x(5881),x(3942));function SM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uT(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function fT(){if(!function WV(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lu{constructor(e){this._delegate=e}static fromBase64String(e){return fT(),new Lu(i3.fromBase64String(e))}static fromUint8Array(e){return uT(),new Lu(i3.fromUint8Array(e))}toBase64(){return fT(),this._delegate.toBase64()}toUint8Array(){return uT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function EM(n){return function y6e(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class C6e{enableIndexedDbPersistence(e,t){return function AR(n,e){dz(n=$2(n,St));const t=Jt(n),r=n._freezeSettings(),o=new a_;return fz(t,o,new KH(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TR(n){dz(n=$2(n,St));const e=Jt(n),t=n._freezeSettings(),r=new a_;return fz(e,r,new pR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function NR(n){if(n._initialized&&!n._terminated)throw new Ve(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yt;return n._queue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{yield(t=(0,q.Z)(function*(r){if(!jn.C())return Promise.resolve();const o=r+"main";yield jn.delete(o)}),function(r){return t.apply(this,arguments)})(nC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dT{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof v||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&J4("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function SR(n,e,t,r={}){var o;const a=(n=$2(n,Mu))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&J4("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,p;if("string"==typeof r.mockUserToken)f=r.mockUserToken,p=Zt.MOCK_USER;else{f=(0,Xe.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Zt(y)}n._authCredentials=new OV(new wh(f,p))}}(this._delegate,e,t,r)}enableNetwork(){return function PR(n){return function CR(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield XH(n),t=yield JH(n);return e.setNetworkEnabled(!0),function(r){const o=We(r);return o._u.delete(0),Cu(o)}(t)}))}(Jt(n=$2(n,St)))}(this._delegate)}disableNetwork(){return function RR(n){return function _R(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield XH(n),t=yield JH(n);return e.setNetworkEnabled(!1),(r=(0,q.Z)(function*(o){const a=We(o);a._u.add(0),yield h8(a),a.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Jt(n=$2(n,St)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rz("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function kR(n){return function(e){const t=new Yt;return e.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function nR(n,e){return WC.apply(this,arguments)}(yield p_(e),t)})),t.promise}(Jt(n=$2(n,St)))}(this._delegate)}onSnapshotsInSync(e){return function gF(n,e){return function VR(n,e){const t=new rp(e);return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return r=yield _8(n),o=t,We(r).Ru.add(o),void o.next();var r,o})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return r=yield _8(n),o=t,void We(r).Ru.delete(o);var r,o}))}}(Jt(n=$2(n,St)),y_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new V8(this,v_(this._delegate,e))}catch(t){throw ln(t,"collection()","Firestore.collection()")}}doc(e){try{return new mr(this,cp(this._delegate,e))}catch(t){throw ln(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new un(this,function ER(n,e){if(n=$2(n,Mu),g_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new G1(n,null,(t=e,new fs(A2.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ln(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yF(n,e,t){n=$2(n,St);const r=Object.assign(Object.assign({},oF),t);return function(o){if(o.maxAttempts<1)throw new Ve(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function bR(n,e,t){const r=new Yt;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){const o=yield(a=n,sp(a).then(f=>f.datastore));var a;new vR(n.asyncQueue,o,t,e,r).run()})),r.promise}(Jt(n),o=>e(new vF(n,o)),r)}(this._delegate,t=>e(new hT(this,t)))}batch(){return Jt(this._delegate),new pT(new Iz(this._delegate,e=>M8(this._delegate,e)))}loadBundle(e){return function FR(n,e){const t=Jt(n=$2(n,St)),r=new DR;return function HR(n,e,t,r){const o=function(a,f){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,V){if(y instanceof Uint8Array)return ZH(y,V);if(y instanceof ArrayBuffer)return ZH(new Uint8Array(y),V);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new mR(y,f);var y}(t,yu(e));n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){!function hR(n,e,t){const r=We(n);var o;(o=(0,q.Z)(function*(a,f,p){try{const y=yield f.getMetadata();if(yield function(T,j){const J=We(T),ye=_1(j.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",xe=>J.Ns.getBundleMetadata(xe,j.id)).then(xe=>!!xe&&xe.createTime.compareTo(ye)>=0)}(a.localStore,y))return yield f.close(),p._completeWith({taskState:"Success",documentsLoaded:(T=y).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);p._updateProgress(RH(y));const V=new WP(y,a.localStore,f.It);let H=yield f.wc();for(;H;){const T=yield V.Ou(H);T&&p._updateProgress(T),H=yield f.wc()}const z=yield V.complete();return yield hs(a,z.Bu,void 0),yield function(T,j){const J=We(T);return J.persistence.runTransaction("Save bundle","readwrite",ye=>J.Ns.saveBundleMetadata(ye,j))}(a.localStore,y),p._completeWith(z.progress),Promise.resolve(z.$u)}catch(y){return J4("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var T}),function(a,f,p){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield p_(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function OR(n,e){return function zR(n,e){return n.asyncQueue.enqueue((0,q.Z)(function*(){return function(t,r){const o=We(t);return o.persistence.runTransaction("Get named query","readonly",a=>o.Ns.getNamedQuery(a,r))}(yield ip(n),e)}))}(Jt(n=$2(n,St)),e).then(t=>t?new G1(n,null,t.query):null)}(this._delegate,e).then(t=>t?new un(this,t):null)}}class Ap extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(new i3(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return mr.forKey(t,this.firestore,null)}}class hT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}get(e){const t=Ma(e);return this._delegate.get(t).then(r=>new xu(this._firestore,new ms(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Ma(e);return r?(SM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const a=Ma(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...o),this}delete(e){const t=Ma(e);return this._delegate.delete(t),this}}class pT{constructor(e){this._delegate=e}set(e,t,r){const o=Ma(e);return r?(SM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const a=Ma(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...o),this}delete(e){const t=Ma(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _a{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Au(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_a.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let a=o.get(t);return a||(a=new _a(e,new Ap(e),t),o.set(t,a)),a}}_a.INSTANCES=new WeakMap;class mr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new mr(t,new yt(t._delegate,r,new Oe(e)))}static forKey(e,t,r){return new mr(t,new yt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new V8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new V8(this.firestore,v_(this._delegate,e))}catch(t){throw ln(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xe.m9)(e))instanceof yt&&az(this._delegate,e)}set(e,t){t=SM("DocumentReference.set",t);try{return t?Dz(this._delegate,e,t):Dz(this._delegate,e)}catch(r){throw ln(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Lz(this._delegate,e):Lz(this._delegate,e,t,...r)}catch(o){throw ln(o,"updateDoc()","DocumentReference.update()")}}delete(){return function pF(n){return M8($2(n.firestore,St),[new o8(n._key,zt.none())])}(this._delegate)}onSnapshot(...e){const t=mT(e),r=gT(e,o=>new xu(this.firestore,new ms(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return H_(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lF(n){n=$2(n,yt);const e=$2(n.firestore,St),t=Jt(e),r=new Ca(e);return function MR(n,e){const t=new Yt;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(r=(0,q.Z)(function*(o,a,f){try{const p=yield function(y,V){const H=We(y);return H.persistence.runTransaction("read document","readonly",z=>H.localDocuments.getDocument(z,V))}(o,a);p.isFoundDocument()?f.resolve(p):p.isNoDocument()?f.resolve(null):f.reject(new Ve(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=g8(p,`Failed to get document '${a} from cache`);f.reject(y)}}),function(o,a,f){return r.apply(this,arguments)})(yield ip(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ms(e,r,n._key,o,new ya(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function uF(n){n=$2(n,yt);const e=$2(n.firestore,St);return ez(Jt(e),n._key,{source:"server"}).then(t=>z_(e,n,t))}(this._delegate):function aF(n){n=$2(n,yt);const e=$2(n.firestore,St);return ez(Jt(e),n._key).then(t=>z_(e,n,t))}(this._delegate),t.then(r=>new xu(this.firestore,new ms(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new mr(this.firestore,this._delegate.withConverter(e?_a.getInstance(this.firestore,e):null))}}function ln(n,e,t){return n.message=n.message.replace(e,t),n}function mT(n){for(const e of n)if("object"==typeof e&&!EM(e))return e;return{}}function gT(n,e){var t,r;let o;return o=EM(n[0])?n[0]:EM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{o.next&&o.next(e(a))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class xu{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new mr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _z(this._delegate,e._delegate)}}class Au extends xu{data(e){const t=this._delegate.data(e);return function Mh(n,e){n||Qe()}(void 0!==t),t}}class un{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ap(e)}where(e,t,r){try{return new un(this.firestore,no(this._delegate,function QR(n,e,t){const r=e,o=hp("where",n);return new YR(o,r,t)}(e,t,r)))}catch(o){throw ln(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new un(this.firestore,no(this._delegate,function JR(n,e="asc"){const t=e,r=hp("orderBy",n);return new XR(r,t)}(e,t)))}catch(r){throw ln(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new un(this.firestore,no(this._delegate,function eF(n){return oz("limit",n),new wz("limit",n,"F")}(e)))}catch(t){throw ln(t,"limit()","Query.limit()")}}limitToLast(e){try{return new un(this.firestore,no(this._delegate,function tF(n){return oz("limitToLast",n),new wz("limitToLast",n,"L")}(e)))}catch(t){throw ln(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new un(this.firestore,no(this._delegate,function nF(...n){return new Vz("startAt",n,!0)}(...e)))}catch(t){throw ln(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new un(this.firestore,no(this._delegate,function rF(...n){return new Vz("startAfter",n,!1)}(...e)))}catch(t){throw ln(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new un(this.firestore,no(this._delegate,function sF(...n){return new bz("endBefore",n,!1)}(...e)))}catch(t){throw ln(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new un(this.firestore,no(this._delegate,function iF(...n){return new bz("endAt",n,!0)}(...e)))}catch(t){throw ln(t,"endAt()","Query.endAt()")}}isEqual(e){return lz(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function dF(n){n=$2(n,G1);const e=$2(n.firestore,St),t=Jt(e),r=new Ca(e);return function wR(n,e){const t=new Yt;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(r=(0,q.Z)(function*(o,a,f){try{const p=yield Qh(o,a,!0),y=new BH(a,p.Hi),V=y.ju(p.documents),H=y.applyChanges(V,!1);f.resolve(H.snapshot)}catch(p){const y=g8(p,`Failed to execute query '${a} against cache`);f.reject(y)}}),function(o,a,f){return r.apply(this,arguments)})(yield ip(n),e,t);var r})),t.promise}(t,n._query).then(o=>new to(e,r,n,o))}(this._delegate):"server"===e?.source?function hF(n){n=$2(n,G1);const e=$2(n.firestore,St),t=Jt(e),r=new Ca(e);return tz(t,n._query,{source:"server"}).then(o=>new to(e,r,n,o))}(this._delegate):function fF(n){n=$2(n,G1);const e=$2(n.firestore,St),t=Jt(e),r=new Ca(e);return Mz(n._query),tz(t,n._query).then(o=>new to(e,r,n,o))}(this._delegate),t.then(r=>new IM(this.firestore,new to(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=mT(e),r=gT(e,o=>new IM(this.firestore,new to(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return H_(this._delegate,t,r)}withConverter(e){return new un(this.firestore,this._delegate.withConverter(e?_a.getInstance(this.firestore,e):null))}}class M6e{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Au(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new un(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Au(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new M6e(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Au(this._firestore,r))})}isEqual(e){return _z(this._delegate,e._delegate)}}class V8 extends un{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mr(this.firestore,e):null}doc(e){try{return new mr(this.firestore,void 0===e?cp(this._delegate):cp(this._delegate,e))}catch(t){throw ln(t,"doc()","CollectionReference.doc()")}}add(e){return function mF(n,e){const t=$2(n.firestore,St),r=cp(n),o=pp(n.converter,e);return M8(t,[up(ga(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,zt.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new mr(this.firestore,t))}isEqual(e){return az(this._delegate,e._delegate)}withConverter(e){return new V8(this.firestore,this._delegate.withConverter(e?_a.getInstance(this.firestore,e):null))}}function Ma(n){return $2(n,yt)}class DM{constructor(...e){this._delegate=new ps(...e)}static documentId(){return new DM(mt.keyField().canonicalString())}isEqual(e){return(e=(0,Xe.m9)(e))instanceof ps&&this._delegate._internalPath.isEqual(e._internalPath)}}class wa{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _F(){return new C_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wa(e)}static delete(){const e=function CF(){return new wu("deleteField")}();return e._methodName="FieldValue.delete",new wa(e)}static arrayUnion(...e){const t=function MF(...n){return new $R("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new wa(t)}static arrayRemove(...e){const t=function wF(...n){return new GR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new wa(t)}static increment(e){const t=function VF(n){return new WR("increment",n)}(e);return t._methodName="FieldValue.increment",new wa(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const w6e={Firestore:dT,GeoPoint:ap,Timestamp:pt,Blob:Lu,Transaction:hT,WriteBatch:pT,DocumentReference:mr,DocumentSnapshot:xu,Query:un,QueryDocumentSnapshot:Au,QuerySnapshot:IM,CollectionReference:V8,FieldPath:DM,FieldValue:wa,setLogLevel:function _6e(n){!function _h(n){is.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function b6e(n){(function V6e(n,e){n.INTERNAL.registerComponent(new en.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},w6e)))})(n,(e,t)=>new dT(e,t,new C6e)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(m6e.Z);var vT=x(7579),H6e=x(6451);function so(n,e){return(0,y1.e)((t,r)=>{let o=null,a=0,f=!1;const p=()=>f&&!o&&r.complete();t.subscribe((0,S1.x)(r,y=>{o?.unsubscribe();let V=0;const H=a++;(0,er.Xf)(n(y,H)).subscribe(o=(0,S1.x)(r,z=>r.next(e?e(y,z,H,V++):z),()=>{o=null,p()}))},()=>{f=!0,p()}))})}class z6e extends vT.x{constructor(e=1/0,t=1/0,r=x9){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:a,_windowTime:f}=this;t||(r.push(e),!o&&r.push(a.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,a=o.slice();for(let f=0;f<a.length&&!e.closed;f+=r?1:2)e.next(a[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,a=(o?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!o){const f=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=f;y+=2)p=y;p&&r.splice(0,p+1)}}}var S6e=x(3099);function yT(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,S6e.B)({connector:()=>new z6e(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const CT=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var I6e=x(515);function D6e(n){return n<=0?()=>I6e.E:(0,y1.e)((e,t)=>{let r=0;e.subscribe((0,S1.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function L6e(n){return(0,y1.e)((e,t)=>{let r=!1;e.subscribe((0,S1.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function x6e(n=A6e){return(0,y1.e)((e,t)=>{let r=!1;e.subscribe((0,S1.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function A6e(){return new CT}function _T(n,e){return(0,a1.m)(e)?so(()=>n,e):so(()=>n)}x(127);const MT=new g.OlP("angularfire2.auth.use-emulator"),wT=new g.OlP("angularfire2.auth.settings"),VT=new g.OlP("angularfire2.auth.tenant-id"),bT=new g.OlP("angularfire2.auth.langugage-code"),HT=new g.OlP("angularfire2.auth.use-device-language"),zT=new g.OlP("angularfire.auth.persistence"),ST=(n,e,t,r,o,a,f,p)=>(0,c4.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=o,a&&y.useDeviceLanguage(),f)for(const[V,H]of Object.entries(f))y.settings[V]=H;return p&&y.setPersistence(p),y},[t,r,o,a,f,p]);let ET=(()=>{class n{constructor(t,r,o,a,f,p,y,V,H,z,T,j){const J=new vT.x,ye=w8(void 0).pipe((0,Bn.Q)(f.outsideAngular),so(()=>a.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,Pt.U)(()=>(0,c4.on)(t,a,r)),(0,Pt.U)(xe=>ST(xe,a,p,V,H,z,y,T)),yT({bufferSize:1,refCount:!1}));if(h3(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=w8(null);else{ye.pipe(function T6e(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xp((o,a)=>n(o,a,r)):Hi.y,D6e(1),t?L6e(e):x6e(()=>new CT))}()).subscribe();const l2=ye.pipe(so(n2=>n2.getRedirectResult().then(e2=>e2,()=>null)),D1,yT({bufferSize:1,refCount:!1})),r2=ye.pipe(so(n2=>new Y1.y(e2=>({unsubscribe:a.runOutsideAngular(()=>n2.onAuthStateChanged(V2=>e2.next(V2),V2=>e2.error(V2),()=>e2.complete()))})))),s2=ye.pipe(so(n2=>new Y1.y(e2=>({unsubscribe:a.runOutsideAngular(()=>n2.onIdTokenChanged(V2=>e2.next(V2),V2=>e2.error(V2),()=>e2.complete()))}))));this.authState=l2.pipe(_T(r2),(0,q3.R)(f.outsideAngular),(0,Bn.Q)(f.insideAngular)),this.user=l2.pipe(_T(s2),(0,q3.R)(f.outsideAngular),(0,Bn.Q)(f.insideAngular)),this.idToken=this.user.pipe(so(n2=>n2?(0,z1.D)(n2.getIdToken()):w8(null))),this.idTokenResult=this.user.pipe(so(n2=>n2?(0,z1.D)(n2.getIdTokenResult()):w8(null))),this.credential=(0,H6e.T)(l2,J,this.authState.pipe(xp(n2=>!n2))).pipe((0,Pt.U)(n2=>n2?.user?n2:null),(0,q3.R)(f.outsideAngular),(0,Bn.Q)(f.insideAngular))}return(0,c4.pX)(this,ye,a,{spy:{apply:(xe,l2,r2)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&r2.then(s2=>J.next(s2))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(c4.Dh),g.LFG(c4.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sc),g.LFG(MT,8),g.LFG(wT,8),g.LFG(VT,8),g.LFG(bT,8),g.LFG(HT,8),g.LFG(zT,8),g.LFG(d0,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function IT(n,e){return function k6e(n,e=On){return new Y1.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function LM(n,e){return IT(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function Tp(n,e){return LM(n,e).pipe(bM(void 0),HM(),(0,Pt.U)(([t,r])=>{const o=r.payload.docChanges(),a=o.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,p)=>{const y=o.find(H=>H.doc.ref.isEqual(f.ref)),V=t?.payload.docs.find(H=>H.ref.isEqual(f.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(f.metadata)||!y&&V&&JSON.stringify(V.metadata)===JSON.stringify(f.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:f}})}),a}))}function DT(n,e,t){return Tp(n,t).pipe(zM((r,o)=>function R6e(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function F6e(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return xM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return xM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(a=>a.payload),e),[]),function h6e(n,e=Hi.y){return n=n??p6e,(0,y1.e)((t,r)=>{let o,a=!0;t.subscribe((0,S1.x)(r,f=>{const p=e(f);(a||!n(o,p))&&(a=!1,o=p,r.next(f))}))})}(),(0,Pt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function xM(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function LT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xT{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Tp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(bM(void 0),HM(),xp(([r,o])=>o.length>0||!r),(0,Pt.U)(([r,o])=>o),D1)}auditTrail(e){return this.stateChanges(e).pipe(zM((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LT(e);return DT(this.query,t,this.afs.schedulers.outsideAngular).pipe(D1)}valueChanges(e={}){return LM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),D1)}get(e){return(0,z1.D)(this.query.get(e)).pipe(D1)}add(e){return this.ref.add(e)}doc(e){return new AT(this.ref.doc(e),this.afs)}}class AT{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:a}=TT(r,t);return new xT(o,a,this.afs)}snapshotChanges(){return function P6e(n,e){return IT(n,e).pipe(bM(void 0),HM(),(0,Pt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(D1)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,z1.D)(this.ref.get(e)).pipe(D1)}}class O6e{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xp(t=>t.length>0),D1):Tp(this.query,this.afs.schedulers.outsideAngular).pipe(D1)}auditTrail(e){return this.stateChanges(e).pipe(zM((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LT(e);return DT(this.query,t,this.afs.schedulers.outsideAngular).pipe(D1)}valueChanges(e={}){return LM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),D1)}get(e){return(0,z1.D)(this.query.get(e)).pipe(D1)}}const B6e=new g.OlP("angularfire2.enableFirestorePersistence"),U6e=new g.OlP("angularfire2.firestore.persistenceSettings"),j6e=new g.OlP("angularfire2.firestore.settings"),$6e=new g.OlP("angularfire2.firestore.use-emulator");function TT(n,e=(t=>t)){return{query:e(n),ref:n}}let G6e=(()=>{class n{constructor(t,r,o,a,f,p,y,V,H,z,T,j,J,ye,xe,l2,r2){this.schedulers=y;const s2=(0,c4.on)(t,p,r),n2=H;z&&ST(s2,p,T,J,ye,xe,j,l2),[this.firestore,this.persistenceEnabled$]=(0,c4.cc)(`${s2.name}.firestore`,"AngularFirestore",s2.name,()=>{const e2=p.runOutsideAngular(()=>s2.firestore());if(a&&e2.settings(a),n2&&e2.useEmulator(...n2),o&&!h3(f)){const V2=()=>{try{return(0,z1.D)(e2.enablePersistence(V||void 0).then(()=>!0,()=>!1))}catch(ut){return typeof console<"u"&&console.warn(ut),w8(!1)}};return[e2,p.runOutsideAngular(V2)]}return[e2,w8(!1)]},[a,n2,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:f}=TT(o,r),p=this.schedulers.ngZone.run(()=>a);return new xT(p,f,this)}collectionGroup(t,r){const o=r||(f=>f),a=this.firestore.collectionGroup(t);return new O6e(o(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new AT(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(c4.Dh),g.LFG(c4.xv,8),g.LFG(B6e,8),g.LFG(j6e,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sc),g.LFG(U6e,8),g.LFG($6e,8),g.LFG(ET,8),g.LFG(MT,8),g.LFG(wT,8),g.LFG(VT,8),g.LFG(bT,8),g.LFG(HT,8),g.LFG(zT,8),g.LFG(d0,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AM=(()=>{class n{constructor(t){this.afs=t,this.itemsCollection=t.collection("items"),this.items=this.itemsCollection.snapshotChanges().pipe((0,Pt.U)(r=>r.map(o=>{const a=o.payload.doc.data();return a.id=o.payload.doc.id,{...a}})))}listaItem(){return this.items}anadirItem(t){this.itemsCollection.add(t)}borrarItem(t){this.itemDoc=this.afs.doc(`items/${t.id}`),this.itemDoc.delete()}editarItem(t){this.itemDoc=this.afs.doc(`items/${t.id}`),this.itemDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(G6e))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Je(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?NT(Object(t),!0).forEach(function(r){h1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Np(n){return(Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function kT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function h1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TM(n,e){return function Y6e(n){if(Array.isArray(n))return n}(n)||function X6e(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var f,p,r=[],o=!0,a=!1;try{for(t=t.call(n);!(o=(f=t.next()).done)&&(r.push(f.value),!e||r.length!==e);o=!0);}catch(y){a=!0,p=y}finally{try{!o&&null!=t.return&&t.return()}finally{if(a)throw p}}return r}}(n,e)||PT(n,e)||function e0e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nu(n){return function Z6e(n){if(Array.isArray(n))return NM(n)}(n)||function Q6e(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||PT(n)||function J6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PT(n,e){if(n){if("string"==typeof n)return NM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return NM(n,e)}}function NM(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var RT=function(){},kM={},FT={},OT=null,BT={mark:RT,measure:RT};try{typeof window<"u"&&(kM=window),typeof document<"u"&&(FT=document),typeof MutationObserver<"u"&&(OT=MutationObserver),typeof performance<"u"&&(BT=performance)}catch{}var Rp,Fp,Op,Bp,Up,UT=(kM.navigator||{}).userAgent,jT=void 0===UT?"":UT,io=kM,Ct=FT,$T=OT,Pp=BT,gs=!!Ct.documentElement&&!!Ct.head&&"function"==typeof Ct.addEventListener&&"function"==typeof Ct.createElement,GT=~jT.indexOf("MSIE")||~jT.indexOf("Trident/"),vs="___FONT_AWESOME___",qT="svg-inline--fa",Va="data-fa-i2svg",RM="data-fa-pseudo-element",FM="data-prefix",OM="data-icon",KT="fontawesome-i2svg",s0e=["HTML","HEAD","STYLE","SCRIPT"],ZT=function(){try{return!0}catch{return!1}}(),_t="classic",Rt="sharp",BM=[_t,Rt];function ku(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[_t]}})}var Pu=ku((h1(Rp={},_t,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),h1(Rp,Rt,{fa:"solid",fass:"solid","fa-solid":"solid"}),Rp)),Ru=ku((h1(Fp={},_t,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),h1(Fp,Rt,{solid:"fass"}),Fp)),Fu=ku((h1(Op={},_t,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),h1(Op,Rt,{fass:"fa-solid"}),Op)),i0e=ku((h1(Bp={},_t,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),h1(Bp,Rt,{"fa-solid":"fass"}),Bp)),o0e=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,YT="fa-layers-text",c0e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,a0e=ku((h1(Up={},_t,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),h1(Up,Rt,{900:"fass"}),Up)),QT=[1,2,3,4,5,6,7,8,9,10],l0e=QT.concat([11,12,13,14,15,16,17,18,19,20]),u0e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ou=new Set;Object.keys(Ru[_t]).map(Ou.add.bind(Ou)),Object.keys(Ru[Rt]).map(Ou.add.bind(Ou));var f0e=[].concat(BM,Nu(Ou),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(QT.map(function(n){return"".concat(n,"x")})).concat(l0e.map(function(n){return"w-".concat(n)})),Bu=io.FontAwesomeConfig||{};Ct&&"function"==typeof Ct.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=TM(n,2),r=e[1],o=function h0e(n){return""===n||"false"!==n&&("true"===n||n)}(function d0e(n){var e=Ct.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=o&&(Bu[r]=o)});var XT={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:qT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Bu.familyPrefix&&(Bu.cssPrefix=Bu.familyPrefix);var b8=Je(Je({},XT),Bu);b8.autoReplaceSvg||(b8.observeMutations=!1);var a2={};Object.keys(XT).forEach(function(n){Object.defineProperty(a2,n,{enumerable:!0,set:function(t){b8[n]=t,Uu.forEach(function(r){return r(a2)})},get:function(){return b8[n]}})}),Object.defineProperty(a2,"familyPrefix",{enumerable:!0,set:function(e){b8.cssPrefix=e,Uu.forEach(function(t){return t(a2)})},get:function(){return b8.cssPrefix}}),io.FontAwesomeConfig=a2;var Uu=[],o3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ju(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function H8(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function UM(n){return n.classList?H8(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function JT(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jp(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function jM(n){return n.size!==o3.size||n.x!==o3.x||n.y!==o3.y||n.rotate!==o3.rotate||n.flipX||n.flipY}function eN(){var n="fa",e=qT,t=a2.cssPrefix,r=a2.replacementClass,o=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),f=new RegExp("\\--".concat(n,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");o=o.replace(a,".".concat(t,"-")).replace(f,"--".concat(t,"-")).replace(p,".".concat(r))}return o}var tN=!1;function $M(){a2.autoAddCss&&!tN&&(function g0e(n){if(n&&gs){var e=Ct.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Ct.head.childNodes,r=null,o=t.length-1;o>-1;o--){var a=t[o],f=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(r=a)}Ct.head.insertBefore(e,r)}}(eN()),tN=!0)}var w0e={mixout:function(){return{dom:{css:eN,insertCss:$M}}},hooks:function(){return{beforeDOMElementCreation:function(){$M()},beforeI2svg:function(){$M()}}}},ys=io||{};ys[vs]||(ys[vs]={}),ys[vs].styles||(ys[vs].styles={}),ys[vs].hooks||(ys[vs].hooks={}),ys[vs].shims||(ys[vs].shims=[]);var a4=ys[vs],nN=[],$p=!1;function b0e(n){!gs||($p?setTimeout(n,0):nN.push(n))}function $u(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,o=n.children,a=void 0===o?[]:o;return"string"==typeof n?JT(n):"<".concat(e," ").concat(function y0e(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(JT(n[t]),'" ')},"").trim()}(r),">").concat(a.map($u).join(""),"</").concat(e,">")}function rN(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}gs&&(($p=(Ct.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ct.readyState))||Ct.addEventListener("DOMContentLoaded",function n(){Ct.removeEventListener("DOMContentLoaded",n),$p=1,nN.map(function(e){return e()})}));var GM=function(e,t,r,o){var y,V,H,a=Object.keys(e),f=a.length,p=void 0!==o?function(e,t){return function(r,o,a,f){return e.call(t,r,o,a,f)}}(t,o):t;for(void 0===r?(y=1,H=e[a[0]]):(y=0,H=r);y<f;y++)H=p(H,e[V=a[y]],V,e);return H};function WM(n){var e=function z0e(n){for(var e=[],t=0,r=n.length;t<r;){var o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){var a=n.charCodeAt(t++);56320==(64512&a)?e.push(((1023&o)<<10)+(1023&a)+65536):(e.push(o),t--)}else e.push(o)}return e}(n);return 1===e.length?e[0].toString(16):null}function sN(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function qM(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,o=void 0!==r&&r,a=sN(e);"function"!=typeof a4.hooks.addPack||o?a4.styles[n]=Je(Je({},a4.styles[n]||{}),a):a4.hooks.addPack(n,sN(e)),"fas"===n&&qM("fa",e)}var Gp,Wp,qp,z8=a4.styles,E0e=a4.shims,I0e=(h1(Gp={},_t,Object.values(Fu[_t])),h1(Gp,Rt,Object.values(Fu[Rt])),Gp),KM=null,iN={},oN={},cN={},aN={},lN={},D0e=(h1(Wp={},_t,Object.keys(Pu[_t])),h1(Wp,Rt,Object.keys(Pu[Rt])),Wp);function x0e(n,e){var t=e.split("-"),r=t[0],o=t.slice(1).join("-");return r!==n||""===o||function L0e(n){return~f0e.indexOf(n)}(o)?null:o}var uN=function(){var e=function(a){return GM(z8,function(f,p,y){return f[y]=GM(p,a,{}),f},{})};iN=e(function(o,a,f){return a[3]&&(o[a[3]]=f),a[2]&&a[2].filter(function(y){return"number"==typeof y}).forEach(function(y){o[y.toString(16)]=f}),o}),oN=e(function(o,a,f){return o[f]=f,a[2]&&a[2].filter(function(y){return"string"==typeof y}).forEach(function(y){o[y]=f}),o}),lN=e(function(o,a,f){var p=a[2];return o[f]=f,p.forEach(function(y){o[y]=f}),o});var t="far"in z8||a2.autoFetchSvg,r=GM(E0e,function(o,a){var f=a[0],p=a[1],y=a[2];return"far"===p&&!t&&(p="fas"),"string"==typeof f&&(o.names[f]={prefix:p,iconName:y}),"number"==typeof f&&(o.unicodes[f.toString(16)]={prefix:p,iconName:y}),o},{names:{},unicodes:{}});cN=r.names,aN=r.unicodes,KM=Kp(a2.styleDefault,{family:a2.familyDefault})};function ZM(n,e){return(iN[n]||{})[e]}function Ha(n,e){return(lN[n]||{})[e]}function fN(n){return cN[n]||{prefix:null,iconName:null}}function co(){return KM}function Kp(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.family,r=void 0===t?_t:t,o=Pu[r][n],a=Ru[r][n]||Ru[r][o],f=n in a4.styles?n:null;return a||f||null}(function m0e(n){Uu.push(n)})(function(n){KM=Kp(n.styleDefault,{family:a2.familyDefault})}),uN();var dN=(h1(qp={},_t,Object.keys(Fu[_t])),h1(qp,Rt,Object.keys(Fu[Rt])),qp);function Zp(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipLookups,o=void 0!==r&&r,a=(h1(e={},_t,"".concat(a2.cssPrefix,"-").concat(_t)),h1(e,Rt,"".concat(a2.cssPrefix,"-").concat(Rt)),e),f=null,p=_t;(n.includes(a[_t])||n.some(function(V){return dN[_t].includes(V)}))&&(p=_t),(n.includes(a[Rt])||n.some(function(V){return dN[Rt].includes(V)}))&&(p=Rt);var y=n.reduce(function(V,H){var z=x0e(a2.cssPrefix,H);if(z8[H]?(H=I0e[p].includes(H)?i0e[p][H]:H,f=H,V.prefix=H):D0e[p].indexOf(H)>-1?(f=H,V.prefix=Kp(H,{family:p})):z?V.iconName=z:H!==a2.replacementClass&&H!==a[_t]&&H!==a[Rt]&&V.rest.push(H),!o&&V.prefix&&V.iconName){var T="fa"===f?fN(V.iconName):{},j=Ha(V.prefix,V.iconName);T.prefix&&(f=null),V.iconName=T.iconName||j||V.iconName,V.prefix=T.prefix||V.prefix,"far"===V.prefix&&!z8.far&&z8.fas&&!a2.autoFetchSvg&&(V.prefix="fas")}return V},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(y.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(y.prefix="fad"),!y.prefix&&p===Rt&&(z8.fass||a2.autoFetchSvg)&&(y.prefix="fass",y.iconName=Ha(y.prefix,y.iconName)||y.iconName),("fa"===y.prefix||"fa"===f)&&(y.prefix=co()||"fas"),y}var N0e=function(){function n(){(function W6e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function q6e(n,e,t){e&&kT(n.prototype,e),t&&kT(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var f=o.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(p){t.definitions[p]=Je(Je({},t.definitions[p]||{}),f[p]),qM(p,f[p]);var y=Fu[_t][p];y&&qM(y,f[p]),uN()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var o=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(o).map(function(a){var f=o[a],p=f.prefix,y=f.iconName,V=f.icon,H=V[2];t[p]||(t[p]={}),H.length>0&&H.forEach(function(z){"string"==typeof z&&(t[p][z]=V)}),t[p][y]=V}),t}}]),n}(),hN=[],S8={},E8={},k0e=Object.keys(E8);function QM(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var a=S8[n]||[];return a.forEach(function(f){e=f.apply(null,[e].concat(r))}),e}function za(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=S8[n]||[];o.forEach(function(a){a.apply(null,t)})}function Cs(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return E8[n]?E8[n].apply(null,e):void 0}function XM(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||co();if(e)return e=Ha(t,e)||e,rN(pN.definitions,t,e)||rN(a4.styles,t,e)}var pN=new N0e,F0e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gs?(za("beforeI2svg",e),Cs("pseudoElements2svg",e),Cs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===a2.autoReplaceSvg&&(a2.autoReplaceSvg=!0),a2.observeMutations=!0,b0e(function(){B0e({autoReplaceSvgRoot:t}),za("watch",e)})}},$n={noAuto:function(){a2.autoReplaceSvg=!1,a2.observeMutations=!1,za("noAuto")},config:a2,dom:F0e,parse:{icon:function(e){if(null===e)return null;if("object"===Np(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ha(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Kp(e[0]);return{prefix:r,iconName:Ha(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(a2.cssPrefix,"-"))>-1||e.match(o0e))){var o=Zp(e.split(" "),{skipLookups:!0});return{prefix:o.prefix||co(),iconName:Ha(o.prefix,o.iconName)||o.iconName}}if("string"==typeof e){var a=co();return{prefix:a,iconName:Ha(a,e)||e}}}},library:pN,findIconDefinition:XM,toHtml:$u},B0e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?Ct:t;(Object.keys(a4.styles).length>0||a2.autoFetchSvg)&&gs&&a2.autoReplaceSvg&&$n.dom.i2svg({node:r})};function Yp(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return $u(r)})}}),Object.defineProperty(n,"node",{get:function(){if(gs){var r=Ct.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function JM(n){var e=n.icons,t=e.main,r=e.mask,o=n.prefix,a=n.iconName,f=n.transform,p=n.symbol,y=n.title,V=n.maskId,H=n.titleId,z=n.extra,T=n.watchable,j=void 0!==T&&T,J=r.found?r:t,ye=J.width,xe=J.height,l2="fak"===o,r2=[a2.replacementClass,a?"".concat(a2.cssPrefix,"-").concat(a):""].filter(function(lo){return-1===z.classes.indexOf(lo)}).filter(function(lo){return""!==lo||!!lo}).concat(z.classes).join(" "),s2={children:[],attributes:Je(Je({},z.attributes),{},{"data-prefix":o,"data-icon":a,class:r2,role:z.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ye," ").concat(xe)})},n2=l2&&!~z.classes.indexOf("fa-fw")?{width:"".concat(ye/xe*16*.0625,"em")}:{};j&&(s2.attributes[Va]=""),y&&(s2.children.push({tag:"title",attributes:{id:s2.attributes["aria-labelledby"]||"title-".concat(H||ju())},children:[y]}),delete s2.attributes.title);var e2=Je(Je({},s2),{},{prefix:o,iconName:a,main:t,mask:r,maskId:V,transform:f,symbol:p,styles:Je(Je({},n2),z.styles)}),V2=r.found&&t.found?Cs("generateAbstractMask",e2)||{children:[],attributes:{}}:Cs("generateAbstractIcon",e2)||{children:[],attributes:{}},_s=V2.attributes;return e2.children=V2.children,e2.attributes=_s,p?function j0e(n){var t=n.iconName,r=n.children,o=n.attributes,a=n.symbol,f=!0===a?"".concat(n.prefix,"-").concat(a2.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Je(Je({},o),{},{id:f}),children:r}]}]}(e2):function U0e(n){var e=n.children,t=n.main,r=n.mask,o=n.attributes,a=n.styles,f=n.transform;if(jM(f)&&t.found&&!r.found){var V={x:t.width/t.height/2,y:.5};o.style=jp(Je(Je({},a),{},{"transform-origin":"".concat(V.x+f.x/16,"em ").concat(V.y+f.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}(e2)}function mN(n){var e=n.content,t=n.width,r=n.height,o=n.transform,a=n.title,f=n.extra,p=n.watchable,y=void 0!==p&&p,V=Je(Je(Je({},f.attributes),a?{title:a}:{}),{},{class:f.classes.join(" ")});y&&(V[Va]="");var H=Je({},f.styles);jM(o)&&(H.transform=function _0e(n){var e=n.transform,t=n.width,o=n.height,a=void 0===o?16:o,f=n.startCentered,p=void 0!==f&&f,y="";return y+=p&&GT?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-a/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(y+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:o,startCentered:!0,width:t,height:r}),H["-webkit-transform"]=H.transform);var z=jp(H);z.length>0&&(V.style=z);var T=[];return T.push({tag:"span",attributes:V,children:[e]}),a&&T.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),T}function $0e(n){var e=n.content,t=n.title,r=n.extra,o=Je(Je(Je({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=jp(r.styles);a.length>0&&(o.style=a);var f=[];return f.push({tag:"span",attributes:o,children:[e]}),t&&f.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),f}var ew=a4.styles;function tw(n){var e=n[0],t=n[1],a=TM(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(a2.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(a2.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(a2.cssPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var G0e={found:!1,width:512,height:512};function nw(n,e){var t=e;return"fa"===e&&null!==a2.styleDefault&&(e=co()),new Promise(function(r,o){if(Cs("missingIconAbstract"),"fa"===t){var f=fN(n)||{};n=f.iconName||n,e=f.prefix||e}if(n&&e&&ew[e]&&ew[e][n])return r(tw(ew[e][n]));(function W0e(n,e){!ZT&&!a2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(Je(Je({},G0e),{},{icon:a2.showMissingIcons&&n&&Cs("missingIconAbstract")||{}}))})}var gN=function(){},rw=a2.measurePerformance&&Pp&&Pp.mark&&Pp.measure?Pp:{mark:gN,measure:gN},Gu='FA "6.2.0"',sw_begin=function(e){return rw.mark("".concat(Gu," ").concat(e," begins")),function(){return function(e){rw.mark("".concat(Gu," ").concat(e," ends")),rw.measure("".concat(Gu," ").concat(e),"".concat(Gu," ").concat(e," begins"),"".concat(Gu," ").concat(e," ends"))}(e)}},Qp=function(){};function yN(n){return"string"==typeof(n.getAttribute?n.getAttribute(Va):null)}function Q0e(n){return Ct.createElementNS("http://www.w3.org/2000/svg",n)}function X0e(n){return Ct.createElement(n)}function CN(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?Q0e:X0e:t;if("string"==typeof n)return Ct.createTextNode(n);var o=r(n.tag);Object.keys(n.attributes||[]).forEach(function(f){o.setAttribute(f,n.attributes[f])});var a=n.children||[];return a.forEach(function(f){o.appendChild(CN(f,{ceFn:r}))}),o}var Xp={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(o){t.parentNode.insertBefore(CN(o),t)}),null===t.getAttribute(Va)&&a2.keepOriginalSource){var r=Ct.createComment(function J0e(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~UM(t).indexOf(a2.replacementClass))return Xp.replace(e);var o=new RegExp("".concat(a2.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(p,y){return y===a2.replacementClass||y.match(o)?p.toSvg.push(y):p.toNode.push(y),p},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var f=r.map(function(p){return $u(p)}).join("\n");t.setAttribute(Va,""),t.innerHTML=f}};function _N(n){n()}function MN(n,e){var t="function"==typeof e?e:Qp;if(0===n.length)t();else{var r=_N;"async"===a2.mutateApproach&&(r=io.requestAnimationFrame||_N),r(function(){var o=function Y0e(){return!0===a2.autoReplaceSvg?Xp.replace:Xp[a2.autoReplaceSvg]||Xp.replace}(),a=sw_begin("mutate");n.map(o),a(),t()})}}var iw=!1;function wN(){iw=!0}function ow(){iw=!1}var Jp=null;function VN(n){if($T&&a2.observeMutations){var e=n.treeCallback,t=void 0===e?Qp:e,r=n.nodeCallback,o=void 0===r?Qp:r,a=n.pseudoElementsCallback,f=void 0===a?Qp:a,p=n.observeMutationsRoot,y=void 0===p?Ct:p;Jp=new $T(function(V){if(!iw){var H=co();H8(V).forEach(function(z){if("childList"===z.type&&z.addedNodes.length>0&&!yN(z.addedNodes[0])&&(a2.searchPseudoElements&&f(z.target),t(z.target)),"attributes"===z.type&&z.target.parentNode&&a2.searchPseudoElements&&f(z.target.parentNode),"attributes"===z.type&&yN(z.target)&&~u0e.indexOf(z.attributeName))if("class"===z.attributeName&&function K0e(n){var e=n.getAttribute?n.getAttribute(FM):null,t=n.getAttribute?n.getAttribute(OM):null;return e&&t}(z.target)){var T=Zp(UM(z.target)),J=T.iconName;z.target.setAttribute(FM,T.prefix||H),J&&z.target.setAttribute(OM,J)}else(function Z0e(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(a2.replacementClass)})(z.target)&&o(z.target)})}}),gs&&Jp.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function t8e(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,o){var a=o.split(":"),f=a[0],p=a.slice(1);return f&&p.length>0&&(r[f]=p.join(":").trim()),r},{})),t}function n8e(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",o=Zp(UM(n));return o.prefix||(o.prefix=co()),e&&t&&(o.prefix=e,o.iconName=t),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function A0e(n,e){return(oN[n]||{})[e]}(o.prefix,n.innerText)||ZM(o.prefix,WM(n.innerText))),!o.iconName&&a2.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function r8e(n){var e=H8(n.attributes).reduce(function(o,a){return"class"!==o.name&&"style"!==o.name&&(o[a.name]=a.value),o},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return a2.autoA11y&&(t?e["aria-labelledby"]="".concat(a2.replacementClass,"-title-").concat(r||ju()):(e["aria-hidden"]="true",e.focusable="false")),e}function bN(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=n8e(n),r=t.iconName,o=t.prefix,a=t.rest,f=r8e(n),p=QM("parseNodeAttributes",{},n),y=e.styleParser?t8e(n):[];return Je({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:o,transform:o3,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:y,attributes:f}},p)}var i8e=a4.styles;function HN(n){var e="nest"===a2.autoReplaceSvg?bN(n,{styleParser:!1}):bN(n);return~e.extra.classes.indexOf(YT)?Cs("generateLayersText",n,e):Cs("generateSvgReplacementMutation",n,e)}var ao=new Set;function zN(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!gs)return Promise.resolve();var t=Ct.documentElement.classList,r=function(z){return t.add("".concat(KT,"-").concat(z))},o=function(z){return t.remove("".concat(KT,"-").concat(z))},a=a2.autoFetchSvg?ao:BM.map(function(H){return"fa-".concat(H)}).concat(Object.keys(i8e));a.includes("fa")||a.push("fa");var f=[".".concat(YT,":not([").concat(Va,"])")].concat(a.map(function(H){return".".concat(H,":not([").concat(Va,"])")})).join(", ");if(0===f.length)return Promise.resolve();var p=[];try{p=H8(n.querySelectorAll(f))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),o("complete");var y=sw_begin("onTree"),V=p.reduce(function(H,z){try{var T=HN(z);T&&H.push(T)}catch(j){ZT||"MissingIcon"===j.name&&console.error(j)}return H},[]);return new Promise(function(H,z){Promise.all(V).then(function(T){MN(T,function(){r("active"),r("complete"),o("pending"),"function"==typeof e&&e(),y(),H()})}).catch(function(T){y(),z(T)})})}function o8e(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;HN(n).then(function(t){t&&MN([t],e)})}function c8e(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:XM(e||{}),o=t.mask;return o&&(o=(o||{}).icon?o:XM(o||{})),n(r,Je(Je({},t),{},{mask:o}))}}BM.map(function(n){ao.add("fa-".concat(n))}),Object.keys(Pu[_t]).map(ao.add.bind(ao)),Object.keys(Pu[Rt]).map(ao.add.bind(ao)),ao=Nu(ao);var a8e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,o=void 0===r?o3:r,a=t.symbol,f=void 0!==a&&a,p=t.mask,y=void 0===p?null:p,V=t.maskId,H=void 0===V?null:V,z=t.title,T=void 0===z?null:z,j=t.titleId,J=void 0===j?null:j,ye=t.classes,xe=void 0===ye?[]:ye,l2=t.attributes,r2=void 0===l2?{}:l2,s2=t.styles,n2=void 0===s2?{}:s2;if(e){var e2=e.prefix,V2=e.iconName,ut=e.icon;return Yp(Je({type:"icon"},e),function(){return za("beforeDOMElementCreation",{iconDefinition:e,params:t}),a2.autoA11y&&(T?r2["aria-labelledby"]="".concat(a2.replacementClass,"-title-").concat(J||ju()):(r2["aria-hidden"]="true",r2.focusable="false")),JM({icons:{main:tw(ut),mask:y?tw(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:e2,iconName:V2,transform:Je(Je({},o3),o),symbol:f,title:T,maskId:H,titleId:J,extra:{attributes:r2,styles:n2,classes:xe}})})}},l8e={mixout:function(){return{icon:c8e(a8e)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=zN,t.nodeCallback=o8e,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,a=t.callback;return zN(void 0===r?Ct:r,void 0===a?function(){}:a)},e.generateSvgReplacementMutation=function(t,r){var o=r.iconName,a=r.title,f=r.titleId,p=r.prefix,y=r.transform,V=r.symbol,H=r.mask,z=r.maskId,T=r.extra;return new Promise(function(j,J){Promise.all([nw(o,p),H.iconName?nw(H.iconName,H.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ye){var xe=TM(ye,2);j([t,JM({icons:{main:xe[0],mask:xe[1]},prefix:p,iconName:o,transform:y,symbol:V,maskId:z,title:a,titleId:f,extra:T,watchable:!0})])}).catch(J)})},e.generateAbstractIcon=function(t){var V,r=t.children,o=t.attributes,a=t.main,f=t.transform,y=jp(t.styles);return y.length>0&&(o.style=y),jM(f)&&(V=Cs("generateAbstractTransformGrouping",{main:a,transform:f,containerWidth:a.width,iconWidth:a.width})),r.push(V||a.icon),{children:r,attributes:o}}}},u8e={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.classes,a=void 0===o?[]:o;return Yp({type:"layer"},function(){za("beforeDOMElementCreation",{assembler:t,params:r});var f=[];return t(function(p){Array.isArray(p)?p.map(function(y){f=f.concat(y.abstract)}):f=f.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(a2.cssPrefix,"-layers")].concat(Nu(a)).join(" ")},children:f}]})}}}},f8e={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.title,a=void 0===o?null:o,f=r.classes,p=void 0===f?[]:f,y=r.attributes,V=void 0===y?{}:y,H=r.styles,z=void 0===H?{}:H;return Yp({type:"counter",content:t},function(){return za("beforeDOMElementCreation",{content:t,params:r}),$0e({content:t.toString(),title:a,extra:{attributes:V,styles:z,classes:["".concat(a2.cssPrefix,"-layers-counter")].concat(Nu(p))}})})}}}},d8e={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.transform,a=void 0===o?o3:o,f=r.title,p=void 0===f?null:f,y=r.classes,V=void 0===y?[]:y,H=r.attributes,z=void 0===H?{}:H,T=r.styles,j=void 0===T?{}:T;return Yp({type:"text",content:t},function(){return za("beforeDOMElementCreation",{content:t,params:r}),mN({content:t,transform:Je(Je({},o3),a),title:p,extra:{attributes:z,styles:j,classes:["".concat(a2.cssPrefix,"-layers-text")].concat(Nu(V))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var o=r.title,a=r.transform,f=r.extra,p=null,y=null;if(GT){var V=parseInt(getComputedStyle(t).fontSize,10),H=t.getBoundingClientRect();p=H.width/V,y=H.height/V}return a2.autoA11y&&!o&&(f.attributes["aria-hidden"]="true"),Promise.resolve([t,mN({content:t.innerHTML,width:p,height:y,transform:a,title:o,extra:f,watchable:!0})])}}},h8e=new RegExp('"',"ug"),SN=[1105920,1112319];function EN(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,o){if(null!==n.getAttribute(t))return r();var f=H8(n.children).filter(function(ut){return ut.getAttribute(RM)===e})[0],p=io.getComputedStyle(n,e),y=p.getPropertyValue("font-family").match(c0e),V=p.getPropertyValue("font-weight"),H=p.getPropertyValue("content");if(f&&!y)return n.removeChild(f),r();if(y&&"none"!==H&&""!==H){var z=p.getPropertyValue("content"),T=~["Sharp"].indexOf(y[2])?Rt:_t,j=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?Ru[T][y[2].toLowerCase()]:a0e[T][V],J=function p8e(n){var e=n.replace(h8e,""),t=function S0e(n,e){var o,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(o=n.charCodeAt(e+1))>=56320&&o<=57343?1024*(r-55296)+o-56320+65536:r}(e,0),r=t>=SN[0]&&t<=SN[1],o=2===e.length&&e[0]===e[1];return{value:WM(o?e[0]:e),isSecondary:r||o}}(z),ye=J.value,xe=J.isSecondary,l2=y[0].startsWith("FontAwesome"),r2=ZM(j,ye),s2=r2;if(l2){var n2=function T0e(n){var e=aN[n],t=ZM("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(ye);n2.iconName&&n2.prefix&&(r2=n2.iconName,j=n2.prefix)}if(!r2||xe||f&&f.getAttribute(FM)===j&&f.getAttribute(OM)===s2)r();else{n.setAttribute(t,s2),f&&n.removeChild(f);var e2=function s8e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:o3,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),V2=e2.extra;V2.attributes[RM]=e,nw(r2,j).then(function(ut){var _s=JM(Je(Je({},e2),{},{icons:{main:ut,mask:{prefix:null,iconName:null,rest:[]}},prefix:j,iconName:s2,extra:V2,watchable:!0})),lo=Ct.createElement("svg");"::before"===e?n.insertBefore(lo,n.firstChild):n.appendChild(lo),lo.outerHTML=_s.map(function(G8e){return $u(G8e)}).join("\n"),n.removeAttribute(t),r()}).catch(o)}}else r()})}function m8e(n){return Promise.all([EN(n,"::before"),EN(n,"::after")])}function g8e(n){return!(n.parentNode===document.head||~s0e.indexOf(n.tagName.toUpperCase())||n.getAttribute(RM)||n.parentNode&&"svg"===n.parentNode.tagName)}function IN(n){if(gs)return new Promise(function(e,t){var r=H8(n.querySelectorAll("*")).filter(g8e).map(m8e),o=sw_begin("searchPseudoElements");wN(),Promise.all(r).then(function(){o(),ow(),e()}).catch(function(){o(),ow(),t()})})}var DN=!1,LN=function(e){return e.toLowerCase().split(" ").reduce(function(r,o){var a=o.toLowerCase().split("-"),f=a[0],p=a.slice(1).join("-");if(f&&"h"===p)return r.flipX=!0,r;if(f&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(f){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},cw={x:0,y:0,width:"100%",height:"100%"};function xN(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function _8e(n){return"g"===n.tag?n.children:[n]}var M8e={hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-mask"),a=o?Zp(o.split(" ").map(function(f){return f.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=co()),t.mask=a,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,o=t.attributes,a=t.main,f=t.mask,p=t.maskId,H=a.icon,T=f.icon,j=function C0e(n){var e=n.transform,r=n.iconWidth,o={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),f="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(a," ").concat(f," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:f.width,iconWidth:a.width}),J={tag:"rect",attributes:Je(Je({},cw),{},{fill:"white"})},ye=H.children?{children:H.children.map(xN)}:{},xe={tag:"g",attributes:Je({},j.inner),children:[xN(Je({tag:H.tag,attributes:Je(Je({},H.attributes),j.path)},ye))]},l2={tag:"g",attributes:Je({},j.outer),children:[xe]},r2="mask-".concat(p||ju()),s2="clip-".concat(p||ju()),n2={tag:"mask",attributes:Je(Je({},cw),{},{id:r2,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[J,l2]},e2={tag:"defs",children:[{tag:"clipPath",attributes:{id:s2},children:_8e(T)},n2]};return r.push(e2,{tag:"rect",attributes:Je({fill:"currentColor","clip-path":"url(#".concat(s2,")"),mask:"url(#".concat(r2,")")},cw)}),{children:r,attributes:o}}}};!function P0e(n,e){var t=e.mixoutsTo;hN=n,S8={},Object.keys(E8).forEach(function(r){-1===k0e.indexOf(r)&&delete E8[r]}),hN.forEach(function(r){var o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(function(f){"function"==typeof o[f]&&(t[f]=o[f]),"object"===Np(o[f])&&Object.keys(o[f]).forEach(function(p){t[f]||(t[f]={}),t[f][p]=o[f][p]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(f){S8[f]||(S8[f]=[]),S8[f].push(a[f])})}r.provides&&r.provides(E8)})}([w0e,l8e,u8e,f8e,d8e,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=IN,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;a2.searchPseudoElements&&IN(void 0===r?Ct:r)}}},{mixout:function(){return{dom:{unwatch:function(){wN(),DN=!0}}}},hooks:function(){return{bootstrap:function(){VN(QM("mutationObserverCallbacks",{}))},noAuto:function(){!function e8e(){!Jp||Jp.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;DN?ow():VN(QM("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return LN(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-transform");return o&&(t.transform=LN(o)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,o=t.transform,f=t.iconWidth,p={transform:"translate(".concat(t.containerWidth/2," 256)")},y="translate(".concat(32*o.x,", ").concat(32*o.y,") "),V="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),H="rotate(".concat(o.rotate," 0 0)"),j={outer:p,inner:{transform:"".concat(y," ").concat(V," ").concat(H)},path:{transform:"translate(".concat(f/2*-1," -256)")}};return{tag:"g",attributes:Je({},j.outer),children:[{tag:"g",attributes:Je({},j.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Je(Je({},r.icon.attributes),j.path)}]}]}}}},M8e,{provides:function(e){var t=!1;io.matchMedia&&(t=io.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],o={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Je(Je({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=Je(Je({},a),{},{attributeName:"opacity"}),p={tag:"circle",attributes:Je(Je({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||p.children.push({tag:"animate",attributes:Je(Je({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Je(Je({},f),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:Je(Je({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Je(Je({},f),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:Je(Je({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Je(Je({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var o=r.getAttribute("data-fa-symbol");return t.symbol=null!==o&&(""===o||o),t}}}}],{mixoutsTo:$n});var H8e=$n.parse,z8e=$n.icon;const S8e=["*"],D8e=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let A8e=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T8e=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const o of r.icon[2])"string"==typeof o&&(this.definitions[r.prefix][o]=r)}}addIconPacks(...t){for(const r of t){const o=Object.keys(r).map(a=>r[a]);this.addIcons(...o)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N8e=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[g.TTD]}),n})(),k8e=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275cmp=g.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[g.TTD],ngContentSelectors:S8e,decls:1,vars:0,template:function(t,r){1&t&&(g.F$t(),g.Hsn(0))},encapsulation:2}),n})(),P8e=(()=>{class n{constructor(t,r,o,a,f){this.sanitizer=t,this.config=r,this.iconLibrary=o,this.stackItem=a,this.classes=[],null!=f&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const o=this.findIconDefinition(r);if(null!=o){const a=this.buildParams();this.renderIcon(o,a)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?H8e.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...D8e(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const o=z8e(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Ar),g.Y36(A8e),g.Y36(T8e),g.Y36(N8e,8),g.Y36(k8e,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(g.Ikx("innerHTML",r.renderedIconHTML,g.oJD),g.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[g.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),R8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function F8e(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div",13),g._uU(1),g.TgZ(2,"div",14),g.NdJ("click",function(){const a=g.CHM(t).$implicit,f=g.oxw();return g.KtG(f.borrar(a))}),g._UZ(3,"fa-icon",15),g.qZA(),g.TgZ(4,"div",16),g.NdJ("click",function(){const a=g.CHM(t).$implicit,f=g.oxw();return g.KtG(f.editar(a))}),g._UZ(5,"fa-icon",15),g.qZA()()}if(2&n){const t=e.$implicit,r=g.oxw();g.xp6(1),g.AsE(" ",t.name," - ",t.id," "),g.xp6(2),g.Q6J("icon",r.faTrash1),g.xp6(2),g.Q6J("icon",r.faPencil1)}}let O8e=(()=>{class n{constructor(t){this.conexion=t,this.faTrash1=KD,this.faPencil1=x_,this.editarItem={name:"",id:""},this.conexion.listaItem().subscribe(r=>{this.items=r,console.log(this.items)})}ngOnInit(){}borrar(t){this.conexion.borrarItem(t)}editar(t){this.editarItem={...t}}agregarItemEditado(){this.conexion.editarItem(this.editarItem)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(AM))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-list"]],decls:16,vars:3,consts:[["class","alert alert-primary","role","alert",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["type","text","placeholder","Edita tarea","name","nameX",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-warning","mt-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["role","alert",1,"alert","alert-primary"],[2,"float","right",3,"click"],[3,"icon"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"mx-4",2,"float","right",3,"click"]],template:function(t,r){1&t&&(g.YNc(0,F8e,6,4,"div",0),g.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),g._uU(6),g.qZA(),g._UZ(7,"button",6),g.qZA(),g.TgZ(8,"div",7)(9,"form",8),g.NdJ("ngSubmit",function(){return r.agregarItemEditado()}),g.TgZ(10,"input",9),g.NdJ("ngModelChange",function(a){return r.editarItem.name=a}),g.qZA(),g.TgZ(11,"button",10),g._uU(12,"Editar"),g.qZA()()(),g.TgZ(13,"div",11)(14,"button",12),g._uU(15,"Close"),g.qZA()()()()()),2&t&&(g.Q6J("ngForOf",r.items),g.xp6(6),g.hij("Editar ",r.editarItem.name,""),g.xp6(4),g.Q6J("ngModel",r.editarItem.name))},dependencies:[pn,P8e,hf,kr,Uo,ei,d6,jr]}),n})(),B8e=(()=>{class n{constructor(t){this._servicio=t,this.itemNew={name:"",id:""}}ngOnInit(){}agregar(){this._servicio.anadirItem(this.itemNew),this.itemNew.name="",this.itemNew.id=""}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(AM))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-list-adding"]],decls:4,vars:1,consts:[[3,"ngSubmit"],["type","text","placeholder","Ingresa tu nombre","name","nameX",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-warning","mt-3"]],template:function(t,r){1&t&&(g.TgZ(0,"form",0),g.NdJ("ngSubmit",function(){return r.agregar()}),g.TgZ(1,"input",1),g.NdJ("ngModelChange",function(a){return r.itemNew.name=a}),g.qZA(),g.TgZ(2,"button",2),g._uU(3,"Agregar"),g.qZA()()),2&t&&(g.xp6(1),g.Q6J("ngModel",r.itemNew.name))},dependencies:[hf,kr,Uo,ei,d6,jr]}),n})();function U8e(n,e){if(1&n&&(g.TgZ(0,"li",4),g._uU(1),g.qZA()),2&n){const t=e.$implicit;g.xp6(1),g.hij(" ITEM: ",t.name," ")}}let j8e=(()=>{class n{constructor(t){this.title="firebaseCurso";const r=OF(t,"items");this.items=FF(r)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(mp))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:9,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"row"],[1,"col-md-6"],[1,"text"]],template:function(t,r){1&t&&(g.TgZ(0,"ul"),g.YNc(1,U8e,2,1,"li",0),g.ALo(2,"async"),g.qZA(),g.TgZ(3,"div",1)(4,"div",2)(5,"div",3),g._UZ(6,"app-list"),g.qZA(),g.TgZ(7,"div",3),g._UZ(8,"app-list-adding"),g.qZA()()()),2&t&&(g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,1,r.items)))},dependencies:[pn,O8e,B8e,L8]}),n})();const aw={production:!0,firebase:{apiKey:"AIzaSyDamSZer89zJwp8e7jgtCKnWafGnZnnagc",authDomain:"listacurso-bbbe5.firebaseapp.com",projectId:"listacurso-bbbe5",storageBucket:"listacurso-bbbe5.appspot.com",messagingSenderId:"1077997336035",appId:"1:1077997336035:web:4a2acf0d190939bc9f5cd6"}};let $8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[j8e]}),n.\u0275inj=g.cJS({providers:[{provide:c4.Dh,useValue:aw.firebase},AM],imports:[v4,R9(()=>O9(aw.firebase)),RF(()=>BF()),R8e,Vl]}),n})();aw.production&&(0,g.G48)(),V3().bootstrapModule($8e).catch(n=>console.error(n))},127:(g2,Ae,x)=>{x.d(Ae,{Z:()=>g.Z});var g=x(3942);g.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(g2,Ae,x)=>{x.r(Ae);var g=x(5861),R=x(3942),L=x(8554),ce=x(2090),ze=(x(9681),x(1877),x(4859));function ve(){return window}function B(){return(B=(0,g.Z)(function*(Q,N,P){var ae;const{BuildInfo:Fe}=ve();(0,L.aq)(N.sessionId,"AuthEvent did not contain a session ID");const f2=yield fe(N.sessionId),v2={};return(0,L.ar)()?v2.ibi=Fe.packageName:(0,L.as)()?v2.apn=Fe.packageName:(0,L.at)(Q,"operation-not-supported-in-this-environment"),Fe.displayName&&(v2.appDisplayName=Fe.displayName),v2.sessionId=f2,(0,L.au)(Q,P,N.type,void 0,null!==(ae=N.eventId)&&void 0!==ae?ae:void 0,v2)})).apply(this,arguments)}function je(){return(je=(0,g.Z)(function*(Q){const{BuildInfo:N}=ve(),P={};(0,L.ar)()?P.iosBundleId=N.packageName:(0,L.as)()?P.androidPackageName=N.packageName:(0,L.at)(Q,"operation-not-supported-in-this-environment"),yield(0,L.av)(Q,P)})).apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(Q,N,P){const{cordova:ae}=ve();let Fe=()=>{};try{yield new Promise((f2,v2)=>{let we=null;function Ze(){var L2;f2();const K2=null===(L2=ae.plugins.browsertab)||void 0===L2?void 0:L2.close;"function"==typeof K2&&K2(),"function"==typeof P?.close&&P.close()}function R2(){we||(we=window.setTimeout(()=>{v2((0,L.aw)(Q,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&R2()}N.addPassiveListener(Ze),document.addEventListener("resume",R2,!1),(0,L.as)()&&document.addEventListener("visibilitychange",rt,!1),Fe=()=>{N.removePassiveListener(Ze),document.removeEventListener("resume",R2,!1),document.removeEventListener("visibilitychange",rt,!1),we&&window.clearTimeout(we)}})}finally{Fe()}})).apply(this,arguments)}function fe(Q){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(function*(Q){const N=$e(Q),P=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(P)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $e(Q){if((0,L.aq)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Q);const N=new ArrayBuffer(Q.length),P=new Uint8Array(N);for(let ae=0;ae<Q.length;ae++)P[ae]=Q.charCodeAt(ae);return P}class me extends L.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(N)),super.onEvent(N)}initialized(){var N=this;return(0,g.Z)(function*(){yield N.initPromise})()}}function ee(Q){return se.apply(this,arguments)}function se(){return(se=(0,g.Z)(function*(Q){const N=yield K()._get(ie(Q));return N&&(yield K()._remove(ie(Q))),N})).apply(this,arguments)}function W(){const Q=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<20;P++){const ae=Math.floor(Math.random()*N.length);Q.push(N.charAt(ae))}return Q.join("")}function K(){return(0,L.ay)(L.b)}function ie(Q){return(0,L.az)("authEvent",Q.config.apiKey,Q.name)}function Le(Q){if(!Q?.includes("?"))return{};const[N,...P]=Q.split("?");return(0,ce.zd)(P.join("?"))}function ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aw)("no-auth-event")}}function x2(){var Q;return(null===(Q=self?.location)||void 0===Q?void 0:Q.protocol)||null}function e1(Q=(0,ce.z$)()){return!("file:"!==x2()&&"ionic:"!==x2()&&"capacitor:"!==x2()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function dn(){try{const Q=self.localStorage,N=L.aI();if(Q)return Q.setItem(N,"1"),Q.removeItem(N),!function Gn(Q=(0,ce.z$)()){return function fn(){return(0,ce.w1)()&&11===document?.documentMode}()||function ft(Q=(0,ce.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,ce.hl)()}catch{return V1()&&(0,ce.hl)()}return!1}function V1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function t1(){return(function D2(){return"http:"===x2()||"https:"===x2()}()||(0,ce.ru)()||e1())&&!function c3(){return(0,ce.b$)()||(0,ce.UG)()}()&&dn()&&!V1()}function Wn(){return e1()&&typeof document<"u"}function Ke(){return(Ke=(0,g.Z)(function*(){return!!Wn()&&new Promise(Q=>{const N=setTimeout(()=>{Q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),Q(!0)})})})).apply(this,arguments)}const Et={LOCAL:"local",NONE:"none",SESSION:"session"},X2=L.ax,P1="persistence";function ot(Q){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(Q){yield Q._initializationPromise;const N=o2(),P=L.az(P1,Q.config.apiKey,Q.name);N&&N.setItem(P,Q._getPersistence())})).apply(this,arguments)}function o2(){var Q;try{return(null===(Q=function n1(){return typeof window<"u"?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch{return null}}const c2=L.ax;class z2{constructor(){this.browserResolver=L.ay(L.k),this.cordovaResolver=L.ay(class B2{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(N){var P=this;return(0,g.Z)(function*(){const ae=N._key();let Fe=P.eventManagers.get(ae);return Fe||(Fe=new me(N),P.eventManagers.set(ae,Fe),P.attachCallbackListeners(N,Fe)),Fe})()}_openPopup(N){(0,L.at)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,P,ae,Fe){var f2=this;return(0,g.Z)(function*(){!function re(Q){var N,P,ae,Fe,f2,v2,we,Ze,R2,rt;const L2=ve();(0,L.ax)("function"==typeof(null===(N=L2?.universalLinks)||void 0===N?void 0:N.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.ax)(typeof(null===(P=L2?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.ax)("function"==typeof(null===(f2=null===(Fe=null===(ae=L2?.cordova)||void 0===ae?void 0:ae.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===f2?void 0:f2.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(Ze=null===(we=null===(v2=L2?.cordova)||void 0===v2?void 0:v2.plugins)||void 0===we?void 0:we.browsertab)||void 0===Ze?void 0:Ze.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(rt=null===(R2=L2?.cordova)||void 0===R2?void 0:R2.InAppBrowser)||void 0===rt?void 0:rt.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const v2=yield f2._initialize(N);yield v2.initialized(),v2.resetRedirect(),(0,L.aD)(),yield f2._originValidation(N);const we=function de(Q,N,P=null){return{type:N,eventId:P,urlResponse:null,sessionId:W(),postBody:null,tenantId:Q.tenantId,error:(0,L.aw)(Q,"no-auth-event")}}(N,ae,Fe);yield function Be(Q,N){return K()._set(ie(Q),N)}(N,we);const Ze=yield function G(Q,N,P){return B.apply(this,arguments)}(N,we,P),R2=yield function Se(Q){const{cordova:N}=ve();return new Promise(P=>{N.plugins.browsertab.isAvailable(ae=>{let Fe=null;ae?N.plugins.browsertab.openUrl(Q):Fe=N.InAppBrowser.open(Q,(0,L.ap)()?"_blank":"_system","location=yes"),P(Fe)})})}(Ze);return function He(Q,N,P){return Re.apply(this,arguments)}(N,v2,R2)})()}_isIframeWebStorageSupported(N,P){throw new Error("Method not implemented.")}_originValidation(N){const P=N._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function X(Q){return je.apply(this,arguments)}(N)),this.originValidationPromises[P]}attachCallbackListeners(N,P){const{universalLinks:ae,handleOpenURL:Fe,BuildInfo:f2}=ve(),v2=setTimeout((0,g.Z)(function*(){yield ee(N),P.onEvent(ke())}),500),we=function(){var rt=(0,g.Z)(function*(L2){clearTimeout(v2);const K2=yield ee(N);let hn=null;K2&&L2?.url&&(hn=function le(Q,N){var P,ae;const Fe=function De(Q){const N=Le(Q),P=N.link?decodeURIComponent(N.link):void 0,ae=Le(P).link,Fe=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Le(Fe).link||Fe||ae||P||Q}(N);if(Fe.includes("/__/auth/callback")){const f2=Le(Fe),v2=f2.firebaseError?function te(Q){try{return JSON.parse(Q)}catch{return null}}(decodeURIComponent(f2.firebaseError)):null,we=null===(ae=null===(P=v2?.code)||void 0===P?void 0:P.split("auth/"))||void 0===ae?void 0:ae[1],Ze=we?(0,L.aw)(we):null;return Ze?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:Fe,postBody:null}}return null}(K2,L2.url)),P.onEvent(hn||ke())});return function(K2){return rt.apply(this,arguments)}}();typeof ae<"u"&&"function"==typeof ae.subscribe&&ae.subscribe(null,we);const Ze=Fe,R2=`${f2.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var rt=(0,g.Z)(function*(L2){if(L2.toLowerCase().startsWith(R2)&&we({url:L2}),"function"==typeof Ze)try{Ze(L2)}catch(K2){console.error(K2)}});return function(L2){return rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(N){var P=this;return(0,g.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,P,ae,Fe){var f2=this;return(0,g.Z)(function*(){return yield f2.selectUnderlyingResolver(),f2.assertedUnderlyingResolver._openPopup(N,P,ae,Fe)})()}_openRedirect(N,P,ae,Fe){var f2=this;return(0,g.Z)(function*(){return yield f2.selectUnderlyingResolver(),f2.assertedUnderlyingResolver._openRedirect(N,P,ae,Fe)})()}_isIframeWebStorageSupported(N,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,P)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Wn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return c2(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,g.Z)(function*(){if(N.underlyingResolver)return;const P=yield function qn(){return Ke.apply(this,arguments)}();N.underlyingResolver=P?N.cordovaResolver:N.browserResolver})()}}function p1(Q){return Q.unwrap()}function s1(Q){return i1(Q)}function i1(Q){const{_tokenResponse:N}=Q instanceof ce.ZR?Q.customData:Q;if(!N)return null;if(!(Q instanceof ce.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return L.P.credentialFromResult(Q);const P=N.providerId;if(!P||P===L.o.PASSWORD)return null;let ae;switch(P){case L.o.GOOGLE:ae=L.Q;break;case L.o.FACEBOOK:ae=L.N;break;case L.o.GITHUB:ae=L.T;break;case L.o.TWITTER:ae=L.W;break;default:const{oauthIdToken:Fe,oauthAccessToken:f2,oauthTokenSecret:v2,pendingToken:we,nonce:Ze}=N;return f2||v2||Fe||we?we?P.startsWith("saml.")?L.aL._create(P,we):L.J._fromParams({providerId:P,signInMethod:P,pendingToken:we,idToken:Fe,accessToken:f2}):new L.U(P).credential({idToken:Fe,accessToken:f2,rawNonce:Ze}):null}return Q instanceof ce.ZR?ae.credentialFromError(Q):ae.credentialFromResult(Q)}function b2(Q,N){return N.catch(P=>{throw P instanceof ce.ZR&&function _2(Q,N){var P,ae;const Fe=null===(P=N.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ae=N)||void 0===ae?void 0:ae.code))N.resolver=new $(Q,L.an(Q,N));else if(Fe){const f2=i1(N),v2=N;f2&&(v2.credential=f2,v2.tenantId=Fe.tenantId||void 0,v2.email=Fe.email||void 0,v2.phoneNumber=Fe.phoneNumber||void 0)}}(Q,P),P}).then(P=>{const Fe=P.user;return{operationType:P.operationType,credential:s1(P),additionalUserInfo:L.al(P),user:k.getOrCreate(Fe)}})}function W1(Q,N){return k2.apply(this,arguments)}function k2(){return(k2=(0,g.Z)(function*(Q,N){const P=yield N;return{verificationId:P.verificationId,confirm:ae=>b2(Q,P.confirm(ae))}})).apply(this,arguments)}class ${constructor(N,P){this.resolver=P,this.auth=function r1(Q){return Q.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return b2(p1(this.auth),this.resolver.resolveSignIn(N))}}class k{constructor(N){this._delegate=N,this.multiFactor=L.ao(N)}static getOrCreate(N){return k.USER_MAP.has(N)||k.USER_MAP.set(N,new k(N)),k.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var P=this;return(0,g.Z)(function*(){return b2(P.auth,L.Z(P._delegate,N))})()}linkWithPhoneNumber(N,P){var ae=this;return(0,g.Z)(function*(){return W1(ae.auth,L.l(ae._delegate,N,P))})()}linkWithPopup(N){var P=this;return(0,g.Z)(function*(){return b2(P.auth,L.d(P._delegate,N,z2))})()}linkWithRedirect(N){var P=this;return(0,g.Z)(function*(){return yield ot(L.aE(P.auth)),L.g(P._delegate,N,z2)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var P=this;return(0,g.Z)(function*(){return b2(P.auth,L._(P._delegate,N))})()}reauthenticateWithPhoneNumber(N,P){return W1(this.auth,L.r(this._delegate,N,P))}reauthenticateWithPopup(N){return b2(this.auth,L.e(this._delegate,N,z2))}reauthenticateWithRedirect(N){var P=this;return(0,g.Z)(function*(){return yield ot(L.aE(P.auth)),L.h(P._delegate,N,z2)})()}sendEmailVerification(N){return L.ab(this._delegate,N)}unlink(N){var P=this;return(0,g.Z)(function*(){return yield L.ak(P._delegate,N),P})()}updateEmail(N){return L.ag(this._delegate,N)}updatePassword(N){return L.ah(this._delegate,N)}updatePhoneNumber(N){return L.u(this._delegate,N)}updateProfile(N){return L.af(this._delegate,N)}verifyBeforeUpdateEmail(N,P){return L.ac(this._delegate,N,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}k.USER_MAP=new WeakMap;const A=L.ax;let F=(()=>{class Q{constructor(P,ae){if(this.app=P,ae.isInitialized())return this._delegate=ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=P.options;A(Fe,"invalid-api-key",{appName:P.name}),A(Fe,"invalid-api-key",{appName:P.name});const f2=typeof window<"u"?z2:void 0;this._delegate=ae.initialize({options:{persistence:he(Fe,P.name),popupRedirectResolver:f2}}),this._delegate._updateErrorMap(L.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?k.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,ae){L.G(this._delegate,P,ae)}applyActionCode(P){return L.a2(this._delegate,P)}checkActionCode(P){return L.a3(this._delegate,P)}confirmPasswordReset(P,ae){return L.a1(this._delegate,P,ae)}createUserWithEmailAndPassword(P,ae){var Fe=this;return(0,g.Z)(function*(){return b2(Fe._delegate,L.a5(Fe._delegate,P,ae))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return L.aa(this._delegate,P)}isSignInWithEmailLink(P){return L.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,g.Z)(function*(){A(t1(),P._delegate,"operation-not-supported-in-this-environment");const ae=yield L.j(P._delegate,z2);return ae?b2(P._delegate,Promise.resolve(ae)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Y2(Q,N){(0,L.aE)(Q)._logFramework(N)}(this._delegate,P)}onAuthStateChanged(P,ae,Fe){const{next:f2,error:v2,complete:we}=U(P,ae,Fe);return this._delegate.onAuthStateChanged(f2,v2,we)}onIdTokenChanged(P,ae,Fe){const{next:f2,error:v2,complete:we}=U(P,ae,Fe);return this._delegate.onIdTokenChanged(f2,v2,we)}sendSignInLinkToEmail(P,ae){return L.a7(this._delegate,P,ae)}sendPasswordResetEmail(P,ae){return L.a0(this._delegate,P,ae||void 0)}setPersistence(P){var ae=this;return(0,g.Z)(function*(){let Fe;switch(function gr(Q,N){X2(Object.values(Et).includes(N),Q,"invalid-persistence-type"),(0,ce.b$)()?X2(N!==Et.SESSION,Q,"unsupported-persistence-type"):(0,ce.UG)()?X2(N===Et.NONE,Q,"unsupported-persistence-type"):V1()?X2(N===Et.NONE||N===Et.LOCAL&&(0,ce.hl)(),Q,"unsupported-persistence-type"):X2(N===Et.NONE||dn(),Q,"unsupported-persistence-type")}(ae._delegate,P),P){case Et.SESSION:Fe=L.a;break;case Et.LOCAL:Fe=(yield L.ay(L.i)._isAvailable())?L.i:L.b;break;case Et.NONE:Fe=L.L;break;default:return L.at("argument-error",{appName:ae._delegate.name})}return ae._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return b2(this._delegate,L.X(this._delegate))}signInWithCredential(P){return b2(this._delegate,L.Y(this._delegate,P))}signInWithCustomToken(P){return b2(this._delegate,L.$(this._delegate,P))}signInWithEmailAndPassword(P,ae){return b2(this._delegate,L.a6(this._delegate,P,ae))}signInWithEmailLink(P,ae){return b2(this._delegate,L.a9(this._delegate,P,ae))}signInWithPhoneNumber(P,ae){return W1(this._delegate,L.s(this._delegate,P,ae))}signInWithPopup(P){var ae=this;return(0,g.Z)(function*(){return A(t1(),ae._delegate,"operation-not-supported-in-this-environment"),b2(ae._delegate,L.c(ae._delegate,P,z2))})()}signInWithRedirect(P){var ae=this;return(0,g.Z)(function*(){return A(t1(),ae._delegate,"operation-not-supported-in-this-environment"),yield ot(ae._delegate),L.f(ae._delegate,P,z2)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return L.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=Et,Q})();function U(Q,N,P){let ae=Q;"function"!=typeof Q&&({next:ae,error:N,complete:P}=Q);const Fe=ae;return{next:v2=>Fe(v2&&k.getOrCreate(v2)),error:N,complete:P}}function he(Q,N){const P=function J2(Q,N){const P=o2();if(!P)return[];const ae=L.az(P1,Q,N);switch(P.getItem(ae)){case Et.NONE:return[L.L];case Et.LOCAL:return[L.i,L.a];case Et.SESSION:return[L.a];default:return[]}}(Q,N);if(typeof self<"u"&&!P.includes(L.i)&&P.push(L.i),typeof window<"u")for(const ae of[L.b,L.a])P.includes(ae)||P.push(ae);return P.includes(L.L)||P.push(L.L),P}class Ne{constructor(){this.providerId="phone",this._delegate=new L.P(p1(R.Z.auth()))}static credential(N,P){return L.P.credential(N,P)}verifyPhoneNumber(N,P){return this._delegate.verifyPhoneNumber(N,P)}unwrap(){return this._delegate}}Ne.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Ne.PROVIDER_ID=L.P.PROVIDER_ID;const p2=L.ax;class G2{constructor(N,P,ae=R.Z.app()){var Fe;p2(null===(Fe=ae.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:ae.name}),this._delegate=new L.R(N,P,ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function It(Q){Q.INTERNAL.registerComponent(new ze.wA("auth-compat",N=>{const P=N.getProvider("app-compat").getImmediate(),ae=N.getProvider("auth");return new F(P,ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.M,FacebookAuthProvider:L.N,GithubAuthProvider:L.T,GoogleAuthProvider:L.Q,OAuthProvider:L.U,SAMLAuthProvider:L.V,PhoneAuthProvider:Ne,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:G2,TwitterAuthProvider:L.W,Auth:F,AuthCredential:L.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.2.19")}(R.Z)},8306:(g2,Ae,x)=>{x.d(Ae,{y:()=>G});var g=x(2961),R=x(727),L=x(8822),ce=x(4671);var ze=x(2416),ve=x(576),Te=x(2806);let G=(()=>{class Se{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const re=new Se;return re.source=this,re.operator=Re,re}subscribe(Re,re,fe){const Ge=function je(Se){return Se&&Se instanceof g.Lv||function X(Se){return Se&&(0,ve.m)(Se.next)&&(0,ve.m)(Se.error)&&(0,ve.m)(Se.complete)}(Se)&&(0,R.Nn)(Se)}(Re)?Re:new g.Hp(Re,re,fe);return(0,Te.x)(()=>{const{operator:$e,source:Ee}=this;Ge.add($e?$e.call(Ge,Ee):Ee?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Re){try{return this._subscribe(Re)}catch(re){Re.error(re)}}forEach(Re,re){return new(re=B(re))((fe,Ge)=>{const $e=new g.Hp({next:Ee=>{try{Re(Ee)}catch(me){Ge(me),$e.unsubscribe()}},error:Ge,complete:fe});this.subscribe($e)})}_subscribe(Re){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(Re)}[L.L](){return this}pipe(...Re){return function _e(Se){return 0===Se.length?ce.y:1===Se.length?Se[0]:function(Re){return Se.reduce((re,fe)=>fe(re),Re)}}(Re)(this)}toPromise(Re){return new(Re=B(Re))((re,fe)=>{let Ge;this.subscribe($e=>Ge=$e,$e=>fe($e),()=>re(Ge))})}}return Se.create=He=>new Se(He),Se})();function B(Se){var He;return null!==(He=Se??ze.v.Promise)&&void 0!==He?He:Promise}},7579:(g2,Ae,x)=>{x.d(Ae,{x:()=>ze});var g=x(8306),R=x(727);const ce=(0,x(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=x(8737),_e=x(2806);let ze=(()=>{class Te extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const X=new ve(this,this);return X.operator=B,X}_throwIfClosed(){if(this.closed)throw new ce}next(B){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(B)}})}error(B){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:X}=this;for(;X.length;)X.shift().error(B)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:X,isStopped:je,observers:Se}=this;return X||je?R.Lc:(this.currentObservers=null,Se.push(B),new R.w0(()=>{this.currentObservers=null,(0,Me.P)(Se,B)}))}_checkFinalizedStatuses(B){const{hasError:X,thrownError:je,isStopped:Se}=this;X?B.error(je):Se&&B.complete()}asObservable(){const B=new g.y;return B.source=this,B}}return Te.create=(G,B)=>new ve(G,B),Te})();class ve extends ze{constructor(G,B){super(),this.destination=G,this.source=B}next(G){var B,X;null===(X=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===X||X.call(B,G)}error(G){var B,X;null===(X=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===X||X.call(B,G)}complete(){var G,B;null===(B=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===B||B.call(G)}_subscribe(G){var B,X;return null!==(X=null===(B=this.source)||void 0===B?void 0:B.subscribe(G))&&void 0!==X?X:R.Lc}}},2961:(g2,Ae,x)=>{x.d(Ae,{Hp:()=>Re,Lv:()=>X});var g=x(576),R=x(727),L=x(2416),ce=x(7849);function Me(){}const _e=Te("C",void 0,void 0);function Te(Ee,me,de){return{kind:Ee,value:me,error:de}}var G=x(3410),B=x(2806);class X extends R.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,R.Nn)(me)&&me.add(this)):this.destination=$e}static create(me,de,Be){return new Re(me,de,Be)}next(me){this.isStopped?Ge(function ve(Ee){return Te("N",Ee,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Ge(function ze(Ee){return Te("E",void 0,Ee)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Ge(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Se(Ee,me){return je.call(Ee,me)}class He{constructor(me){this.partialObserver=me}next(me){const{partialObserver:de}=this;if(de.next)try{de.next(me)}catch(Be){re(Be)}}error(me){const{partialObserver:de}=this;if(de.error)try{de.error(me)}catch(Be){re(Be)}else re(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(de){re(de)}}}class Re extends X{constructor(me,de,Be){let ee;if(super(),(0,g.m)(me)||!me)ee={next:me??void 0,error:de??void 0,complete:Be??void 0};else{let se;this&&L.v.useDeprecatedNextContext?(se=Object.create(me),se.unsubscribe=()=>this.unsubscribe(),ee={next:me.next&&Se(me.next,se),error:me.error&&Se(me.error,se),complete:me.complete&&Se(me.complete,se)}):ee=me}this.destination=new He(ee)}}function re(Ee){L.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ee):(0,ce.h)(Ee)}function Ge(Ee,me){const{onStoppedNotification:de}=L.v;de&&G.z.setTimeout(()=>de(Ee,me))}const $e={closed:!0,next:Me,error:function fe(Ee){throw Ee},complete:Me}},727:(g2,Ae,x)=>{x.d(Ae,{Lc:()=>_e,w0:()=>Me,Nn:()=>ze});var g=x(576);const L=(0,x(3888).d)(Te=>function(B){Te(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ce=x(8737);class Me{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Se of B)Se.remove(this);else B.remove(this);const{initialTeardown:X}=this;if((0,g.m)(X))try{X()}catch(Se){G=Se instanceof L?Se.errors:[Se]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Se of je)try{ve(Se)}catch(He){G=G??[],He instanceof L?G=[...G,...He.errors]:G.push(He)}}if(G)throw new L(G)}}add(G){var B;if(G&&G!==this)if(this.closed)ve(G);else{if(G instanceof Me){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(G)}}_hasParent(G){const{_parentage:B}=this;return B===G||Array.isArray(B)&&B.includes(G)}_addParent(G){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(G),B):B?[B,G]:G}_removeParent(G){const{_parentage:B}=this;B===G?this._parentage=null:Array.isArray(B)&&(0,ce.P)(B,G)}remove(G){const{_finalizers:B}=this;B&&(0,ce.P)(B,G),G instanceof Me&&G._removeParent(this)}}Me.EMPTY=(()=>{const Te=new Me;return Te.closed=!0,Te})();const _e=Me.EMPTY;function ze(Te){return Te instanceof Me||Te&&"closed"in Te&&(0,g.m)(Te.remove)&&(0,g.m)(Te.add)&&(0,g.m)(Te.unsubscribe)}function ve(Te){(0,g.m)(Te)?Te():Te.unsubscribe()}},2416:(g2,Ae,x)=>{x.d(Ae,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(g2,Ae,x)=>{x.d(Ae,{E:()=>R});const R=new(x(8306).y)(Me=>Me.complete())},8996:(g2,Ae,x)=>{x.d(Ae,{D:()=>me});var g=x(8421),R=x(5363),L=x(9468),_e=x(8306),ve=x(2202),Te=x(576),G=x(9672);function X(de,Be){if(!de)throw new Error("Iterable cannot be null");return new _e.y(ee=>{(0,G.f)(ee,Be,()=>{const se=de[Symbol.asyncIterator]();(0,G.f)(ee,Be,()=>{se.next().then(le=>{le.done?ee.complete():ee.next(le.value)})},0,!0)})})}var je=x(3670),Se=x(8239),He=x(1144),Re=x(6495),re=x(2206),fe=x(4532),Ge=x(3260);function me(de,Be){return Be?function Ee(de,Be){if(null!=de){if((0,je.c)(de))return function ce(de,Be){return(0,g.Xf)(de).pipe((0,L.R)(Be),(0,R.Q)(Be))}(de,Be);if((0,He.z)(de))return function ze(de,Be){return new _e.y(ee=>{let se=0;return Be.schedule(function(){se===de.length?ee.complete():(ee.next(de[se++]),ee.closed||this.schedule())})})}(de,Be);if((0,Se.t)(de))return function Me(de,Be){return(0,g.Xf)(de).pipe((0,L.R)(Be),(0,R.Q)(Be))}(de,Be);if((0,re.D)(de))return X(de,Be);if((0,Re.T)(de))return function B(de,Be){return new _e.y(ee=>{let se;return(0,G.f)(ee,Be,()=>{se=de[ve.h](),(0,G.f)(ee,Be,()=>{let le,W;try{({value:le,done:W}=se.next())}catch(K){return void ee.error(K)}W?ee.complete():ee.next(le)},0,!0)}),()=>(0,Te.m)(se?.return)&&se.return()})}(de,Be);if((0,Ge.L)(de))return function $e(de,Be){return X((0,Ge.Q)(de),Be)}(de,Be)}throw(0,fe.z)(de)}(de,Be):(0,g.Xf)(de)}},8421:(g2,Ae,x)=>{x.d(Ae,{Xf:()=>je});var g=x(655),R=x(1144),L=x(8239),ce=x(8306),Me=x(3670),_e=x(2206),ze=x(4532),ve=x(6495),Te=x(3260),G=x(576),B=x(7849),X=x(8822);function je(Ee){if(Ee instanceof ce.y)return Ee;if(null!=Ee){if((0,Me.c)(Ee))return function Se(Ee){return new ce.y(me=>{const de=Ee[X.L]();if((0,G.m)(de.subscribe))return de.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,R.z)(Ee))return function He(Ee){return new ce.y(me=>{for(let de=0;de<Ee.length&&!me.closed;de++)me.next(Ee[de]);me.complete()})}(Ee);if((0,L.t)(Ee))return function Re(Ee){return new ce.y(me=>{Ee.then(de=>{me.closed||(me.next(de),me.complete())},de=>me.error(de)).then(null,B.h)})}(Ee);if((0,_e.D)(Ee))return fe(Ee);if((0,ve.T)(Ee))return function re(Ee){return new ce.y(me=>{for(const de of Ee)if(me.next(de),me.closed)return;me.complete()})}(Ee);if((0,Te.L)(Ee))return function Ge(Ee){return fe((0,Te.Q)(Ee))}(Ee)}throw(0,ze.z)(Ee)}function fe(Ee){return new ce.y(me=>{(function $e(Ee,me){var de,Be,ee,se;return(0,g.mG)(this,void 0,void 0,function*(){try{for(de=(0,g.KL)(Ee);!(Be=yield de.next()).done;)if(me.next(Be.value),me.closed)return}catch(le){ee={error:le}}finally{try{Be&&!Be.done&&(se=de.return)&&(yield se.call(de))}finally{if(ee)throw ee.error}}me.complete()})})(Ee,me).catch(de=>me.error(de))})}},6451:(g2,Ae,x)=>{x.d(Ae,{T:()=>_e});var g=x(6131),R=x(8421),L=x(515),ce=x(7669),Me=x(8996);function _e(...ze){const ve=(0,ce.yG)(ze),Te=(0,ce._6)(ze,1/0),G=ze;return G.length?1===G.length?(0,R.Xf)(G[0]):(0,g.J)(Te)((0,Me.D)(G,ve)):L.E}},5403:(g2,Ae,x)=>{x.d(Ae,{x:()=>R});var g=x(2961);function R(ce,Me,_e,ze,ve){return new L(ce,Me,_e,ze,ve)}class L extends g.Lv{constructor(Me,_e,ze,ve,Te,G){super(Me),this.onFinalize=Te,this.shouldUnsubscribe=G,this._next=_e?function(B){try{_e(B)}catch(X){Me.error(X)}}:super._next,this._error=ve?function(B){try{ve(B)}catch(X){Me.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ze?function(){try{ze()}catch(B){Me.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},4004:(g2,Ae,x)=>{x.d(Ae,{U:()=>L});var g=x(4482),R=x(5403);function L(ce,Me){return(0,g.e)((_e,ze)=>{let ve=0;_e.subscribe((0,R.x)(ze,Te=>{ze.next(ce.call(Me,Te,ve++))}))})}},6131:(g2,Ae,x)=>{x.d(Ae,{J:()=>G});var g=x(4004),R=x(8421),L=x(4482),ce=x(9672),Me=x(5403),ze=x(576);function ve(B,X,je=1/0){return(0,ze.m)(X)?ve((Se,He)=>(0,g.U)((Re,re)=>X(Se,Re,He,re))((0,R.Xf)(B(Se,He))),je):("number"==typeof X&&(je=X),(0,L.e)((Se,He)=>function _e(B,X,je,Se,He,Re,re,fe){const Ge=[];let $e=0,Ee=0,me=!1;const de=()=>{me&&!Ge.length&&!$e&&X.complete()},Be=se=>$e<Se?ee(se):Ge.push(se),ee=se=>{Re&&X.next(se),$e++;let le=!1;(0,R.Xf)(je(se,Ee++)).subscribe((0,Me.x)(X,W=>{He?.(W),Re?Be(W):X.next(W)},()=>{le=!0},void 0,()=>{if(le)try{for($e--;Ge.length&&$e<Se;){const W=Ge.shift();re?(0,ce.f)(X,re,()=>ee(W)):ee(W)}de()}catch(W){X.error(W)}}))};return B.subscribe((0,Me.x)(X,Be,()=>{me=!0,de()})),()=>{fe?.()}}(Se,He,B,je)))}var Te=x(4671);function G(B=1/0){return ve(Te.y,B)}},5363:(g2,Ae,x)=>{x.d(Ae,{Q:()=>ce});var g=x(9672),R=x(4482),L=x(5403);function ce(Me,_e=0){return(0,R.e)((ze,ve)=>{ze.subscribe((0,L.x)(ve,Te=>(0,g.f)(ve,Me,()=>ve.next(Te),_e),()=>(0,g.f)(ve,Me,()=>ve.complete(),_e),Te=>(0,g.f)(ve,Me,()=>ve.error(Te),_e)))})}},3099:(g2,Ae,x)=>{x.d(Ae,{B:()=>Me});var g=x(8421),R=x(7579),L=x(2961),ce=x(4482);function Me(ze={}){const{connector:ve=(()=>new R.x),resetOnError:Te=!0,resetOnComplete:G=!0,resetOnRefCountZero:B=!0}=ze;return X=>{let je,Se,He,Re=0,re=!1,fe=!1;const Ge=()=>{Se?.unsubscribe(),Se=void 0},$e=()=>{Ge(),je=He=void 0,re=fe=!1},Ee=()=>{const me=je;$e(),me?.unsubscribe()};return(0,ce.e)((me,de)=>{Re++,!fe&&!re&&Ge();const Be=He=He??ve();de.add(()=>{Re--,0===Re&&!fe&&!re&&(Se=_e(Ee,B))}),Be.subscribe(de),!je&&Re>0&&(je=new L.Hp({next:ee=>Be.next(ee),error:ee=>{fe=!0,Ge(),Se=_e($e,Te,ee),Be.error(ee)},complete:()=>{re=!0,Ge(),Se=_e($e,G),Be.complete()}}),(0,g.Xf)(me).subscribe(je))})(X)}}function _e(ze,ve,...Te){if(!0===ve)return void ze();if(!1===ve)return;const G=new L.Hp({next:()=>{G.unsubscribe(),ze()}});return ve(...Te).subscribe(G)}},9468:(g2,Ae,x)=>{x.d(Ae,{R:()=>R});var g=x(4482);function R(L,ce=0){return(0,g.e)((Me,_e)=>{_e.add(L.schedule(()=>Me.subscribe(_e),ce))})}},3410:(g2,Ae,x)=>{x.d(Ae,{z:()=>g});const g={setTimeout(R,L,...ce){const{delegate:Me}=g;return Me?.setTimeout?Me.setTimeout(R,L,...ce):setTimeout(R,L,...ce)},clearTimeout(R){const{delegate:L}=g;return(L?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(g2,Ae,x)=>{x.d(Ae,{h:()=>R});const R=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(g2,Ae,x)=>{x.d(Ae,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(g2,Ae,x)=>{x.d(Ae,{_6:()=>_e,jO:()=>ce,yG:()=>Me});var g=x(576);function L(ze){return ze[ze.length-1]}function ce(ze){return(0,g.m)(L(ze))?ze.pop():void 0}function Me(ze){return function R(ze){return ze&&(0,g.m)(ze.schedule)}(L(ze))?ze.pop():void 0}function _e(ze,ve){return"number"==typeof L(ze)?ze.pop():ve}},8737:(g2,Ae,x)=>{function g(R,L){if(R){const ce=R.indexOf(L);0<=ce&&R.splice(ce,1)}}x.d(Ae,{P:()=>g})},3888:(g2,Ae,x)=>{function g(R){const ce=R(Me=>{Error.call(Me),Me.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}x.d(Ae,{d:()=>g})},2806:(g2,Ae,x)=>{x.d(Ae,{O:()=>ce,x:()=>L});var g=x(2416);let R=null;function L(Me){if(g.v.useDeprecatedSynchronousErrorHandling){const _e=!R;if(_e&&(R={errorThrown:!1,error:null}),Me(),_e){const{errorThrown:ze,error:ve}=R;if(R=null,ze)throw ve}}else Me()}function ce(Me){g.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=Me)}},9672:(g2,Ae,x)=>{function g(R,L,ce,Me=0,_e=!1){const ze=L.schedule(function(){ce(),_e?R.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(R.add(ze),!_e)return ze}x.d(Ae,{f:()=>g})},4671:(g2,Ae,x)=>{function g(R){return R}x.d(Ae,{y:()=>g})},1144:(g2,Ae,x)=>{x.d(Ae,{z:()=>g});const g=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(g2,Ae,x)=>{x.d(Ae,{D:()=>R});var g=x(576);function R(L){return Symbol.asyncIterator&&(0,g.m)(L?.[Symbol.asyncIterator])}},576:(g2,Ae,x)=>{function g(R){return"function"==typeof R}x.d(Ae,{m:()=>g})},3670:(g2,Ae,x)=>{x.d(Ae,{c:()=>L});var g=x(8822),R=x(576);function L(ce){return(0,R.m)(ce[g.L])}},6495:(g2,Ae,x)=>{x.d(Ae,{T:()=>L});var g=x(2202),R=x(576);function L(ce){return(0,R.m)(ce?.[g.h])}},8239:(g2,Ae,x)=>{x.d(Ae,{t:()=>R});var g=x(576);function R(L){return(0,g.m)(L?.then)}},3260:(g2,Ae,x)=>{x.d(Ae,{L:()=>ce,Q:()=>L});var g=x(655),R=x(576);function L(Me){return(0,g.FC)(this,arguments,function*(){const ze=Me.getReader();try{for(;;){const{value:ve,done:Te}=yield(0,g.qq)(ze.read());if(Te)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ve)}}finally{ze.releaseLock()}})}function ce(Me){return(0,R.m)(Me?.getReader)}},4482:(g2,Ae,x)=>{x.d(Ae,{e:()=>L});var g=x(576);function L(ce){return Me=>{if(function R(ce){return(0,g.m)(ce?.lift)}(Me))return Me.lift(function(_e){try{return ce(_e,this)}catch(ze){this.error(ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(g2,Ae,x)=>{x.d(Ae,{h:()=>L});var g=x(2416),R=x(3410);function L(ce){R.z.setTimeout(()=>{const{onUnhandledError:Me}=g.v;if(!Me)throw ce;Me(ce)})}},4532:(g2,Ae,x)=>{function g(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ae,{z:()=>g})},655:(g2,Ae,x)=>{function ce(W,K){var ie={};for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&K.indexOf(te)<0&&(ie[te]=W[te]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(te=Object.getOwnPropertySymbols(W);De<te.length;De++)K.indexOf(te[De])<0&&Object.prototype.propertyIsEnumerable.call(W,te[De])&&(ie[te[De]]=W[te[De]])}return ie}function ve(W,K,ie,te){return new(ie||(ie=Promise))(function(Le,u2){function B2(Y2){try{ke(te.next(Y2))}catch(Ut){u2(Ut)}}function F2(Y2){try{ke(te.throw(Y2))}catch(Ut){u2(Ut)}}function ke(Y2){Y2.done?Le(Y2.value):function De(Le){return Le instanceof ie?Le:new ie(function(u2){u2(Le)})}(Y2.value).then(B2,F2)}ke((te=te.apply(W,K||[])).next())})}function re(W){return this instanceof re?(this.v=W,this):new re(W)}function fe(W,K,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,te=ie.apply(W,K||[]),Le=[];return De={},u2("next"),u2("throw"),u2("return"),De[Symbol.asyncIterator]=function(){return this},De;function u2(Q2){te[Q2]&&(De[Q2]=function(U2){return new Promise(function(x2,D2){Le.push([Q2,U2,x2,D2])>1||B2(Q2,U2)})})}function B2(Q2,U2){try{!function F2(Q2){Q2.value instanceof re?Promise.resolve(Q2.value.v).then(ke,Y2):Ut(Le[0][2],Q2)}(te[Q2](U2))}catch(x2){Ut(Le[0][3],x2)}}function ke(Q2){B2("next",Q2)}function Y2(Q2){B2("throw",Q2)}function Ut(Q2,U2){Q2(U2),Le.shift(),Le.length&&B2(Le[0][0],Le[0][1])}}function $e(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,K=W[Symbol.asyncIterator];return K?K.call(W):(W=function X(W){var K="function"==typeof Symbol&&Symbol.iterator,ie=K&&W[K],te=0;if(ie)return ie.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&te>=W.length&&(W=void 0),{value:W&&W[te++],done:!W}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ie={},te("next"),te("throw"),te("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function te(Le){ie[Le]=W[Le]&&function(u2){return new Promise(function(B2,F2){!function De(Le,u2,B2,F2){Promise.resolve(F2).then(function(ke){Le({value:ke,done:B2})},u2)}(B2,F2,(u2=W[Le](u2)).done,u2.value)})}}}x.d(Ae,{FC:()=>fe,KL:()=>$e,_T:()=>ce,mG:()=>ve,qq:()=>re})},4650:(g2,Ae,x)=>{x.d(Ae,{$8M:()=>Gs,AFp:()=>Ui,ALo:()=>Kt,AaK:()=>ve,AsE:()=>q9,CHM:()=>R8,CZH:()=>qc,CqO:()=>R9,D6c:()=>as,EJc:()=>B0,EiD:()=>pl,EpF:()=>k9,F$t:()=>R5,F4k:()=>P9,FYo:()=>Ml,FiY:()=>rr,G48:()=>wh,GfV:()=>wl,Gpc:()=>B,Hsn:()=>Y6,Ikx:()=>Si,JOm:()=>Mn,JVY:()=>af,KtG:()=>Ss,L6k:()=>lf,LAX:()=>lm,LFG:()=>vt,Lbi:()=>My,Lck:()=>ty,NdJ:()=>F9,OlP:()=>et,Q6J:()=>D1,QGY:()=>P5,Qsj:()=>bm,R0b:()=>on,RDi:()=>cf,Rgc:()=>j4,SBq:()=>ic,TTD:()=>Hr,TgZ:()=>Y3,X6Q:()=>Yt,Xpm:()=>F,Y36:()=>I4,YNc:()=>F4,Yjl:()=>Q,Yz7:()=>U2,ZZ4:()=>os,_Bn:()=>o7,_UZ:()=>Z6,_c5:()=>$1,_uU:()=>Cv,aQg:()=>o4,cJS:()=>D2,cg1:()=>Dc,dDg:()=>vh,dqk:()=>z2,eBb:()=>hl,eFA:()=>$7,ekj:()=>G9,eoX:()=>U7,g9A:()=>T7,h0i:()=>X3,hGG:()=>Lh,hij:()=>B5,ifc:()=>c2,ip1:()=>O0,kL8:()=>s0,lG2:()=>It,lcZ:()=>Od,lri:()=>O7,mCW:()=>Y,n5z:()=>Jn,oAB:()=>p2,oJD:()=>fm,oxw:()=>ev,pB0:()=>C,q3G:()=>wt,q4F:()=>zm,qLn:()=>li,qOj:()=>x5,qZA:()=>Yr,qzn:()=>cr,rWj:()=>B7,sBO:()=>xy,sIi:()=>Zr,s_b:()=>$4,soG:()=>Kc,uIk:()=>q3,vHH:()=>He,vpe:()=>bn,wAp:()=>y2,xp6:()=>dc,z3N:()=>_n,zSh:()=>nc,zs3:()=>tn});var g=x(7579),R=x(727),L=x(8306),ce=x(6451),Me=x(3099);function _e(s){for(let i in s)if(s[i]===_e)return i;throw Error("Could not find renamed property on target object.")}function ze(s,i){for(const c in i)i.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=i[c])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const i=s.toString();if(null==i)return""+i;const c=i.indexOf("\n");return-1===c?i:i.substring(0,c)}function Te(s,i){return null==s||""===s?null===i?"":i:null==i||""===i?s:s+" "+i}const G=_e({__forward_ref__:_e});function B(s){return s.__forward_ref__=B,s.toString=function(){return ve(this())},s}function X(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===B}class He extends Error{constructor(i,c){super(function Re(s,i){return`NG0${Math.abs(s)}${i?": "+i.trim():""}`}(i,c)),this.code=i}}function re(s){return"string"==typeof s?s:null==s?"":String(s)}function me(s,i){throw new He(-201,!1)}function F2(s,i){null==s&&function ke(s,i,c,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${c} ${l} ${i} <=Actual]`))}(i,s,null,"!=")}function U2(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function D2(s){return{providers:s.providers||[],imports:s.imports||[]}}function e1(s){return fn(s,V1)||fn(s,Wn)}function fn(s,i){return s.hasOwnProperty(i)?s[i]:null}function dn(s){return s&&(s.hasOwnProperty(t1)||s.hasOwnProperty(qn))?s[t1]:null}const V1=_e({\u0275prov:_e}),t1=_e({\u0275inj:_e}),Wn=_e({ngInjectableDef:_e}),qn=_e({ngInjectorDef:_e});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let n1;function X2(s){const i=n1;return n1=s,i}function P1(s,i,c){const l=e1(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:c&Ke.Optional?null:void 0!==i?i:void me(ve(s))}function ot(s){return{toString:s}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),c2=(()=>{return(s=c2||(c2={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",c2;var s})();const z2=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),s1={},_2=[],i1=_e({\u0275cmp:_e}),b2=_e({\u0275dir:_e}),W1=_e({\u0275pipe:_e}),k2=_e({\u0275mod:_e}),$=_e({\u0275fac:_e}),k=_e({__NG_ELEMENT_ID__:_e});let A=0;function F(s){return ot(()=>{const c=!0===s.standalone,l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||_2,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||c2.Emulated,id:"c"+A++,styles:s.styles||_2,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.dependencies,v=s.features;return u.inputs=j2(s.inputs,l),u.outputs=j2(s.outputs),v&&v.forEach(_=>_(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(he).filter(Ne):null,u.pipeDefs=d?()=>("function"==typeof d?d():d).map(ae).filter(Ne):null,u})}function he(s){return N(s)||P(s)}function Ne(s){return null!==s}function p2(s){return ot(()=>({type:s.type,bootstrap:s.bootstrap||_2,declarations:s.declarations||_2,imports:s.imports||_2,exports:s.exports||_2,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function j2(s,i){if(null==s)return s1;const c={};for(const l in s)if(s.hasOwnProperty(l)){let u=s[l],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),c[u]=l,i&&(i[u]=d)}return c}const It=F;function Q(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function N(s){return s[i1]||null}function P(s){return s[b2]||null}function ae(s){return s[W1]||null}function Ft(s){return Array.isArray(s)&&"object"==typeof s[1]}function b1(s){return Array.isArray(s)&&!0===s[1]}function Vr(s){return 0!=(8&s.flags)}function Vs(s){return 2==(2&s.flags)}function f4(s){return 1==(1&s.flags)}function mn(s){return null!==s.template}function bs(s){return 0!=(256&s[2])}function jt(s,i){return s.hasOwnProperty($)?s[$]:null}class h4{constructor(i,c,l){this.previousValue=i,this.currentValue=c,this.firstChange=l}isFirstChange(){return this.firstChange}}function Hr(){return Aa}function Aa(s){return s.type.prototype.ngOnChanges&&(s.setInput=mo),po}function po(){const s=p4(this),i=s?.current;if(i){const c=s.previous;if(c===s1)s.previous=i;else for(let l in i)c[l]=i[l];s.current=null,this.ngOnChanges(i)}}function mo(s,i,c,l){const u=p4(s)||function x8(s,i){return s[Ta]=i}(s,{previous:s1,current:null}),d=u.current||(u.current={}),v=u.previous,_=this.declaredInputs[c],w=v[_];d[_]=new h4(w&&w.currentValue,i,v===s1),s[l]=i}Hr.ngInherit=!0;const Ta="__ngSimpleChanges__";function p4(s){return s[Ta]||null}function ht(s){for(;Array.isArray(s);)s=s[0];return s}function p3(s,i){return ht(i[s])}function m1(s,i){return ht(i[s.index])}function m3(s,i){return s.data[i]}function W2(s,i){const c=i[s];return Ft(c)?c:c[0]}function Zn(s){return 64==(64&s[2])}function gn(s,i){return null==i?null:s[i]}function g3(s){s[18]=0}function v3(s,i){s[5]+=i;let c=s,l=s[3];for(;null!==l&&(1===i&&1===c[5]||-1===i&&0===c[5]);)l[5]+=i,c=l,l=l[3]}const w2={lFrame:zo(null),bindingsEnabled:!0};function y3(){return w2.bindingsEnabled}function Ce(){return w2.lFrame.lView}function P2(){return w2.lFrame.tView}function R8(s){return w2.lFrame.contextLView=s,s[8]}function Ss(s){return w2.lFrame.contextLView=null,s}function Nt(){let s=Es();for(;null!==s&&64===s.type;)s=s.parent;return s}function Es(){return w2.lFrame.currentTNode}function B1(s,i){const c=w2.lFrame;c.currentTNode=s,c.isParent=i}function _o(){return w2.lFrame.isParent}function Ds(){w2.lFrame.isParent=!1}function _3(){return w2.lFrame.bindingIndex++}function Qn(s){const i=w2.lFrame,c=i.bindingIndex;return i.bindingIndex=i.bindingIndex+s,c}function Ra(s,i){const c=w2.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ls(i)}function Ls(s){w2.lFrame.currentDirectiveIndex=s}function bo(s){w2.lFrame.currentQueryIndex=s}function Ho(s){const i=s[1];return 2===i.type?i.declTNode:1===i.type?s[6]:null}function B8(s,i,c){if(c&Ke.SkipSelf){let u=i,d=s;for(;!(u=u.parent,null!==u||c&Ke.Host||(u=Ho(d),null===u||(d=d[15],10&u.type))););if(null===u)return!1;i=u,s=d}const l=w2.lFrame=U8();return l.currentTNode=i,l.lView=s,!0}function xs(s){const i=U8(),c=s[1];w2.lFrame=i,i.currentTNode=c.firstChild,i.lView=s,i.tView=c,i.contextLView=s,i.bindingIndex=c.bindingStartIndex,i.inI18n=!1}function U8(){const s=w2.lFrame,i=null===s?null:s.child;return null===i?zo(s):i}function zo(s){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=i),i}function j8(){const s=w2.lFrame;return w2.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Fa=j8;function m4(){const s=j8();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ct(){return w2.lFrame.selectedIndex}function Dn(s){w2.lFrame.selectedIndex=s}function at(){const s=w2.lFrame;return m3(s.tView,s.selectedIndex)}function As(s,i){for(let c=i.directiveStart,l=i.directiveEnd;c<l;c++){const d=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:_,ngAfterViewInit:w,ngAfterViewChecked:b,ngOnDestroy:E}=d;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),_&&((s.contentHooks||(s.contentHooks=[])).push(c,_),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,_)),w&&(s.viewHooks||(s.viewHooks=[])).push(-c,w),b&&((s.viewHooks||(s.viewHooks=[])).push(c,b),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,b)),null!=E&&(s.destroyHooks||(s.destroyHooks=[])).push(c,E)}}function Ts(s,i,c){Do(s,i,3,c)}function Er(s,i,c,l){(3&s[2])===c&&Do(s,i,c,l)}function Io(s,i){let c=s[2];(3&c)===i&&(c&=2047,c+=1,s[2]=c)}function Do(s,i,c,l){const d=l??-1,v=i.length-1;let _=0;for(let w=void 0!==l?65535&s[18]:0;w<v;w++)if("number"==typeof i[w+1]){if(_=i[w],null!=l&&_>=l)break}else i[w]<0&&(s[18]+=65536),(_<d||-1==d)&&(Oa(s,c,i,w),s[18]=(4294901760&s[18])+w+2),w++}function Oa(s,i,c,l){const u=c[l]<0,d=c[l+1],_=s[u?-c[l]:c[l]];if(u){if(s[2]>>11<s[18]>>16&&(3&s[2])===i){s[2]+=2048;try{d.call(_)}finally{}}}else try{d.call(_)}finally{}}class U1{constructor(i,c,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=l}}function Ln(s,i,c){let l=0;for(;l<c.length;){const u=c[l];if("number"==typeof u){if(0!==u)break;l++;const d=c[l++],v=c[l++],_=c[l++];s.setAttribute(i,v,_,d)}else{const d=u,v=c[++l];To(d)?s.setProperty(i,d,v):s.setAttribute(i,d,v),l++}}return l}function Ao(s){return 3===s||4===s||6===s}function To(s){return 64===s.charCodeAt(0)}function w3(s,i){if(null!==i&&0!==i.length)if(null===s||0===s.length)s=i.slice();else{let c=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?c=u:0===c||Ua(s,c,u,null,-1===c||2===c?i[++l]:null)}}return s}function Ua(s,i,c,l,u){let d=0,v=s.length;if(-1===i)v=-1;else for(;d<s.length;){const _=s[d++];if("number"==typeof _){if(_===i){v=-1;break}if(_>i){v=d-1;break}}}for(;d<s.length;){const _=s[d];if("number"==typeof _)break;if(_===c){if(null===l)return void(null!==u&&(s[d+1]=u));if(l===s[d+1])return void(s[d+2]=u)}d++,null!==l&&d++,null!==u&&d++}-1!==v&&(s.splice(v,0,i),d=v+1),s.splice(d++,0,c),null!==l&&s.splice(d++,0,l),null!==u&&s.splice(d++,0,u)}function Q8(s){return-1!==s}function Ir(s){return 32767&s}function Xn(s,i){let c=function X8(s){return s>>16}(s),l=i;for(;c>0;)l=l[15],c--;return l}let No=!0;function Ps(s){const i=No;return No=s,i}let ja=0;const Z1={};function Dr(s,i){const c=Rs(s,i);if(-1!==c)return c;const l=i[1];l.firstCreatePass&&(s.injectorIndex=i.length,ko(l.data,s),ko(i,null),ko(l.blueprint,null));const u=V3(s,i),d=s.injectorIndex;if(Q8(u)){const v=Ir(u),_=Xn(u,i),w=_[1].data;for(let b=0;b<8;b++)i[d+b]=_[v+b]|w[v+b]}return i[d+8]=u,d}function ko(s,i){s.push(0,0,0,0,0,0,0,0,i)}function Rs(s,i){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===i[s.injectorIndex+8]?-1:s.injectorIndex}function V3(s,i){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,l=null,u=i;for(;null!==u;){if(l=$s(u),null===l)return-1;if(c++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|c<<16}return-1}function b3(s,i,c){!function el(s,i,c){let l;"string"==typeof c?l=c.charCodeAt(0)||0:c.hasOwnProperty(k)&&(l=c[k]),null==l&&(l=c[k]=ja++);const u=255&l;i.data[s+(u>>5)]|=1<<u}(s,i,c)}function Fs(s,i,c){if(c&Ke.Optional)return s;me()}function v4(s,i,c,l){if(c&Ke.Optional&&void 0===l&&(l=null),0==(c&(Ke.Self|Ke.Host))){const u=s[9],d=X2(void 0);try{return u?u.get(i,l,c&Ke.Optional):P1(i,l,c&Ke.Optional)}finally{X2(d)}}return Fs(l,0,c)}function Os(s,i,c,l=Ke.Default,u){if(null!==s){if(1024&i[2]){const v=function nl(s,i,c,l,u){let d=s,v=i;for(;null!==d&&null!==v&&1024&v[2]&&!(256&v[2]);){const _=$a(d,v,c,l|Ke.Self,Z1);if(_!==Z1)return _;let w=d.parent;if(!w){const b=v[21];if(b){const E=b.get(c,Z1,l);if(E!==Z1)return E}w=$s(v),v=v[15]}d=w}return u}(s,i,c,l,Z1);if(v!==Z1)return v}const d=$a(s,i,c,l,Z1);if(d!==Z1)return d}return v4(i,c,l,u)}function $a(s,i,c,l,u){const d=function tl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const i=s.hasOwnProperty(k)?s[k]:void 0;return"number"==typeof i?i>=0?255&i:qa:i}(c);if("function"==typeof d){if(!B8(i,s,l))return l&Ke.Host?Fs(u,0,l):v4(i,c,l,u);try{const v=d(l);if(null!=v||l&Ke.Optional)return v;me()}finally{Fa()}}else if("number"==typeof d){let v=null,_=Rs(s,i),w=-1,b=l&Ke.Host?i[16][6]:null;for((-1===_||l&Ke.SkipSelf)&&(w=-1===_?V3(s,i):i[_+8],-1!==w&&Wa(l,!1)?(v=i[1],_=Ir(w),i=Xn(w,i)):_=-1);-1!==_;){const E=i[1];if(Us(d,_,E.data)){const D=Ga(_,i,c,v,l,b);if(D!==Z1)return D}w=i[_+8],-1!==w&&Wa(l,i[1].data[_+8]===b)&&Us(d,_,i)?(v=E,_=Ir(w),i=Xn(w,i)):_=-1}}return u}function Ga(s,i,c,l,u,d){const v=i[1],_=v.data[s+8],E=function Bs(s,i,c,l,u){const d=s.providerIndexes,v=i.data,_=1048575&d,w=s.directiveStart,E=d>>20,O=u?_+E:s.directiveEnd;for(let Z=l?_:_+E;Z<O;Z++){const ue=v[Z];if(Z<w&&c===ue||Z>=w&&ue.type===c)return Z}if(u){const Z=v[w];if(Z&&mn(Z)&&Z.type===c)return w}return null}(_,v,c,null==l?Vs(_)&&No:l!=v&&0!=(3&_.type),u&Ke.Host&&d===_);return null!==E?Lr(i,v,E,_):Z1}function Lr(s,i,c,l){let u=s[c];const d=i.data;if(function Lo(s){return s instanceof U1}(u)){const v=u;v.resolving&&function Ge(s,i){const c=i?`. Dependency path: ${i.join(" > ")} > ${s}`:"";throw new He(-200,`Circular dependency in DI detected for ${s}${c}`)}(function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():re(s)}(d[c]));const _=Ps(v.canSeeViewProviders);v.resolving=!0;const w=v.injectImpl?X2(v.injectImpl):null;B8(s,l,Ke.Default);try{u=s[c]=v.factory(void 0,d,s,l),i.firstCreatePass&&c>=l.directiveStart&&function Eo(s,i,c){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:d}=i.type.prototype;if(l){const v=Aa(i);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}u&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,u),d&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,d),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,d))}(c,d[c],i)}finally{null!==w&&X2(w),Ps(_),v.resolving=!1,Fa()}}return u}function Us(s,i,c){return!!(c[i+(s>>5)]&1<<s)}function Wa(s,i){return!(s&Ke.Self||s&Ke.Host&&i)}class z3{constructor(i,c){this._tNode=i,this._lView=c}get(i,c,l){return Os(this._tNode,this._lView,i,l,c)}}function qa(){return new z3(Nt(),Ce())}function Jn(s){return ot(()=>{const i=s.prototype.constructor,c=i[$]||js(i),l=Object.prototype;let u=Object.getPrototypeOf(s.prototype).constructor;for(;u&&u!==l;){const d=u[$]||js(u);if(d&&d!==c)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function js(s){return je(s)?()=>{const i=js(X(s));return i&&i()}:jt(s)}function $s(s){const i=s[1],c=i.type;return 2===c?i.declTNode:1===c?s[6]:null}function Gs(s){return function H3(s,i){if("class"===i)return s.classes;if("style"===i)return s.styles;const c=s.attrs;if(c){const l=c.length;let u=0;for(;u<l;){const d=c[u];if(Ao(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<l&&"string"==typeof c[u];)u++;else{if(d===i)return c[u+1];u+=2}}}return null}(Nt(),s)}const S3="__parameters__";function E3(s,i,c){return ot(()=>{const l=function Ka(s){return function(...c){if(s){const l=s(...c);for(const u in l)this[u]=l[u]}}}(i);function u(...d){if(this instanceof u)return l.apply(this,d),this;const v=new u(...d);return _.annotation=v,_;function _(w,b,E){const D=w.hasOwnProperty(S3)?w[S3]:Object.defineProperty(w,S3,{value:[]})[S3];for(;D.length<=E;)D.push(null);return(D[E]=D[E]||[]).push(v),w}}return c&&(u.prototype=Object.create(c.prototype)),u.prototype.ngMetadataName=s,u.annotationCls=u,u})}class et{constructor(i,c){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=U2({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xn(s,i){s.forEach(c=>Array.isArray(c)?xn(c,i):i(c))}function Ws(s,i,c){i>=s.length?s.push(c):s.splice(i,0,c)}function Tr(s,i){return i>=s.length-1?s.pop():s.splice(i,1)[0]}function er(s,i){const c=[];for(let l=0;l<s;l++)c.push(i);return c}function E1(s,i,c){let l=An(s,i);return l>=0?s[1|l]=c:(l=~l,function Pt(s,i,c,l){let u=s.length;if(u==i)s.push(c,l);else if(1===u)s.push(l,s[0]),s[0]=c;else{for(u--,s.push(s[u-1],s[u]);u>i;)s[u]=s[u-2],u--;s[i]=c,s[i+1]=l}}(s,l,i,c)),l}function Ro(s,i){const c=An(s,i);if(c>=0)return s[1|c]}function An(s,i){return function Q1(s,i,c){let l=0,u=s.length>>c;for(;u!==l;){const d=l+(u-l>>1),v=s[d<<c];if(i===v)return d<<c;v>i?u=d:l=d+1}return~(u<<c)}(s,i,1)}const Mt={},yn="__NG_DI_FLAG__",_4="ngTempTokenPath",Ks=/\n/gm,Zs="__source";let Pr;function tr(s){const i=Pr;return Pr=s,i}function t6(s,i=Ke.Default){if(void 0===Pr)throw new He(-203,!1);return null===Pr?P1(s,void 0,i):Pr.get(s,i&Ke.Optional?null:void 0,i)}function vt(s,i=Ke.Default){return(function Et(){return n1}()||t6)(X(s),i)}function Qs(s){const i=[];for(let c=0;c<s.length;c++){const l=X(s[c]);if(Array.isArray(l)){if(0===l.length)throw new He(900,!1);let u,d=Ke.Default;for(let v=0;v<l.length;v++){const _=l[v],w=n6(_);"number"==typeof w?-1===w?u=_.token:d|=w:u=_}i.push(vt(u,d))}else i.push(vt(l))}return i}function nr(s,i){return s[yn]=i,s.prototype[yn]=i,s}function n6(s){return s[yn]}const rr=nr(E3("Optional"),8),Rr=nr(E3("SkipSelf"),4);let a6,Wo,b4;function cf(s){a6=s}function Or(s){return function qo(){if(void 0===Wo&&(Wo=null,z2.trustedTypes))try{Wo=z2.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Wo}()?.createHTML(s)||s}function k3(s){return function Br(){if(void 0===b4&&(b4=null,z2.trustedTypes))try{b4=z2.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return b4}()?.createHTML(s)||s}class Tn{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ti extends Tn{getTypeName(){return"HTML"}}class Ko extends Tn{getTypeName(){return"Style"}}class Zo extends Tn{getTypeName(){return"Script"}}class ni extends Tn{getTypeName(){return"URL"}}class ri extends Tn{getTypeName(){return"ResourceURL"}}function _n(s){return s instanceof Tn?s.changingThisBreaksApplicationSecurity:s}function cr(s,i){const c=function si(s){return s instanceof Tn&&s.getTypeName()||null}(s);if(null!=c&&c!==i){if("ResourceURL"===c&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===i}function af(s){return new ti(s)}function lf(s){return new Ko(s)}function hl(s){return new Zo(s)}function lm(s){return new ni(s)}function C(s){return new ri(s)}class m{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const c=(new window.DOMParser).parseFromString(Or(i),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(i):(c.removeChild(c.firstChild),c)}catch{return null}}}class M{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const l=this.inertDocument.createElement("body");c.appendChild(l)}}getInertBodyElement(i){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Or(i),c;const l=this.inertDocument.createElement("body");return l.innerHTML=Or(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const c=i.attributes;for(let u=c.length-1;0<u;u--){const v=c.item(u).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&i.removeAttribute(v)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const I=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Y(s){return(s=String(s)).match(I)?s:"unsafe:"+s}function Pe(s){const i={};for(const c of s.split(","))i[c]=!0;return i}function t2(...s){const i={};for(const c of s)for(const l in c)c.hasOwnProperty(l)&&(i[l]=!0);return i}const E2=Pe("area,br,col,hr,img,wbr"),tt=Pe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J1=Pe("rp,rt"),ii=t2(E2,t2(tt,Pe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),t2(J1,Pe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),t2(J1,tt)),z4=Pe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=Pe("srcset"),Jo=t2(z4,oi,Pe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),u6=Pe("script,style,template");class f6{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let c=i.firstChild,l=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?l=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,l&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let u=this.checkClobberedElement(c,c.nextSibling);if(u){c=u;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(i){const c=i.nodeName.toLowerCase();if(!ii.hasOwnProperty(c))return this.sanitizedSomething=!0,!u6.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const l=i.attributes;for(let u=0;u<l.length;u++){const d=l.item(u),v=d.name,_=v.toLowerCase();if(!Jo.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let w=d.value;z4[_]&&(w=Y(w)),oi[_]&&(s=w,w=(s=String(s)).split(",").map(i=>Y(i.trim())).join(", ")),this.buf.push(" ",v,'="',ec(w),'"')}var s;return this.buf.push(">"),!0}endElement(i){const c=i.nodeName.toLowerCase();ii.hasOwnProperty(c)&&!E2.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(i){this.buf.push(ec(i))}checkClobberedElement(i,c){if(c&&(i.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return c}}const P3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jr=/([^\#-~ |!])/g;function ec(s){return s.replace(/&/g,"&amp;").replace(P3,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(jr,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tc;function pl(s,i){let c=null;try{tc=tc||function h(s){const i=new M(s);return function S(){try{return!!(new window.DOMParser).parseFromString(Or(""),"text/html")}catch{return!1}}()?new m(i):i}(s);let l=i?String(i):"";c=tc.getInertBodyElement(l);let u=5,d=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=d,d=c.innerHTML,c=tc.getInertBodyElement(l)}while(l!==d);return Or((new f6).sanitizeChildren(uf(c)||c))}finally{if(c){const l=uf(c)||c;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function uf(s){return"content"in s&&function um(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var wt=(()=>((wt=wt||{})[wt.NONE=0]="NONE",wt[wt.HTML=1]="HTML",wt[wt.STYLE=2]="STYLE",wt[wt.SCRIPT=3]="SCRIPT",wt[wt.URL=4]="URL",wt[wt.RESOURCE_URL=5]="RESOURCE_URL",wt))();function fm(s){const i=function ci(){const s=Ce();return s&&s[12]}();return i?k3(i.sanitize(wt.HTML,s)||""):cr(s,"HTML")?k3(_n(s)):pl(function Go(){return void 0!==a6?a6:typeof document<"u"?document:void 0}(),re(s))}const pf=new et("ENVIRONMENT_INITIALIZER"),gm=new et("INJECTOR",-1),ml=new et("INJECTOR_DEF_TYPES");class mf{get(i,c=Mt){if(c===Mt){const l=new Error(`NullInjectorError: No provider for ${ve(i)}!`);throw l.name="NullInjectorError",l}return c}}function gf(...s){return{\u0275providers:vf(0,s)}}function vf(s,...i){const c=[],l=new Set;let u;return xn(i,d=>{const v=d;h6(v,c,[],l)&&(u||(u=[]),u.push(v))}),void 0!==u&&gl(u,c),c}function gl(s,i){for(let c=0;c<s.length;c++){const{providers:u}=s[c];xn(u,d=>{i.push(d)})}}function h6(s,i,c,l){if(!(s=X(s)))return!1;let u=null,d=dn(s);const v=!d&&N(s);if(d||v){if(v&&!v.standalone)return!1;u=s}else{const w=s.ngModule;if(d=dn(w),!d)return!1;u=w}const _=l.has(u);if(v){if(_)return!1;if(l.add(u),v.dependencies){const w="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const b of w)h6(b,i,c,l)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let b;l.add(u);try{xn(d.imports,E=>{h6(E,i,c,l)&&(b||(b=[]),b.push(E))})}finally{}void 0!==b&&gl(b,i)}if(!_){const b=jt(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:_2},{provide:ml,useValue:u,multi:!0},{provide:pf,useValue:()=>vt(u),multi:!0})}const w=d.providers;null==w||_||xn(w,E=>{i.push(E)})}}return u!==s&&void 0!==s.providers}const yf=_e({provide:String,useValue:_e});function vl(s){return null!==s&&"object"==typeof s&&yf in s}function $r(s){return"function"==typeof s}const nc=new et("Set Injector scope."),rc={},ym={};let m6;function g6(){return void 0===m6&&(m6=new mf),m6}class R3{}class _f extends R3{constructor(i,c,l,u){super(),this.parent=c,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,v6(i,v=>this.processProvider(v)),this.records.set(gm,ai(void 0,this)),u.has("environment")&&this.records.set(R3,ai(void 0,this));const d=this.records.get(nc);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ml.multi,_2,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const c=tr(this),l=X2(void 0);try{return i()}finally{tr(c),X2(l)}}get(i,c=Mt,l=Ke.Default){this.assertNotDestroyed();const u=tr(this),d=X2(void 0);try{if(!(l&Ke.SkipSelf)){let _=this.records.get(i);if(void 0===_){const w=function Mm(s){return"function"==typeof s||"object"==typeof s&&s instanceof et}(i)&&e1(i);_=w&&this.injectableDefInScope(w)?ai(sc(i),rc):null,this.records.set(i,_)}if(null!=_)return this.hydrate(i,_)}return(l&Ke.Self?g6():this.parent).get(i,c=l&Ke.Optional&&c===Mt?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[_4]=v[_4]||[]).unshift(ve(i)),u)throw v;return function r6(s,i,c,l){const u=s[_4];throw i[Zs]&&u.unshift(i[Zs]),s.message=function Oo(s,i,c,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let u=ve(i);if(Array.isArray(i))u=i.map(ve).join(" -> ");else if("object"==typeof i){let d=[];for(let v in i)if(i.hasOwnProperty(v)){let _=i[v];d.push(v+":"+("string"==typeof _?JSON.stringify(_):ve(_)))}u=`{${d.join(", ")}}`}return`${c}${l?"("+l+")":""}[${u}]: ${s.replace(Ks,"\n  ")}`}("\n"+s.message,u,c,l),s.ngTokenPath=u,s[_4]=null,s}(v,i,"R3InjectorError",this.source)}throw v}finally{X2(d),tr(u)}}resolveInjectorInitializers(){const i=tr(this),c=X2(void 0);try{const l=this.get(pf.multi,_2,Ke.Self);for(const u of l)u()}finally{tr(i),X2(c)}}toString(){const i=[],c=this.records;for(const l of c.keys())i.push(ve(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(i){let c=$r(i=X(i))?i:X(i&&i.provide);const l=function _m(s){return vl(s)?ai(void 0,s.useValue):ai(yl(s),rc)}(i);if($r(i)||!0!==i.multi)this.records.get(c);else{let u=this.records.get(c);u||(u=ai(void 0,rc,!0),u.factory=()=>Qs(u.multi),this.records.set(c,u)),c=i,u.multi.push(i)}this.records.set(c,l)}hydrate(i,c){return c.value===rc&&(c.value=ym,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Cl(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(i){if(!i.providedIn)return!1;const c=X(i.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function sc(s){const i=e1(s),c=null!==i?i.factory:jt(s);if(null!==c)return c;if(s instanceof et)throw new He(204,!1);if(s instanceof Function)return function Cm(s){const i=s.length;if(i>0)throw er(i,"?"),new He(204,!1);const c=function ft(s){const i=s&&(s[V1]||s[Wn]);if(i){const c=function Gn(s){if(s.hasOwnProperty("name"))return s.name;const i=(""+s).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),i}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new He(204,!1)}function yl(s,i,c){let l;if($r(s)){const u=X(s);return jt(u)||sc(u)}if(vl(s))l=()=>X(s.useValue);else if(function Cf(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Qs(s.deps||[]));else if(function p6(s){return!(!s||!s.useExisting)}(s))l=()=>vt(X(s.useExisting));else{const u=X(s&&(s.useClass||s.provide));if(!function dw(s){return!!s.deps}(s))return jt(u)||sc(u);l=()=>new u(...Qs(s.deps))}return l}function ai(s,i,c=!1){return{factory:s,value:i,multi:c?[]:void 0}}function Mf(s){return!!s.\u0275providers}function v6(s,i){for(const c of s)Array.isArray(c)?v6(c,i):Mf(c)?v6(c.\u0275providers,i):i(c)}class wf{}class Vm{resolveComponentFactory(i){throw function Vf(s){const i=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=s,i}(i)}}let y6=(()=>{class s{}return s.NULL=new Vm,s})();function _l(){return O3(Nt(),Ce())}function O3(s,i){return new ic(m1(s,i))}let ic=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=_l,s})();class Ml{}let bm=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function zf(){const s=Ce(),c=W2(Nt().index,s);return(Ft(c)?c:s)[11]}(),s})(),Hm=(()=>{class s{}return s.\u0275prov=U2({token:s,providedIn:"root",factory:()=>null}),s})();class wl{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const zm=new wl("14.2.0"),Sf={};function S4(s){return s.ngOriginalError}class li{constructor(){this._console=console}handleError(i){const c=this._findOriginalError(i);this._console.error("ERROR",i),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(i){let c=i&&S4(i);for(;c&&S4(c);)c=S4(c);return c||null}}const Sl=new Map;let Gr=0;const oc="__ngContext__";function v1(s,i){Ft(i)?(s[oc]=i[20],function El(s){Sl.set(s[20],s)}(i)):s[oc]=i}function cc(s){const i=s[oc];return"number"==typeof i?function Il(s){return Sl.get(s)||null}(i):i||null}function xl(s){const i=cc(s);return i?Ft(i)?i:i.lView:null}var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();function hi(s,i){return undefined(s,i)}function qr(s){const i=s[3];return b1(i)?i[3]:i}function lc(s){return Ff(s[13])}function Rl(s){return Ff(s[4])}function Ff(s){for(;null!==s&&!b1(s);)s=s[4];return s}function E4(s,i,c,l,u){if(null!=l){let d,v=!1;b1(l)?d=l:Ft(l)&&(v=!0,l=l[0]);const _=ht(l);0===s&&null!==c?null==u?Gf(i,c,_):j3(i,c,_,u||null,!0):1===s&&null!==c?j3(i,c,_,u||null,!0):2===s?function S6(s,i,c){const l=pi(s,i);l&&function Wl(s,i,c,l){s.removeChild(i,c,l)}(s,l,i,c)}(i,_,v):3===s&&i.destroyNode(_),null!=d&&function $m(s,i,c,l,u){const d=c[7];d!==ht(c)&&E4(i,s,l,d,u);for(let _=10;_<c.length;_++){const w=c[_];fc(w[1],w,s,i,l,d)}}(i,s,d,c,u)}}function b6(s,i,c){return s.createElement(i,c)}function Bf(s,i){const c=s[9],l=c.indexOf(i),u=i[3];512&i[2]&&(i[2]&=-513,v3(u,-1)),c.splice(l,1)}function uc(s,i){if(s.length<=10)return;const c=10+i,l=s[c];if(l){const u=l[17];null!==u&&u!==s&&Bf(u,l),i>0&&(s[c-1][4]=l[4]);const d=Tr(s,10+i);!function Pm(s,i){fc(s,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const v=d[19];null!==v&&v.detachView(d[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function jl(s,i){if(!(128&i[2])){const c=i[11];c.destroyNode&&fc(s,i,c,3,null,null),function Fm(s){let i=s[13];if(!i)return $l(s[1],s);for(;i;){let c=null;if(Ft(i))c=i[13];else{const l=i[10];l&&(c=l)}if(!c){for(;i&&!i[4]&&i!==s;)Ft(i)&&$l(i[1],i),i=i[3];null===i&&(i=s),Ft(i)&&$l(i[1],i),c=i&&i[4]}i=c}}(i)}}function $l(s,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Uf(s,i){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let l=0;l<c.length;l+=2){const u=i[c[l]];if(!(u instanceof U1)){const d=c[l+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const _=u[d[v]],w=d[v+1];try{w.call(_)}finally{}}else try{d.call(u)}finally{}}}}(s,i),function Gl(s,i){const c=s.cleanup,l=i[7];let u=-1;if(null!==c)for(let d=0;d<c.length-1;d+=2)if("string"==typeof c[d]){const v=c[d+1],_="function"==typeof v?v(i):ht(i[v]),w=l[u=c[d+2]],b=c[d+3];"boolean"==typeof b?_.removeEventListener(c[d],w,b):b>=0?l[u=b]():l[u=-b].unsubscribe(),d+=2}else{const v=l[u=c[d+1]];c[d].call(v)}if(null!==l){for(let d=u+1;d<l.length;d++)(0,l[d])();i[7]=null}}(s,i),1===i[1].type&&i[11].destroy();const c=i[17];if(null!==c&&b1(i[3])){c!==i[3]&&Bf(c,i);const l=i[19];null!==l&&l.detachView(s)}!function Dl(s){Sl.delete(s[20])}(i)}}function jf(s,i,c){return function $f(s,i,c){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return c[0];if(2&l.flags){const u=s.data[l.directiveStart].encapsulation;if(u===c2.None||u===c2.Emulated)return null}return m1(l,c)}(s,i.parent,c)}function j3(s,i,c,l,u){s.insertBefore(i,c,l,u)}function Gf(s,i,c){s.appendChild(i,c)}function Wf(s,i,c,l,u){null!==l?j3(s,i,c,l,u):Gf(s,i,c)}function pi(s,i){return s.parentNode(i)}function H6(s,i,c){return z6(s,i,c)}let z6=function qf(s,i,c){return 40&s.type?m1(s,c):null};function mi(s,i,c,l){const u=jf(s,l,i),d=i[11],_=H6(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(c))for(let w=0;w<c.length;w++)Wf(d,u,c[w],_,!1);else Wf(d,u,c,_,!1)}function Kl(s,i){if(null!==i){const c=i.type;if(3&c)return m1(i,s);if(4&c)return Zl(-1,s[i.index]);if(8&c){const l=i.child;if(null!==l)return Kl(s,l);{const u=s[i.index];return b1(u)?Zl(-1,u):ht(u)}}if(32&c)return hi(i,s)()||ht(s[i.index]);{const l=Um(s,i);return null!==l?Array.isArray(l)?l[0]:Kl(qr(s[16]),l):Kl(s,i.next)}}return null}function Um(s,i){return null!==i?s[16][6].projection[i.projection]:null}function Zl(s,i){const c=10+s+1;if(c<i.length){const l=i[c],u=l[1].firstChild;if(null!==u)return Kl(l,u)}return i[7]}function E6(s,i,c,l,u,d,v){for(;null!=c;){const _=l[c.index],w=c.type;if(v&&0===i&&(_&&v1(ht(_),l),c.flags|=4),64!=(64&c.flags))if(8&w)E6(s,i,c.child,l,u,d,!1),E4(i,s,u,_,d);else if(32&w){const b=hi(c,l);let E;for(;E=b();)E4(i,s,u,E,d);E4(i,s,u,_,d)}else 16&w?Kf(s,i,l,c,u,d):E4(i,s,u,_,d);c=v?c.projectionNext:c.next}}function fc(s,i,c,l,u,d){E6(c,l,s.firstChild,i,u,d,!1)}function Kf(s,i,c,l,u,d){const v=c[16],w=v[6].projection[l.projection];if(Array.isArray(w))for(let b=0;b<w.length;b++)E4(i,s,u,w[b],d);else E6(s,i,w,v[3],u,d,!0)}function Ql(s,i,c){s.setAttribute(i,"style",c)}function Xl(s,i,c){""===c?s.removeAttribute(i,"class"):s.setAttribute(i,"class",c)}function Jl(s,i,c){let l=s.length;for(;;){const u=s.indexOf(i,c);if(-1===u)return u;if(0===u||s.charCodeAt(u-1)<=32){const d=i.length;if(u+d===l||s.charCodeAt(u+d)<=32)return u}c=u+1}}const I1="ng-template";function Gm(s,i,c){let l=0;for(;l<s.length;){let u=s[l++];if(c&&"class"===u){if(u=s[l],-1!==Jl(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<s.length&&"string"==typeof(u=s[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function Zf(s){return 4===s.type&&s.value!==I1}function Wm(s,i,c){return i===(4!==s.type||c?s.value:I1)}function Yf(s,i,c){let l=4;const u=s.attrs||[],d=function t5(s){for(let i=0;i<s.length;i++)if(Ao(s[i]))return i;return s.length}(u);let v=!1;for(let _=0;_<i.length;_++){const w=i[_];if("number"!=typeof w){if(!v)if(4&l){if(l=2|1&l,""!==w&&!Wm(s,w,c)||""===w&&1===i.length){if(kn(l))return!1;v=!0}}else{const b=8&l?w:i[++_];if(8&l&&null!==s.attrs){if(!Gm(s.attrs,b,c)){if(kn(l))return!1;v=!0}continue}const D=e5(8&l?"class":w,u,Zf(s),c);if(-1===D){if(kn(l))return!1;v=!0;continue}if(""!==b){let O;O=D>d?"":u[D+1].toLowerCase();const Z=8&l?O:null;if(Z&&-1!==Jl(Z,b,0)||2&l&&b!==O){if(kn(l))return!1;v=!0}}}}else{if(!v&&!kn(l)&&!kn(w))return!1;if(v&&kn(w))continue;v=!1,l=w|1&l}}return kn(l)||v}function kn(s){return 0==(1&s)}function e5(s,i,c,l){if(null===i)return-1;let u=0;if(l||!c){let d=!1;for(;u<i.length;){const v=i[u];if(v===s)return u;if(3===v||6===v)d=!0;else{if(1===v||2===v){let _=i[++u];for(;"string"==typeof _;)_=i[++u];continue}if(4===v)break;if(0===v){u+=4;continue}}u+=d?1:2}return-1}return function Zm(s,i){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const l=s[c];if("number"==typeof l)return-1;if(l===i)return c;c++}return-1}(i,s)}function qm(s,i,c=!1){for(let l=0;l<i.length;l++)if(Yf(s,i[l],c))return!0;return!1}function Ym(s,i){e:for(let c=0;c<i.length;c++){const l=i[c];if(s.length===l.length){for(let u=0;u<s.length;u++)if(s[u]!==l[u])continue e;return!0}}return!1}function I6(s,i){return s?":not("+i.trim()+")":i}function Mw(s){let i=s[0],c=1,l=2,u="",d=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&l){const _=s[++c];u+="["+v+(_.length>0?'="'+_+'"':"")+"]"}else 8&l?u+="."+v:4&l&&(u+=" "+v);else""!==u&&!kn(v)&&(i+=I6(d,u),u=""),l=v,d=d||!kn(l);c++}return""!==u&&(i+=I6(d,u)),i}const I2={};function dc(s){Qm(P2(),Ce(),ct()+s,!1)}function Qm(s,i,c,l){if(!l)if(3==(3&i[2])){const d=s.preOrderCheckHooks;null!==d&&Ts(i,d,c)}else{const d=s.preOrderHooks;null!==d&&Er(i,d,0,c)}Dn(c)}function e9(s,i=null,c=null,l){const u=hc(s,i,c,l);return u.resolveInjectorInitializers(),u}function hc(s,i=null,c=null,l,u=new Set){const d=[c||_2,gf(s)];return l=l||("object"==typeof s?void 0:ve(s)),new _f(d,i||g6(),l||null,u)}let tn=(()=>{class s{static create(c,l){if(Array.isArray(c))return e9({name:""},l,c,"");{const u=c.name??"";return e9({name:u},c.parent,c.providers,u)}}}return s.THROW_IF_NOT_FOUND=Mt,s.NULL=new mf,s.\u0275prov=U2({token:s,providedIn:"any",factory:()=>vt(gm)}),s.__NG_ELEMENT_ID__=-1,s})();function I4(s,i=Ke.Default){const c=Ce();return null===c?vt(s,i):Os(Nt(),c,X(s),i)}function Ci(s,i){return s<<17|i<<2}function nn(s){return s>>17&32767}function gc(s){return 2|s}function Pn(s){return(131068&s)>>2}function l5(s,i){return-131069&s|i<<2}function u5(s){return 1|s}function C5(s,i){const c=s.contentQueries;if(null!==c)for(let l=0;l<c.length;l+=2){const u=c[l],d=c[l+1];if(-1!==d){const v=s.data[d];bo(u),v.contentQueries(2,i[d],d)}}}function T6(s,i,c,l,u,d,v,_,w,b,E){const D=i.blueprint.slice();return D[0]=u,D[2]=76|l,(null!==E||s&&1024&s[2])&&(D[2]|=1024),g3(D),D[3]=D[15]=s,D[8]=c,D[10]=v||s&&s[10],D[11]=_||s&&s[11],D[12]=w||s&&s[12]||null,D[9]=b||s&&s[9]||null,D[6]=d,D[20]=function xf(){return Gr++}(),D[21]=E,D[16]=2==i.type?s[16]:D,D}function Mi(s,i,c,l,u){let d=s.data[i];if(null===d)d=function N6(s,i,c,l,u){const d=Es(),v=_o(),w=s.data[i]=function y9(s,i,c,l,u,d){return{type:c,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,c,i,l,u);return null===s.firstChild&&(s.firstChild=w),null!==d&&(v?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(s,i,c,l,u),function Pa(){return w2.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=c,d.value=l,d.attrs=u;const v=function Is(){const s=w2.lFrame,i=s.currentTNode;return s.isParent?i:i.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return B1(d,!0),d}function D4(s,i,c,l){if(0===c)return-1;const u=i.length;for(let d=0;d<c;d++)i.push(l),s.blueprint.push(l),s.data.push(null);return u}function k6(s,i,c){xs(i);try{const l=s.viewQuery;null!==l&&O6(1,l,c);const u=s.template;null!==u&&Vg(s,i,u,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&C5(s,i),s.staticViewQueries&&O6(2,s.viewQuery,c);const d=s.components;null!==d&&function Mg(s,i){for(let c=0;c<i.length;c++)E5(s,i[c])}(i,d)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{i[2]&=-5,m4()}}function $3(s,i,c,l){const u=i[2];if(128!=(128&u)){xs(i);try{g3(i),function C3(s){return w2.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Vg(s,i,c,2,l);const v=3==(3&u);if(v){const b=s.preOrderCheckHooks;null!==b&&Ts(i,b,null)}else{const b=s.preOrderHooks;null!==b&&Er(i,b,0,null),Io(i,0)}if(function Ng(s){for(let i=lc(s);null!==i;i=Rl(i)){if(!i[2])continue;const c=i[9];for(let l=0;l<c.length;l++){const u=c[l],d=u[3];0==(512&u[2])&&v3(d,1),u[2]|=512}}}(i),function H5(s){for(let i=lc(s);null!==i;i=Rl(i))for(let c=10;c<i.length;c++){const l=i[c],u=l[1];Zn(l)&&$3(u,l,u.template,l[8])}}(i),null!==s.contentQueries&&C5(s,i),v){const b=s.contentCheckHooks;null!==b&&Ts(i,b)}else{const b=s.contentHooks;null!==b&&Er(i,b,1),Io(i,1)}!function y5(s,i){const c=s.hostBindingOpCodes;if(null!==c)try{for(let l=0;l<c.length;l++){const u=c[l];if(u<0)Dn(~u);else{const d=u,v=c[++l],_=c[++l];Ra(v,d),_(2,i[d])}}}finally{Dn(-1)}}(s,i);const _=s.components;null!==_&&function m9(s,i){for(let c=0;c<i.length;c++)z5(s,i[c])}(i,_);const w=s.viewQuery;if(null!==w&&O6(2,w,l),v){const b=s.viewCheckHooks;null!==b&&Ts(i,b)}else{const b=s.viewHooks;null!==b&&Er(i,b,2),Io(i,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,v3(i[3],-1))}finally{m4()}}}function wg(s,i,c,l){const u=i[10],v=function ka(s){return 4==(4&s[2])}(i);try{!v&&u.begin&&u.begin(),v&&k6(s,i,l),$3(s,i,c,l)}finally{!v&&u.end&&u.end()}}function Vg(s,i,c,l,u){const d=ct(),v=2&l;try{Dn(-1),v&&i.length>22&&Qm(s,i,22,!1),c(l,u)}finally{Dn(d)}}function Vc(s,i,c){!y3()||(function Dg(s,i,c,l){const u=c.directiveStart,d=c.directiveEnd;s.firstCreatePass||Dr(c,i),v1(l,i);const v=c.initialInputs;for(let _=u;_<d;_++){const w=s.data[_],b=mn(w);b&&Ag(i,c,w);const E=Lr(i,s,_,c);v1(E,i),null!==v&&b5(0,_-u,E,w,0,v),b&&(W2(c.index,i)[8]=E)}}(s,i,c,m1(c,i)),128==(128&c.flags)&&function sn(s,i,c){const l=c.directiveStart,u=c.directiveEnd,d=c.index,v=function nf(){return w2.lFrame.currentDirectiveIndex}();try{Dn(d);for(let _=l;_<u;_++){const w=s.data[_],b=i[_];Ls(_),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&M9(w,b)}}finally{Dn(-1),Ls(v)}}(s,i,c))}function g9(s,i,c=m1){const l=i.localNames;if(null!==l){let u=i.index+1;for(let d=0;d<l.length;d+=2){const v=l[d+1],_=-1===v?c(i,s):s[v];s[u++]=_}}}function Hg(s){const i=s.tView;return null===i||i.incompleteFirstPass?s.tView=wi(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):i}function wi(s,i,c,l,u,d,v,_,w,b){const E=22+l,D=E+u,O=function zg(s,i){const c=[];for(let l=0;l<i;l++)c.push(l<s?null:I2);return c}(E,D),Z="function"==typeof b?b():b;return O[1]={type:s,blueprint:O,template:c,queries:null,viewQuery:_,declTNode:i,data:O.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:Z,incompleteFirstPass:!1}}function Gt(s,i,c){for(let l in s)if(s.hasOwnProperty(l)){const u=s[l];(c=null===c?{}:c).hasOwnProperty(l)?c[l].push(i,u):c[l]=[i,u]}return c}function _5(s,i){const l=i.directiveEnd,u=s.data,d=i.attrs,v=[];let _=null,w=null;for(let b=i.directiveStart;b<l;b++){const E=u[b],D=E.inputs,O=null===d||Zf(i)?null:Tg(D,d);v.push(O),_=Gt(D,b,_),w=Gt(E.outputs,b,w)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=16),_.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=v,i.inputs=_,i.outputs=w}function rn(s,i,c,l,u,d,v,_){const w=m1(i,c);let E,b=i.inputs;!_&&null!=b&&(E=b[l])?(Rn(s,c,E,l,u),Vs(i)&&C9(c,i.index)):3&i.type&&(l=function Eg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),u=null!=v?v(u,i.value||"",l):u,d.setProperty(w,l,u))}function C9(s,i){const c=W2(i,s);16&c[2]||(c[2]|=32)}function V5(s,i,c,l){let u=!1;if(y3()){const d=function Lg(s,i,c){const l=s.directiveRegistry;let u=null;if(l)for(let d=0;d<l.length;d++){const v=l[d];qm(c,v.selectors,!1)&&(u||(u=[]),b3(Dr(c,i),s,v.type),mn(v)?(w9(s,c),u.unshift(v)):u.push(v))}return u}(s,i,c),v=null===l?null:{"":-1};if(null!==d){u=!0,b9(c,s.data.length,d.length);for(let E=0;E<d.length;E++){const D=d[E];D.providersResolver&&D.providersResolver(D)}let _=!1,w=!1,b=D4(s,i,d.length,null);for(let E=0;E<d.length;E++){const D=d[E];c.mergedAttrs=w3(c.mergedAttrs,D.hostAttrs),P6(s,c,i,b,D),xg(b,D,v),null!==D.contentQueries&&(c.flags|=8),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(c.flags|=128);const O=D.type.prototype;!_&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),_=!0),!w&&(O.ngOnChanges||O.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),w=!0),b++}_5(s,c)}v&&function V9(s,i,c){if(i){const l=s.localNames=[];for(let u=0;u<i.length;u+=2){const d=c[i[u+1]];if(null==d)throw new He(-301,!1);l.push(i[u],d)}}}(c,l,v)}return c.mergedAttrs=w3(c.mergedAttrs,c.attrs),u}function _9(s,i,c,l,u,d){const v=d.hostBindings;if(v){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const w=~i.index;(function Ig(s){let i=s.length;for(;i>0;){const c=s[--i];if("number"==typeof c&&c<0)return c}return 0})(_)!=w&&_.push(w),_.push(l,u,v)}}function M9(s,i){null!==s.hostBindings&&s.hostBindings(1,i)}function w9(s,i){i.flags|=2,(s.components||(s.components=[])).push(i.index)}function xg(s,i,c){if(c){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)c[i.exportAs[l]]=s;mn(i)&&(c[""]=s)}}function b9(s,i,c){s.flags|=1,s.directiveStart=i,s.directiveEnd=i+c,s.providerIndexes=i}function P6(s,i,c,l,u){s.data[l]=u;const d=u.factory||(u.factory=jt(u.type)),v=new U1(d,mn(u),I4);s.blueprint[l]=v,c[l]=v,_9(s,i,0,l,D4(s,c,u.hostVars,I2),u)}function Ag(s,i,c){const l=m1(i,s),u=Hg(c),d=s[10],v=Vi(s,T6(s,u,null,c.onPush?32:16,l,i,d,d.createRenderer(l,c),null,null,null));s[i.index]=v}function wn(s,i,c,l,u,d){const v=m1(s,i);!function R6(s,i,c,l,u,d,v){if(null==d)s.removeAttribute(i,u,c);else{const _=null==v?re(d):v(d,l||"",u);s.setAttribute(i,u,_,c)}}(i[11],v,d,s.value,c,l,u)}function b5(s,i,c,l,u,d){const v=d[i];if(null!==v){const _=l.setInput;for(let w=0;w<v.length;){const b=v[w++],E=v[w++],D=v[w++];null!==_?l.setInput(c,D,b,E):c[E]=D}}}function Tg(s,i){let c=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;s.hasOwnProperty(u)&&(null===c&&(c=[]),c.push(u,s[u],i[l+1])),l+=2}else l+=2;else l+=4}return c}function H9(s,i,c,l){return new Array(s,!0,!1,i,null,0,l,c,null,null)}function z5(s,i){const c=W2(i,s);if(Zn(c)){const l=c[1];48&c[2]?$3(l,c,l.template,c[8]):c[5]>0&&S5(c)}}function S5(s){for(let l=lc(s);null!==l;l=Rl(l))for(let u=10;u<l.length;u++){const d=l[u];if(Zn(d))if(512&d[2]){const v=d[1];$3(v,d,v.template,d[8])}else d[5]>0&&S5(d)}const c=s[1].components;if(null!==c)for(let l=0;l<c.length;l++){const u=W2(c[l],s);Zn(u)&&u[5]>0&&S5(u)}}function E5(s,i){const c=W2(i,s),l=c[1];(function kg(s,i){for(let c=i.length;c<s.blueprint.length;c++)i.push(s.blueprint[c])})(l,c),k6(l,c,c[8])}function Vi(s,i){return s[13]?s[14][4]=i:s[13]=i,s[14]=i,i}function I5(s){for(;s;){s[2]|=32;const i=qr(s);if(bs(s)&&!i)return s;s=i}return null}function O6(s,i,c){bo(0),i(s,c)}function B6(s){return s[7]||(s[7]=[])}function S9(s){return s.cleanup||(s.cleanup=[])}function E9(s,i){const c=s[9],l=c?c.get(li,null):null;l&&l.handleError(i)}function Rn(s,i,c,l,u){for(let d=0;d<c.length;){const v=c[d++],_=c[d++],w=i[v],b=s.data[v];null!==b.setInput?b.setInput(w,u,l,_):w[_]=u}}function ur(s,i,c){const l=p3(i,s);!function V6(s,i,c){s.setValue(i,c)}(s[11],l,c)}function bc(s,i,c){let l=c?s.styles:null,u=c?s.classes:null,d=0;if(null!==i)for(let v=0;v<i.length;v++){const _=i[v];"number"==typeof _?d=_:1==d?u=Te(u,_):2==d&&(l=Te(l,_+": "+i[++v]+";"))}c?s.styles=l:s.stylesWithoutHost=l,c?s.classes=u:s.classesWithoutHost=u}function G3(s,i,c,l,u=!1){for(;null!==c;){const d=i[c.index];if(null!==d&&l.push(ht(d)),b1(d))for(let _=10;_<d.length;_++){const w=d[_],b=w[1].firstChild;null!==b&&G3(w[1],w,b,l)}const v=c.type;if(8&v)G3(s,i,c.child,l);else if(32&v){const _=hi(c,i);let w;for(;w=_();)l.push(w)}else if(16&v){const _=Um(i,c);if(Array.isArray(_))l.push(..._);else{const w=qr(i[16]);G3(w[1],w,_,l,!0)}}c=u?c.projectionNext:c.next}return l}class bi{constructor(i,c){this._lView=i,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,c=i[1];return G3(c,i,c.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(b1(i)){const c=i[8],l=c?c.indexOf(this):-1;l>-1&&(uc(i,l),Tr(c,l))}this._attachedToViewContainer=!1}jl(this._lView[1],this._lView)}onDestroy(i){!function v9(s,i,c,l){const u=B6(i);null===c?u.push(l):(u.push(c),s.firstCreatePass&&S9(s).push(l,u.length-1))}(this._lView[1],this._lView,null,i)}markForCheck(){I5(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function L5(s,i,c){const l=i[10];l.begin&&l.begin();try{$3(s,i,s.template,c)}catch(u){throw E9(i,u),u}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ol(s,i){fc(s,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=i}}class I9 extends bi{constructor(i){super(i),this._view=i}detectChanges(){!function F6(s){!function D5(s){for(let i=0;i<s.components.length;i++){const c=s.components[i],l=xl(c);if(null!==l){const u=l[1];wg(u,l,u.template,c)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Fn extends y6{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const c=N(i);return new Hc(c,this.ngModule)}}function j6(s){const i=[];for(let c in s)s.hasOwnProperty(c)&&i.push({propName:s[c],templateName:c});return i}class Rg{constructor(i,c){this.injector=i,this.parentInjector=c}get(i,c,l){const u=this.injector.get(i,Sf,l);return u!==Sf||c===Sf?u:this.parentInjector.get(i,c,l)}}class Hc extends wf{constructor(i,c){super(),this.componentDef=i,this.ngModule=c,this.componentType=i.type,this.selector=function ww(s){return s.map(Mw).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return j6(this.componentDef.inputs)}get outputs(){return j6(this.componentDef.outputs)}create(i,c,l,u){let d=(u=u||this.ngModule)instanceof R3?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new Rg(i,d):i,_=v.get(Ml,null);if(null===_)throw new He(407,!1);const w=v.get(Hm,null),b=_.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",D=l?function Sg(s,i,c){return s.selectRootElement(i,c===c2.ShadowDom)}(b,l,this.componentDef.encapsulation):b6(_.createRenderer(null,this.componentDef),E,function Ow(s){const i=s.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(E)),O=this.componentDef.onPush?288:272,Z={components:[]},ue=wi(0,null,null,1,0,null,null,null,null,null),be=T6(null,ue,Z,O,null,null,_,b,w,v,null);let Ue,qe;xs(be);try{const m2=function jw(s,i,c,l,u,d){const v=c[1];c[22]=s;const w=Mi(v,22,2,"#host",null),b=w.mergedAttrs=i.hostAttrs;null!==b&&(bc(w,b,!0),null!==s&&(Ln(u,s,b),null!==w.classes&&Xl(u,s,w.classes),null!==w.styles&&Ql(u,s,w.styles)));const E=l.createRenderer(s,i),D=T6(c,Hg(i),null,i.onPush?32:16,c[22],w,l,E,d||null,null,null);return v.firstCreatePass&&(b3(Dr(w,c),v,i.type),w9(v,w),b9(w,c.length,1)),Vi(c,D),c[22]=D}(D,this.componentDef,be,_,b);if(D)if(l)Ln(b,D,["ng-version",zm.full]);else{const{attrs:ge,classes:h2}=function Vw(s){const i=[],c=[];let l=1,u=2;for(;l<s.length;){let d=s[l];if("string"==typeof d)2===u?""!==d&&i.push(d,s[++l]):8===u&&c.push(d);else{if(!kn(u))break;u=d}l++}return{attrs:i,classes:c}}(this.componentDef.selectors[0]);ge&&Ln(b,D,ge),h2&&h2.length>0&&Xl(b,D,h2.join(" "))}if(qe=m3(ue,22),void 0!==c){const ge=qe.projection=[];for(let h2=0;h2<this.ngContentSelectors.length;h2++){const T2=c[h2];ge.push(null!=T2?Array.from(T2):null)}}Ue=function $w(s,i,c,l,u){const d=c[1],v=function w5(s,i,c){const l=Nt();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),P6(s,l,i,D4(s,i,1,null),c),_5(s,l));const u=Lr(i,s,l.directiveStart,l);v1(u,i);const d=m1(l,i);return d&&v1(d,i),u}(d,c,i);if(l.components.push(v),s[8]=v,null!==u)for(const w of u)w(v,i);if(i.contentQueries){const w=Nt();i.contentQueries(1,v,w.directiveStart)}const _=Nt();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Dn(_.index),_9(c[1],_,0,_.directiveStart,_.directiveEnd,i),M9(i,v)),v}(m2,this.componentDef,be,Z,[Ww]),k6(ue,be,null)}finally{m4()}return new Fg(this.componentType,Ue,O3(qe,be),be,qe)}}class Fg extends class F3{}{constructor(i,c,l,u,d){super(),this.location=l,this._rootLView=u,this._tNode=d,this.instance=c,this.hostView=this.changeDetectorRef=new I9(u),this.componentType=i}setInput(i,c){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){const d=this._rootLView;Rn(d[1],d,u,i,c),C9(d,this._tNode.index)}}get injector(){return new z3(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ww(){const s=Nt();As(Ce()[1],s)}function x5(s){let i=function Og(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const l=[s];for(;i;){let u;if(mn(s))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new He(903,!1);u=i.\u0275dir}if(u){if(c){l.push(u);const v=s;v.inputs=$6(s.inputs),v.declaredInputs=$6(s.declaredInputs),v.outputs=$6(s.outputs);const _=u.hostBindings;_&&Ug(s,_);const w=u.viewQuery,b=u.contentQueries;if(w&&L9(s,w),b&&Bg(s,b),ze(s.inputs,u.inputs),ze(s.declaredInputs,u.declaredInputs),ze(s.outputs,u.outputs),mn(u)&&u.data.animation){const E=s.data;E.animation=(E.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let v=0;v<d.length;v++){const _=d[v];_&&_.ngInherit&&_(s),_===x5&&(c=!1)}}i=Object.getPrototypeOf(i)}!function qw(s){let i=0,c=null;for(let l=s.length-1;l>=0;l--){const u=s[l];u.hostVars=i+=u.hostVars,u.hostAttrs=w3(u.hostAttrs,c=w3(c,u.hostAttrs))}}(l)}function $6(s){return s===s1?{}:s===_2?[]:s}function L9(s,i){const c=s.viewQuery;s.viewQuery=c?(l,u)=>{i(l,u),c(l,u)}:i}function Bg(s,i){const c=s.contentQueries;s.contentQueries=c?(l,u,d)=>{i(l,u,d),c(l,u,d)}:i}function Ug(s,i){const c=s.hostBindings;s.hostBindings=c?(l,u)=>{i(l,u),c(l,u)}:i}let zc=null;function W3(){if(!zc){const s=z2.Symbol;if(s&&s.iterator)zc=s.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<i.length;++c){const l=i[c];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(zc=l)}}}return zc}function Zr(s){return!!A5(s)&&(Array.isArray(s)||!(s instanceof Map)&&W3()in s)}function A5(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function a1(s,i,c){return!Object.is(s[i],c)&&(s[i]=c,!0)}function q3(s,i,c,l){const u=Ce();return a1(u,_3(),i)&&(P2(),wn(at(),u,s,i,c,l)),q3}function x4(s,i,c,l,u,d){const _=function y1(s,i,c,l){const u=a1(s,i,c);return a1(s,i+1,l)||u}(s,function vn(){return w2.lFrame.bindingIndex}(),c,u);return Qn(2),_?i+re(c)+l+re(u)+d:I2}function F4(s,i,c,l,u,d,v,_){const w=Ce(),b=P2(),E=s+22,D=b.firstCreatePass?function Zg(s,i,c,l,u,d,v,_,w){const b=i.consts,E=Mi(i,s,4,v||null,gn(b,_));V5(i,c,E,gn(b,w)),As(i,E);const D=E.tViews=wi(2,E,l,u,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,E),D.queries=i.queries.embeddedTView(E)),E}(E,b,w,i,c,l,u,d,v):b.data[E];B1(D,!1);const O=w[11].createComment("");mi(b,w,O,D),v1(O,w),Vi(w,w[E]=H9(O,w,O,D)),f4(D)&&Vc(b,w,D),null!=v&&g9(w,D,_)}function D1(s,i,c){const l=Ce();return a1(l,_3(),i)&&rn(P2(),at(),l,s,i,l[11],c,!1),D1}function N5(s,i,c,l,u){const v=u?"class":"style";Rn(s,c,i.inputs[v],v,l)}function Y3(s,i,c,l){const u=Ce(),d=P2(),v=22+s,_=u[11],w=u[v]=b6(_,i,function So(){return w2.lFrame.currentNamespace}()),b=d.firstCreatePass?function Yg(s,i,c,l,u,d,v){const _=i.consts,b=Mi(i,s,2,u,gn(_,d));return V5(i,c,b,gn(_,v)),null!==b.attrs&&bc(b,b.attrs,!1),null!==b.mergedAttrs&&bc(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(v,d,u,0,i,c,l):d.data[v];B1(b,!0);const E=b.mergedAttrs;null!==E&&Ln(_,w,E);const D=b.classes;null!==D&&Xl(_,w,D);const O=b.styles;return null!==O&&Ql(_,w,O),64!=(64&b.flags)&&mi(d,u,w,b),0===function vo(){return w2.lFrame.elementDepthCount}()&&v1(w,u),function P8(){w2.lFrame.elementDepthCount++}(),f4(b)&&(Vc(d,u,b),function bg(s,i,c){if(Vr(i)){const u=i.directiveEnd;for(let d=i.directiveStart;d<u;d++){const v=s.data[d];v.contentQueries&&v.contentQueries(1,c[d],d)}}}(d,b,u)),null!==l&&g9(u,b),Y3}function Yr(){let s=Nt();_o()?Ds():(s=s.parent,B1(s,!1));const i=s;!function yo(){w2.lFrame.elementDepthCount--}();const c=P2();return c.firstCreatePass&&(As(c,s),Vr(s)&&c.queries.elementEnd(s)),null!=i.classesWithoutHost&&function Ns(s){return 0!=(16&s.flags)}(i)&&N5(c,i,Ce(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ks(s){return 0!=(32&s.flags)}(i)&&N5(c,i,Ce(),i.stylesWithoutHost,!1),Yr}function Z6(s,i,c,l){return Y3(s,i,c,l),Yr(),Z6}function k9(){return Ce()}function P5(s){return!!s&&"function"==typeof s.then}function P9(s){return!!s&&"function"==typeof s.subscribe}const R9=P9;function F9(s,i,c,l){const u=Ce(),d=P2(),v=Nt();return function O9(s,i,c,l,u,d,v,_){const w=f4(l),E=s.firstCreatePass&&S9(s),D=i[8],O=B6(i);let Z=!0;if(3&l.type||_){const Ue=m1(l,i),qe=_?_(Ue):Ue,m2=O.length,ge=_?T2=>_(ht(T2[l.index])):l.index;let h2=null;if(!_&&w&&(h2=function Xw(s,i,c,l){const u=s.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const v=u[d];if(v===c&&u[d+1]===l){const _=i[7],w=u[d+2];return _.length>w?_[w]:null}"string"==typeof v&&(d+=2)}return null}(s,i,u,l.index)),null!==h2)(h2.__ngLastListenerFn__||h2).__ngNextListenerFn__=d,h2.__ngLastListenerFn__=d,Z=!1;else{d=Jg(l,i,D,d,!1);const T2=c.listen(qe,u,d);O.push(d,T2),E&&E.push(u,ge,m2,m2+1)}}else d=Jg(l,i,D,d,!1);const ue=l.outputs;let be;if(Z&&null!==ue&&(be=ue[u])){const Ue=be.length;if(Ue)for(let qe=0;qe<Ue;qe+=2){const it=i[be[qe]][be[qe+1]].subscribe(d),e3=O.length;O.push(d,it),E&&E.push(u,l.index,e3,-(e3+1))}}}(d,u,u[11],v,s,i,0,l),F9}function Xg(s,i,c,l){try{return!1!==c(l)}catch(u){return E9(s,u),!1}}function Jg(s,i,c,l,u){return function d(v){if(v===Function)return l;I5(2&s.flags?W2(s.index,i):i);let w=Xg(i,0,l,v),b=d.__ngNextListenerFn__;for(;b;)w=Xg(i,0,b,v)&&w,b=b.__ngNextListenerFn__;return u&&!1===w&&(v.preventDefault(),v.returnValue=!1),w}}function ev(s=1){return function Sr(s){return(w2.lFrame.contextLView=function $8(s,i){for(;s>0;)i=i[15],s--;return i}(s,w2.lFrame.contextLView))[8]}(s)}function Jw(s,i){let c=null;const l=function Km(s){const i=s.attrs;if(null!=i){const c=i.indexOf(5);if(0==(1&c))return i[c+1]}return null}(s);for(let u=0;u<i.length;u++){const d=i[u];if("*"!==d){if(null===l?qm(s,d,!0):Ym(l,d))return u}else c=u}return c}function R5(s){const i=Ce()[16][6];if(!i.projection){const l=i.projection=er(s?s.length:1,null),u=l.slice();let d=i.child;for(;null!==d;){const v=s?Jw(d,s):0;null!==v&&(u[v]?u[v].projectionNext=d:l[v]=d,u[v]=d),d=d.next}}}function Y6(s,i=0,c){const l=Ce(),u=P2(),d=Mi(u,22+s,16,null,c||null);null===d.projection&&(d.projection=i),Ds(),64!=(64&d.flags)&&function jm(s,i,c){Kf(i[11],0,i,c,jf(s,c,i),H6(c.parent||i[6],c,i))}(u,l,d)}function iv(s,i,c,l,u){const d=s[c+1],v=null===i;let _=l?nn(d):Pn(d),w=!1;for(;0!==_&&(!1===w||v);){const E=s[_+1];nV(s[_],i)&&(w=!0,s[_+1]=l?u5(E):gc(E)),_=l?nn(E):Pn(E)}w&&(s[c+1]=l?gc(d):u5(d))}function nV(s,i){return null===s||null==i||(Array.isArray(s)?s[1]:s)===i||!(!Array.isArray(s)||"string"!=typeof i)&&An(s,i)>=0}function G9(s,i){return function fr(s,i,c,l){const u=Ce(),d=P2(),v=Qn(2);d.firstUpdatePass&&function pv(s,i,c,l){const u=s.data;if(null===u[c+1]){const d=u[ct()],v=function hv(s,i){return i>=s.expandoStartIndex}(s,c);(function yv(s,i){return 0!=(s.flags&(i?16:32))})(d,l)&&null===i&&!v&&(i=!1),i=function fV(s,i,c,l){const u=function wo(s){const i=w2.lFrame.currentDirectiveIndex;return-1===i?null:s[i]}(s);let d=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(c=X6(c=W9(null,s,i,c,l),i.attrs,l),d=null);else{const v=i.directiveStylingLast;if(-1===v||s[v]!==u)if(c=W9(u,s,i,c,l),null===d){let w=function dV(s,i,c){const l=c?i.classBindings:i.styleBindings;if(0!==Pn(l))return s[nn(l)]}(s,i,l);void 0!==w&&Array.isArray(w)&&(w=W9(null,s,i,w[1],l),w=X6(w,i.attrs,l),function hV(s,i,c,l){s[nn(c?i.classBindings:i.styleBindings)]=l}(s,i,l,w))}else d=function pV(s,i,c){let l;const u=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<u;d++)l=X6(l,s[d].hostAttrs,c);return X6(l,i.attrs,c)}(s,i,l)}return void 0!==d&&(l?i.residualClasses=d:i.residualStyles=d),c}(u,d,i,l),function eV(s,i,c,l,u,d){let v=d?i.classBindings:i.styleBindings,_=nn(v),w=Pn(v);s[l]=c;let E,b=!1;if(Array.isArray(c)){const D=c;E=D[1],(null===E||An(D,E)>0)&&(b=!0)}else E=c;if(u)if(0!==w){const O=nn(s[_+1]);s[l+1]=Ci(O,_),0!==O&&(s[O+1]=l5(s[O+1],l)),s[_+1]=function fg(s,i){return 131071&s|i<<17}(s[_+1],l)}else s[l+1]=Ci(_,0),0!==_&&(s[_+1]=l5(s[_+1],l)),_=l;else s[l+1]=Ci(w,0),0===_?_=l:s[w+1]=l5(s[w+1],l),w=l;b&&(s[l+1]=gc(s[l+1])),iv(s,E,l,!0),iv(s,E,l,!1),function tV(s,i,c,l,u){const d=u?s.residualClasses:s.residualStyles;null!=d&&"string"==typeof i&&An(d,i)>=0&&(c[l+1]=u5(c[l+1]))}(i,E,s,l,d),v=Ci(_,w),d?i.classBindings=v:i.styleBindings=v}(u,d,i,c,v,l)}}(d,s,v,l),i!==I2&&a1(u,v,i)&&function gv(s,i,c,l,u,d,v,_){if(!(3&i.type))return;const w=s.data,b=w[_+1];O5(function $t(s){return 1==(1&s)}(b)?vv(w,i,c,u,Pn(b),v):void 0)||(O5(d)||function L6(s){return 2==(2&s)}(b)&&(d=vv(w,null,c,u,_,v)),function Yl(s,i,c,l,u){if(i)u?s.addClass(c,l):s.removeClass(c,l);else{let d=-1===l.indexOf("-")?void 0:Mn.DashCase;null==u?s.removeStyle(c,l,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=Mn.Important),s.setStyle(c,l,u,d))}}(l,v,p3(ct(),c),u,d))}(d,d.data[ct()],u,u[11],s,u[v+1]=function vV(s,i){return null==s||("string"==typeof i?s+=i:"object"==typeof s&&(s=ve(_n(s)))),s}(i,c),l,v)}(s,i,null,!0),G9}function W9(s,i,c,l,u){let d=null;const v=c.directiveEnd;let _=c.directiveStylingLast;for(-1===_?_=c.directiveStart:_++;_<v&&(d=i[_],l=X6(l,d.hostAttrs,u),d!==s);)_++;return null!==s&&(c.directiveStylingLast=_),l}function X6(s,i,c){const l=c?1:2;let u=-1;if(null!==i)for(let d=0;d<i.length;d++){const v=i[d];"number"==typeof v?u=v:u===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),E1(s,v,!!c||i[++d]))}return void 0===s?null:s}function vv(s,i,c,l,u,d){const v=null===i;let _;for(;u>0;){const w=s[u],b=Array.isArray(w),E=b?w[1]:w,D=null===E;let O=c[u+1];O===I2&&(O=D?_2:void 0);let Z=D?Ro(O,l):E===l?O:void 0;if(b&&!O5(Z)&&(Z=Ro(w,l)),O5(Z)&&(_=Z,v))return _;const ue=s[u+1];u=v?nn(ue):Pn(ue)}if(null!==i){let w=d?i.residualClasses:i.residualStyles;null!=w&&(_=Ro(w,l))}return _}function O5(s){return void 0!==s}function Cv(s,i=""){const c=Ce(),l=P2(),u=s+22,d=l.firstCreatePass?Mi(l,u,1,i,null):l.data[u],v=c[u]=function Fl(s,i){return s.createText(i)}(c[11],i);mi(l,c,v,d),B1(d,!1)}function B5(s,i,c){const l=Ce(),u=function L4(s,i,c,l){return a1(s,_3(),c)?i+re(c)+l:I2}(l,s,i,c);return u!==I2&&ur(l,ct(),u),B5}function q9(s,i,c,l,u){const d=Ce(),v=x4(d,s,i,c,l,u);return v!==I2&&ur(d,ct(),v),q9}function Si(s,i,c){const l=Ce();return a1(l,_3(),i)&&rn(P2(),at(),l,s,i,l[11],c,!0),Si}const Q3=void 0;var Nv=["en",[["a","p"],["AM","PM"],Q3],[["AM","PM"],Q3,Q3],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Q3,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Q3,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Q3,"{1} 'at' {0}",Q3],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tv(s){const c=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let Ei={};function Dc(s){const i=function K5(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=q5(i);if(c)return c;const l=i.split("-")[0];if(c=q5(l),c)return c;if("en"===l)return Nv;throw new He(701,!1)}function s0(s){return Dc(s)[y2.PluralCase]}function q5(s){return s in Ei||(Ei[s]=z2.ng&&z2.ng.common&&z2.ng.common.locales&&z2.ng.common.locales[s]),Ei[s]}var y2=(()=>((y2=y2||{})[y2.LocaleId=0]="LocaleId",y2[y2.DayPeriodsFormat=1]="DayPeriodsFormat",y2[y2.DayPeriodsStandalone=2]="DayPeriodsStandalone",y2[y2.DaysFormat=3]="DaysFormat",y2[y2.DaysStandalone=4]="DaysStandalone",y2[y2.MonthsFormat=5]="MonthsFormat",y2[y2.MonthsStandalone=6]="MonthsStandalone",y2[y2.Eras=7]="Eras",y2[y2.FirstDayOfWeek=8]="FirstDayOfWeek",y2[y2.WeekendRange=9]="WeekendRange",y2[y2.DateFormat=10]="DateFormat",y2[y2.TimeFormat=11]="TimeFormat",y2[y2.DateTimeFormat=12]="DateTimeFormat",y2[y2.NumberSymbols=13]="NumberSymbols",y2[y2.NumberFormats=14]="NumberFormats",y2[y2.CurrencyCode=15]="CurrencyCode",y2[y2.CurrencySymbol=16]="CurrencySymbol",y2[y2.CurrencyName=17]="CurrencyName",y2[y2.Currencies=18]="Currencies",y2[y2.Directionality=19]="Directionality",y2[y2.PluralCase=20]="PluralCase",y2[y2.ExtraData=21]="ExtraData",y2))();const O4="en-US";let sd=O4;function g0(s,i,c,l,u){if(s=X(s),Array.isArray(s))for(let d=0;d<s.length;d++)g0(s[d],i,c,l,u);else{const d=P2(),v=Ce();let _=$r(s)?s:X(s.provide),w=yl(s);const b=Nt(),E=1048575&b.providerIndexes,D=b.directiveStart,O=b.providerIndexes>>20;if($r(s)||!s.multi){const Z=new U1(w,u,I4),ue=d1(_,i,u?E:E+O,D);-1===ue?(b3(Dr(b,v),d,_),f1(d,s,i.length),i.push(_),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),c.push(Z),v.push(Z)):(c[ue]=Z,v[ue]=Z)}else{const Z=d1(_,i,E+O,D),ue=d1(_,i,E,E+O),be=Z>=0&&c[Z],Ue=ue>=0&&c[ue];if(u&&!Ue||!u&&!be){b3(Dr(b,v),d,_);const qe=function Id(s,i,c,l,u){const d=new U1(s,c,I4);return d.multi=[],d.index=i,d.componentProviders=0,v0(d,u,l&&!c),d}(u?Ed:Sd,c.length,u,l,w);!u&&Ue&&(c[ue].providerFactory=qe),f1(d,s,i.length,0),i.push(_),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),c.push(qe),v.push(qe)}else f1(d,s,Z>-1?Z:ue,v0(c[u?ue:Z],w,!u&&l));!u&&l&&Ue&&c[ue].componentProviders++}}}function f1(s,i,c,l){const u=$r(i),d=function vm(s){return!!s.useClass}(i);if(u||d){const w=(d?X(i.useClass):i).prototype.ngOnDestroy;if(w){const b=s.destroyHooks||(s.destroyHooks=[]);if(!u&&i.multi){const E=b.indexOf(c);-1===E?b.push(c,[l,w]):b[E+1].push(l,w)}else b.push(c,w)}}}function v0(s,i,c){return c&&s.componentProviders++,s.multi.push(i)-1}function d1(s,i,c,l){for(let u=c;u<l;u++)if(i[u]===s)return u;return-1}function Sd(s,i,c,l){return kc(this.multi,[])}function Ed(s,i,c,l){const u=this.multi;let d;if(this.providerFactory){const v=this.providerFactory.componentProviders,_=Lr(c,c[1],this.providerFactory.index,l);d=_.slice(0,v),kc(u,d);for(let w=v;w<_.length;w++)d.push(_[w])}else d=[],kc(u,d);return d}function kc(s,i){for(let c=0;c<s.length;c++)i.push((0,s[c])());return i}function o7(s,i=[]){return c=>{c.providersResolver=(l,u)=>function m0(s,i,c){const l=P2();if(l.firstCreatePass){const u=mn(s);g0(c,l.data,l.blueprint,u,!0),g0(i,l.data,l.blueprint,u,!1)}}(l,u?u(s):s,i)}}class X3{}function ty(s,i){return new J3(s,i??null)}class J3 extends X3{constructor(i,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fn(this);const l=function f2(s,i){const c=s[k2]||null;if(!c&&!0===i)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return c}(i);this._bootstrapComponents=function Wr(s){return s instanceof Function?s():s}(l.bootstrap),this._r3Injector=hc(i,c,[{provide:X3,useValue:this},{provide:y6,useValue:this.componentFactoryResolver}],ve(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class y0 extends class c7{}{constructor(i){super(),this.moduleType=i}create(i){return new J3(this.moduleType,i)}}function Rd(s,i,c,l,u,d){const v=i+c;return a1(s,v,u)?function On(s,i,c){return s[i]=c}(s,v+1,d?l.call(d,u):l(u)):function Ni(s,i){const c=s[i];return c===I2?void 0:c}(s,v+1)}function Kt(s,i){const c=P2();let l;const u=s+22;c.firstCreatePass?(l=function S0(s,i){if(i)for(let c=i.length-1;c>=0;c--){const l=i[c];if(s===l.name)return l}}(i,c.pipeRegistry),c.data[u]=l,l.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(u,l.onDestroy)):l=c.data[u];const d=l.factory||(l.factory=jt(l.type)),v=X2(I4);try{const _=Ps(!1),w=d();return Ps(_),function Zw(s,i,c,l){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),i[c]=l}(c,Ce(),u,w),w}finally{X2(v)}}function Od(s,i,c){const l=s+22,u=Ce(),d=function Kn(s,i){return s[i]}(u,l);return function es(s,i){return s[1].data[i].pure}(u,l)?Rd(u,function Lt(){const s=w2.lFrame;let i=s.bindingRootIndex;return-1===i&&(i=s.bindingRootIndex=s.tView.bindingStartIndex),i}(),i,d.transform,c,d):d.transform(c)}function v7(s){return i=>{setTimeout(s,void 0,i)}}const bn=class g7 extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,c,l){let u=i,d=c||(()=>null),v=l;if(i&&"object"==typeof i){const w=i;u=w.next?.bind(w),d=w.error?.bind(w),v=w.complete?.bind(w)}this.__isAsync&&(d=v7(d),u&&(u=v7(u)),v&&(v=v7(v)));const _=super.subscribe({next:u,error:d,complete:v});return i instanceof R.w0&&i.add(_),_}};let j4=(()=>{class s{}return s.__NG_ELEMENT_ID__=jd,s})();const C7=j4,_7=class extends C7{constructor(i,c,l){super(),this._declarationLView=i,this._declarationTContainer=c,this.elementRef=l}createEmbeddedView(i,c){const l=this._declarationTContainer.tViews,u=T6(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,c||null);u[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(u[19]=v.createEmbeddedView(l)),k6(l,u,i),new bi(u)}};function jd(){return function E0(s,i){return 4&s.type?new _7(i,s,O3(s,i)):null}(Nt(),Ce())}let $4=(()=>{class s{}return s.__NG_ELEMENT_ID__=$d,s})();function $d(){return function Wd(s,i){let c;const l=i[s.index];if(b1(l))c=l;else{let u;if(8&s.type)u=ht(l);else{const d=i[11];u=d.createComment("");const v=m1(s,i);j3(d,pi(d,v),u,function Om(s,i){return s.nextSibling(i)}(d,v),!1)}i[s.index]=c=H9(l,i,u,s),Vi(i,c)}return new M7(c,s,i)}(Nt(),Ce())}const Gd=$4,M7=class extends Gd{constructor(i,c,l){super(),this._lContainer=i,this._hostTNode=c,this._hostLView=l}get element(){return O3(this._hostTNode,this._hostLView)}get injector(){return new z3(this._hostTNode,this._hostLView)}get parentInjector(){const i=V3(this._hostTNode,this._hostLView);if(Q8(i)){const c=Xn(i,this._hostLView),l=Ir(i);return new z3(c[1].data[l+8],c)}return new z3(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const c=Rc(this._lContainer);return null!==c&&c[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,c,l){let u,d;"number"==typeof l?u=l:null!=l&&(u=l.index,d=l.injector);const v=i.createEmbeddedView(c||{},d);return this.insert(v,u),v}createComponent(i,c,l,u,d){const v=i&&!function Y1(s){return"function"==typeof s}(i);let _;if(v)_=c;else{const D=c||{};_=D.index,l=D.injector,u=D.projectableNodes,d=D.environmentInjector||D.ngModuleRef}const w=v?i:new Hc(N(i)),b=l||this.parentInjector;if(!d&&null==w.ngModule){const O=(v?b:this.parentInjector).get(R3,null);O&&(d=O)}const E=w.create(b,u,void 0,d);return this.insert(E.hostView,_),E}insert(i,c){const l=i._lView,u=l[1];if(function k8(s){return b1(s[3])}(l)){const E=this.indexOf(i);if(-1!==E)this.detach(E);else{const D=l[3],O=new M7(D,D[6],D[3]);O.detach(O.indexOf(i))}}const d=this._adjustIndex(c),v=this._lContainer;!function Bl(s,i,c,l){const u=10+l,d=c.length;l>0&&(c[u-1][4]=i),l<d-10?(i[4]=c[u],Ws(c,10+l,i)):(c.push(i),i[4]=null),i[3]=c;const v=i[17];null!==v&&c!==v&&function Ul(s,i){const c=s[9];i[16]!==i[3][3][16]&&(s[2]=!0),null===c?s[9]=[i]:c.push(i)}(v,i);const _=i[19];null!==_&&_.insertView(s),i[2]|=64}(u,l,v,d);const _=Zl(d,v),w=l[11],b=pi(w,v[7]);return null!==b&&function Rm(s,i,c,l,u,d){l[0]=u,l[6]=i,fc(s,l,c,1,u,d)}(u,v[6],w,l,b,_),i.attachToViewContainerRef(),Ws(w7(v),d,i),i}move(i,c){return this.insert(i,c)}indexOf(i){const c=Rc(this._lContainer);return null!==c?c.indexOf(i):-1}remove(i){const c=this._adjustIndex(i,-1),l=uc(this._lContainer,c);l&&(Tr(w7(this._lContainer),c),jl(l[1],l))}detach(i){const c=this._adjustIndex(i,-1),l=uc(this._lContainer,c);return l&&null!=Tr(w7(this._lContainer),c)?new bi(l):null}_adjustIndex(i,c=0){return i??this.length+c}};function Rc(s){return s[8]}function w7(s){return s[8]||(s[8]=[])}function Y4(...s){}const O0=new et("Application Initializer");let qc=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Y4,this.reject=Y4,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const c=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const d=this.appInits[u]();if(P5(d))c.push(d);else if(R9(d)){const v=new Promise((_,w)=>{d.subscribe({complete:_,error:w})});c.push(v)}}Promise.all(c).then(()=>{l()}).catch(u=>{this.reject(u)}),0===c.length&&l(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(vt(O0,8))},s.\u0275prov=U2({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ui=new et("AppId",{providedIn:"root",factory:function ji(){return`${bt()}${bt()}${bt()}`}});function bt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const T7=new et("Platform Initializer"),My=new et("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wy=new et("appBootstrapListener"),Kc=new et("LocaleId",{providedIn:"root",factory:()=>function Ys(s,i=Ke.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),vt(s,i)}(Kc,Ke.Optional|Ke.SkipSelf)||function dh(){return typeof $localize<"u"&&$localize.locale||O4}()}),B0=new et("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Ey=(()=>Promise.resolve(0))();function U0(s){typeof Zone>"u"?Ey.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class on{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bn(!1),this.onMicrotaskEmpty=new bn(!1),this.onStable=new bn(!1),this.onError=new bn(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&c,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Qc(){let s=z2.requestAnimationFrame,i=z2.cancelAnimationFrame;if(typeof Zone<"u"&&s&&i){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function gh(s){const i=()=>{!function P7(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(z2,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,$i(s),s.isCheckStableRunning=!0,Xc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),$i(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,l,u,d,v,_)=>{try{return R7(s),c.invokeTask(u,d,v,_)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||s.shouldCoalesceRunChangeDetection)&&i(),F7(s)}},onInvoke:(c,l,u,d,v,_,w)=>{try{return R7(s),c.invoke(u,d,v,_,w)}finally{s.shouldCoalesceRunChangeDetection&&i(),F7(s)}},onHasTask:(c,l,u,d)=>{c.hasTask(u,d),l===u&&("microTask"==d.change?(s._hasPendingMicrotasks=d.microTask,$i(s),Xc(s)):"macroTask"==d.change&&(s.hasPendingMacrotasks=d.macroTask))},onHandleError:(c,l,u,d)=>(c.handleError(u,d),s.runOutsideAngular(()=>s.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!on.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(on.isInAngularZone())throw new He(909,!1)}run(i,c,l){return this._inner.run(i,c,l)}runTask(i,c,l,u){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+u,i,mh,Y4,Y4);try{return d.runTask(v,c,l)}finally{d.cancelTask(v)}}runGuarded(i,c,l){return this._inner.runGuarded(i,c,l)}runOutsideAngular(i){return this._outer.run(i)}}const mh={};function Xc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function $i(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function R7(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function F7(s){s._nesting--,Xc(s)}class rs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bn,this.onMicrotaskEmpty=new bn,this.onStable=new bn,this.onError=new bn}run(i,c,l){return i.apply(c,l)}runGuarded(i,c,l){return i.apply(c,l)}runOutsideAngular(i){return i()}runTask(i,c,l,u){return i.apply(c,l)}}const O7=new et(""),B7=new et("");let N1,vh=(()=>{class s{constructor(c,l,u){this._ngZone=c,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,N1||(function j0(s){N1=s}(u),u.addToWindow(l)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{on.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(c)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,l,u){let d=-1;l&&l>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==d),c(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:c,timeoutId:d,updateCb:u})}whenStable(c,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,l,u){return[]}}return s.\u0275fac=function(c){return new(c||s)(vt(on),vt(U7),vt(B7))},s.\u0275prov=U2({token:s,factory:s.\u0275fac}),s})(),U7=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,l){this._applications.set(c,l)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,l=!0){return N1?.findTestabilityInTree(this,c,l)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=U2({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),n4=null;const j7=new et("AllowMultipleToken"),X4=new et("PlatformDestroyListeners");function $7(s,i,c=[]){const l=`Platform: ${i}`,u=new et(l);return(d=[])=>{let v=ea();if(!v||v.injector.get(j7,!1)){const _=[...c,...d,{provide:u,useValue:!0}];s?s(_):function Ch(s){if(n4&&!n4.get(j7,!1))throw new He(400,!1);n4=s;const i=s.get(_h);(function Jc(s){const i=s.get(T7,null);i&&i.forEach(c=>c())})(s)}(function ss(s=[],i){return tn.create({name:i,providers:[{provide:nc,useValue:"platform"},{provide:X4,useValue:new Set([()=>n4=null])},...s]})}(_,l))}return function Zt(s){const i=ea();if(!i)throw new He(401,!1);return i}()}}function ea(){return n4?.get(_h)??null}let _h=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,l){const u=function Ht(s,i){let c;return c="noop"===s?new rs:("zone.js"===s?void 0:s)||new on(i),c}(l?.ngZone,function Ie(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),d=[{provide:on,useValue:u}];return u.run(()=>{const v=tn.create({providers:d,parent:this.injector,name:c.moduleType.name}),_=c.create(v),w=_.injector.get(li,null);if(!w)throw new He(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:E=>{w.handleError(E)}});_.onDestroy(()=>{C2(this._modules,_),b.unsubscribe()})}),function J4(s,i,c){try{const l=c();return P5(l)?l.catch(u=>{throw i.runOutsideAngular(()=>s.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>s.handleError(l)),l}}(w,u,()=>{const b=_.injector.get(qc);return b.runInitializers(),b.donePromise.then(()=>(function xc(s){F2(s,"Expected localeId to be defined"),"string"==typeof s&&(sd=s.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Kc,O4)||O4),this._moduleDoBootstrap(_),_))})})}bootstrapModule(c,l=[]){const u=$0({},l);return function Iy(s,i,c){const l=new y0(c);return Promise.resolve(l)}(0,0,c).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(c){const l=c.injector.get(Qe);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!c.instance.ngDoBootstrap)throw new He(403,!1);c.instance.ngDoBootstrap(l)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const c=this._injector.get(X4,null);c&&(c.forEach(l=>l()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(vt(tn))},s.\u0275prov=U2({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function $0(s,i){return Array.isArray(i)?i.reduce($0,s):{...s,...i}}let Qe=(()=>{class s{constructor(c,l,u){this._zone=c,this._injector=l,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new L.y(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),v=new L.y(_=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{on.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{on.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{w.unsubscribe(),b.unsubscribe()}});this.isStable=(0,ce.T)(d,v.pipe((0,Me.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,l){const u=c instanceof wf;if(!this._injector.get(qc).done)throw!u&&function Fe(s){const i=N(s)||P(s)||ae(s);return null!==i&&i.standalone}(c),new He(405,false);let v;v=u?c:this._injector.get(y6).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const _=function Dy(s){return s.isBoundToModule}(v)?void 0:this._injector.get(X3),b=v.create(tn.NULL,[],l||v.selector,_),E=b.location.nativeElement,D=b.injector.get(O7,null);return D?.registerApplication(E),b.onDestroy(()=>{this.detachView(b.hostView),C2(this.components,b),D?.unregisterApplication(E)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const l=c;this._views.push(l),l.attachToAppRef(this)}detachView(c){const l=c;C2(this._views,l),l.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(wy,[]).concat(this._bootstrapListeners).forEach(u=>u(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>C2(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new He(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(vt(on),vt(R3),vt(li))},s.\u0275prov=U2({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function C2(s,i){const c=s.indexOf(i);c>-1&&s.splice(c,1)}let oe=!0,Ve=!1;function Yt(){return Ve=!0,oe}function wh(){if(Ve)throw new Error("Cannot enable prod mode after platform setup.");oe=!1}let xy=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ay,s})();function Ay(s){return function bh(s,i,c){if(Vs(s)&&!c){const l=W2(s.index,i);return new bi(l,l)}return 47&s.type?new bi(i[16],i):null}(Nt(),Ce(),16==(16&s))}class W7{constructor(){}supports(i){return Zr(i)}create(i){return new q7(i)}}const cn=(s,i)=>i;class q7{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||cn}forEachItem(i){let c;for(c=this._itHead;null!==c;c=c._next)i(c)}forEachOperation(i){let c=this._itHead,l=this._removalsHead,u=0,d=null;for(;c||l;){const v=!l||c&&c.currentIndex<K0(l,u,d)?c:l,_=K0(v,u,d),w=v.currentIndex;if(v===l)u--,l=l._nextRemoved;else if(c=c._next,null==v.previousIndex)u++;else{d||(d=[]);const b=_-u,E=w-u;if(b!=E){for(let O=0;O<b;O++){const Z=O<d.length?d[O]:d[O]=0,ue=Z+O;E<=ue&&ue<b&&(d[O]=Z+1)}d[v.previousIndex]=E-b}}_!==w&&i(v,_,w)}}forEachPreviousItem(i){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachMovedItem(i){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}forEachIdentityChange(i){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)i(c)}diff(i){if(null==i&&(i=[]),!Zr(i))throw new He(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,d,v,c=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let _=0;_<this.length;_++)d=i[_],v=this._trackByFn(_,d),null!==c&&Object.is(c.trackById,v)?(l&&(c=this._verifyReinsertion(c,d,v,_)),Object.is(c.item,d)||this._addIdentityChange(c,d)):(c=this._mismatch(c,d,v,_),l=!0),c=c._next}else u=0,function Gg(s,i){if(Array.isArray(s))for(let c=0;c<s.length;c++)i(s[c]);else{const c=s[W3()]();let l;for(;!(l=c.next()).done;)i(l.value)}}(i,_=>{v=this._trackByFn(u,_),null!==c&&Object.is(c.trackById,v)?(l&&(c=this._verifyReinsertion(c,_,v,u)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,v,u),l=!0),c=c._next,u++}),this.length=u;return this._truncate(c),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,c,l,u){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._reinsertAfter(i,d,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._moveAfter(i,d,u)):i=this._addAfter(new zh(c,l),d,u),i}_verifyReinsertion(i,c,l,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?i=this._reinsertAfter(d,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const c=i._next;this._addToRemovals(this._unlink(i)),i=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,c,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,d=i._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(i,c,l),this._addToMoves(i,l),i}_moveAfter(i,c,l){return this._unlink(i),this._insertAfter(i,c,l),this._addToMoves(i,l),i}_addAfter(i,c,l){return this._insertAfter(i,c,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,c,l){const u=null===c?this._itHead:c._next;return i._next=u,i._prev=c,null===u?this._itTail=i:u._prev=i,null===c?this._itHead=i:c._next=i,null===this._linkedRecords&&(this._linkedRecords=new i4),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const c=i._prev,l=i._next;return null===c?this._itHead=l:c._next=l,null===l?this._itTail=c:l._prev=c,i}_addToMoves(i,c){return i.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new i4),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,c){return i.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class zh{constructor(i,c){this.item=i,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sh{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,c){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===c||c<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const c=i._prevDup,l=i._nextDup;return null===c?this._head=l:c._nextDup=l,null===l?this._tail=c:l._prevDup=c,null===this._head}}class i4{constructor(){this.map=new Map}put(i){const c=i.trackById;let l=this.map.get(c);l||(l=new Sh,this.map.set(c,l)),l.add(i)}get(i,c){const u=this.map.get(i);return u?u.get(i,c):null}remove(i){const c=i.trackById;return this.map.get(c).remove(i)&&this.map.delete(c),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(s,i,c){const l=s.previousIndex;if(null===l)return l;let u=0;return c&&l<c.length&&(u=c[l]),l+i+u}class ne{constructor(){}supports(i){return i instanceof Map||A5(i)}create(){return new Z0}}class Z0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let c;for(c=this._mapHead;null!==c;c=c._next)i(c)}forEachPreviousItem(i){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)i(c)}forEachChangedItem(i){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}diff(i){if(i){if(!(i instanceof Map||A5(i)))throw new He(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(c&&c.key===u)this._maybeAddToChanges(c,l),this._appendAfter=c,c=c._next;else{const d=this._getOrCreateRecordForKey(u,l);c=this._insertBeforeOrAppend(c,d)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let l=c;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,c){if(i){const l=i._prev;return c._next=i,c._prev=l,i._prev=c,l&&(l._next=c),i===this._mapHead&&(this._mapHead=c),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(i,c){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,c);const d=u._prev,v=u._next;return d&&(d._next=v),v&&(v._prev=d),u._next=null,u._prev=null,u}const l=new jn(i);return this._records.set(i,l),l.currentValue=c,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,c){Object.is(c,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=c,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,c){i instanceof Map?i.forEach(c):Object.keys(i).forEach(l=>c(i[l],l))}}class jn{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eh(){return new os([new W7])}let os=(()=>{class s{constructor(c){this.factories=c}static create(c,l){if(null!=l){const u=l.factories.slice();c=c.concat(u)}return new s(c)}static extend(c){return{provide:s,useFactory:l=>s.create(c,l||Eh()),deps:[[s,new Rr,new rr]]}}find(c){const l=this.factories.find(u=>u.supports(c));if(null!=l)return l;throw new He(901,!1)}}return s.\u0275prov=U2({token:s,providedIn:"root",factory:Eh}),s})();function Ih(){return new o4([new ne])}let o4=(()=>{class s{constructor(c){this.factories=c}static create(c,l){if(l){const u=l.factories.slice();c=c.concat(u)}return new s(c)}static extend(c){return{provide:s,useFactory:l=>s.create(c,l||Ih()),deps:[[s,new Rr,new rr]]}}find(c){const l=this.factories.find(u=>u.supports(c));if(l)return l;throw new He(901,!1)}}return s.\u0275prov=U2({token:s,providedIn:"root",factory:Ih}),s})();const $1=$7(null,"core",[]);let Lh=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(vt(Qe))},s.\u0275mod=p2({type:s}),s.\u0275inj=D2({}),s})();function as(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(g2,Ae,x)=>{x.d(Ae,{Z:()=>He});var g=x(2090),R=x(4859),L=x(9681),ce=x(1877);class Me{constructor(re,fe){this._delegate=re,this.firebase=fe,(0,L._addComponent)(re,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(re,fe=L._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(re);return!$e.isInitialized()&&"EXPLICIT"===(null===(Ge=$e.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:fe})}_removeServiceInstance(re,fe=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(fe)}_addComponent(re){(0,L._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,L._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ze=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function Te(){const Re=function ve(Re){const re={},fe={__esModule:!0,initializeApp:function Ee(ee,se={}){const le=L.initializeApp(ee,se);if((0,g.r3)(re,le.name))return re[le.name];const W=new Re(le,fe);return re[le.name]=W,W},app:$e,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function de(ee){const se=ee.name,le=se.replace("-compat","");if(L._registerComponent(ee)&&"PUBLIC"===ee.type){const W=(K=$e())=>{if("function"!=typeof K[le])throw ze.create("invalid-app-argument",{appName:se});return K[le]()};void 0!==ee.serviceProps&&(0,g.ZB)(W,ee.serviceProps),fe[le]=W,Re.prototype[le]=function(...K){return this._getService.bind(this,se).apply(this,ee.multipleInstances?K:[])}}return"PUBLIC"===ee.type?fe[le]:null},removeApp:function Ge(ee){delete re[ee]},useAsService:function Be(ee,se){return"serverAuth"===se?null:se},modularAPIs:L}};function $e(ee){if(!(0,g.r3)(re,ee=ee||L._DEFAULT_ENTRY_NAME))throw ze.create("no-app",{appName:ee});return re[ee]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function me(){return Object.keys(re).map(ee=>re[ee])}}),$e.App=Re,fe}(Me);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function re(fe){(0,g.ZB)(Re,fe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Re}(),B=new ce.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=G;!function Se(Re){(0,L.registerVersion)("@firebase/app-compat","0.1.33",Re)}()},9681:(g2,Ae,x)=>{x.r(Ae),x.d(Ae,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>dn,_DEFAULT_ENTRY_NAME:()=>F2,_addComponent:()=>Q2,_addOrOverwriteComponent:()=>U2,_apps:()=>Y2,_clearComponents:()=>c3,_components:()=>Ut,_getProvider:()=>D2,_registerComponent:()=>x2,_removeServiceInstance:()=>e1,deleteApp:()=>qn,getApp:()=>t1,getApps:()=>Wn,initializeApp:()=>V1,onLog:()=>Et,registerVersion:()=>n1,setLogLevel:()=>X2});var g=x(5861),R=x(4859),L=x(1877),ce=x(2090),Me=x(8766);class _e{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function ze(A){return"VERSION"===A.getComponent()?.type}(U)){const he=U.getImmediate();return`${he.library}/${he.version}`}return null}).filter(U=>U).join(" ")}}const ve="@firebase/app",G=new L.Yd("@firebase/app"),F2="[DEFAULT]",ke={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Y2=new Map,Ut=new Map;function Q2(A,F){try{A.container.addComponent(F)}catch(U){G.debug(`Component ${F.name} failed to register with FirebaseApp ${A.name}`,U)}}function U2(A,F){A.container.addOrOverwriteComponent(F)}function x2(A){const F=A.name;if(Ut.has(F))return G.debug(`There were multiple attempts to register component ${F}.`),!1;Ut.set(F,A);for(const U of Y2.values())Q2(U,A);return!0}function D2(A,F){const U=A.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),A.container.getProvider(F)}function e1(A,F,U=F2){D2(A,F).clearInstance(U)}function c3(){Ut.clear()}const ft=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(F,U,he){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=he,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}const dn="9.9.4";function V1(A,F={}){"object"!=typeof F&&(F={name:F});const U=Object.assign({name:F2,automaticDataCollectionEnabled:!1},F),he=U.name;if("string"!=typeof he||!he)throw ft.create("bad-app-name",{appName:String(he)});const Ne=Y2.get(he);if(Ne){if((0,ce.vZ)(A,Ne.options)&&(0,ce.vZ)(U,Ne.config))return Ne;throw ft.create("duplicate-app",{appName:he})}const p2=new R.H0(he);for(const j2 of Ut.values())p2.addComponent(j2);const G2=new Gn(A,U,p2);return Y2.set(he,G2),G2}function t1(A=F2){const F=Y2.get(A);if(!F)throw ft.create("no-app",{appName:A});return F}function Wn(){return Array.from(Y2.values())}function qn(A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,g.Z)(function*(A){const F=A.name;Y2.has(F)&&(Y2.delete(F),yield Promise.all(A.container.getProviders().map(U=>U.delete())),A.isDeleted=!0)})).apply(this,arguments)}function n1(A,F,U){var he;let Ne=null!==(he=ke[A])&&void 0!==he?he:A;U&&(Ne+=`-${U}`);const p2=Ne.match(/\s|\//),G2=F.match(/\s|\//);if(p2||G2){const j2=[`Unable to register library "${Ne}" with version "${F}":`];return p2&&j2.push(`library name "${Ne}" contains illegal characters (whitespace or "/")`),p2&&G2&&j2.push("and"),G2&&j2.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void G.warn(j2.join(" "))}x2(new R.wA(`${Ne}-version`,()=>({library:Ne,version:F}),"VERSION"))}function Et(A,F){if(null!==A&&"function"!=typeof A)throw ft.create("invalid-log-argument");(0,L.Am)(A,F)}function X2(A){(0,L.Ub)(A)}const ot="firebase-heartbeat-store";let dt=null;function J2(){return dt||(dt=(0,Me.X3)("firebase-heartbeat-database",1,{upgrade:(A,F)=>{0===F&&A.createObjectStore(ot)}}).catch(A=>{throw ft.create("idb-open",{originalErrorMessage:A.message})})),dt}function c2(){return(c2=(0,g.Z)(function*(A){var F;try{return(yield J2()).transaction(ot).objectStore(ot).get(r1(A))}catch(U){if(U instanceof ce.ZR)G.warn(U.message);else{const he=ft.create("idb-get",{originalErrorMessage:null===(F=U)||void 0===F?void 0:F.message});G.warn(he.message)}}})).apply(this,arguments)}function z2(A,F){return p1.apply(this,arguments)}function p1(){return(p1=(0,g.Z)(function*(A,F){var U;try{const Ne=(yield J2()).transaction(ot,"readwrite");return yield Ne.objectStore(ot).put(F,r1(A)),Ne.done}catch(he){if(he instanceof ce.ZR)G.warn(he.message);else{const Ne=ft.create("idb-set",{originalErrorMessage:null===(U=he)||void 0===U?void 0:U.message});G.warn(Ne.message)}}})).apply(this,arguments)}function r1(A){return`${A.name}!${A.options.appId}`}class i1{constructor(F){this.container=F,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new k2(U),this._heartbeatsCachePromise=this._storage.read().then(he=>(this._heartbeatsCache=he,he))}triggerHeartbeat(){var F=this;return(0,g.Z)(function*(){const he=F.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ne=b2();if(null===F._heartbeatsCache&&(F._heartbeatsCache=yield F._heartbeatsCachePromise),F._heartbeatsCache.lastSentHeartbeatDate!==Ne&&!F._heartbeatsCache.heartbeats.some(p2=>p2.date===Ne))return F._heartbeatsCache.heartbeats.push({date:Ne,agent:he}),F._heartbeatsCache.heartbeats=F._heartbeatsCache.heartbeats.filter(p2=>{const G2=new Date(p2.date).valueOf();return Date.now()-G2<=2592e6}),F._storage.overwrite(F._heartbeatsCache)})()}getHeartbeatsHeader(){var F=this;return(0,g.Z)(function*(){if(null===F._heartbeatsCache&&(yield F._heartbeatsCachePromise),null===F._heartbeatsCache||0===F._heartbeatsCache.heartbeats.length)return"";const U=b2(),{heartbeatsToSend:he,unsentEntries:Ne}=function W1(A,F=1024){const U=[];let he=A.slice();for(const Ne of A){const p2=U.find(G2=>G2.agent===Ne.agent);if(p2){if(p2.dates.push(Ne.date),$(U)>F){p2.dates.pop();break}}else if(U.push({agent:Ne.agent,dates:[Ne.date]}),$(U)>F){U.pop();break}he=he.slice(1)}return{heartbeatsToSend:U,unsentEntries:he}}(F._heartbeatsCache.heartbeats),p2=(0,ce.L)(JSON.stringify({version:2,heartbeats:he}));return F._heartbeatsCache.lastSentHeartbeatDate=U,Ne.length>0?(F._heartbeatsCache.heartbeats=Ne,yield F._storage.overwrite(F._heartbeatsCache)):(F._heartbeatsCache.heartbeats=[],F._storage.overwrite(F._heartbeatsCache)),p2})()}}function b2(){return(new Date).toISOString().substring(0,10)}class k2{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var F=this;return(0,g.Z)(function*(){return(yield F._canUseIndexedDBPromise)&&(yield function o2(A){return c2.apply(this,arguments)}(F.app))||{heartbeats:[]}})()}overwrite(F){var U=this;return(0,g.Z)(function*(){var he;if(yield U._canUseIndexedDBPromise){const p2=yield U.read();return z2(U.app,{lastSentHeartbeatDate:null!==(he=F.lastSentHeartbeatDate)&&void 0!==he?he:p2.lastSentHeartbeatDate,heartbeats:F.heartbeats})}})()}add(F){var U=this;return(0,g.Z)(function*(){var he;if(yield U._canUseIndexedDBPromise){const p2=yield U.read();return z2(U.app,{lastSentHeartbeatDate:null!==(he=F.lastSentHeartbeatDate)&&void 0!==he?he:p2.lastSentHeartbeatDate,heartbeats:[...p2.heartbeats,...F.heartbeats]})}})()}}function $(A){return(0,ce.L)(JSON.stringify({version:2,heartbeats:A})).length}!function k(A){x2(new R.wA("platform-logger",F=>new _e(F),"PRIVATE")),x2(new R.wA("heartbeat",F=>new i1(F),"PRIVATE")),n1(ve,"0.7.32",A),n1(ve,"0.7.32","esm2017"),n1("fire-js","")}("")},4859:(g2,Ae,x)=>{x.d(Ae,{H0:()=>ve,wA:()=>L});var g=x(5861),R=x(2090);class L{constructor(G,B,X){this.name=G,this.instanceFactory=B,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class Me{constructor(G,B){this.name=G,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const B=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(B)){const X=new R.BH;if(this.instancesDeferred.set(B,X),this.isInitialized(B)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:B});je&&X.resolve(je)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(G){var B;const X=this.normalizeInstanceIdentifier(G?.identifier),je=null!==(B=G?.optional)&&void 0!==B&&B;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Se){if(je)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ze(Te){return"EAGER"===Te.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[B,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(B);try{const Se=this.getOrInitializeService({instanceIdentifier:je});X.resolve(Se)}catch{}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,g.Z)(function*(){const B=Array.from(G.instances.values());yield Promise.all([...B.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...B.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:B={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:B});for(const[Se,He]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Se)&&He.resolve(je);return je}onInit(G,B){var X;const je=this.normalizeInstanceIdentifier(B),Se=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;Se.add(G),this.onInitCallbacks.set(je,Se);const He=this.instances.get(je);return He&&G(He,je),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,B){const X=this.onInitCallbacks.get(B);if(X)for(const je of X)try{je(G,B)}catch{}}getOrInitializeService({instanceIdentifier:G,options:B={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=G,Te===ce?void 0:Te),options:B}),this.instances.set(G,X),this.instancesOptions.set(G,B),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var Te;return X||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const B=this.getProvider(G.name);if(B.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);B.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const B=new Me(G,this);return this.providers.set(G,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(g2,Ae,x)=>{x.d(Ae,{Am:()=>Te,Ub:()=>ve,Yd:()=>ze,in:()=>R});const g=[];var R=(()=>{return(G=R||(R={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",R;var G})();const L={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},ce=R.INFO,Me={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},_e=(G,B,...X)=>{if(B<G.logLevel)return;const je=(new Date).toISOString(),Se=Me[B];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Se](`[${je}]  ${G.name}:`,...X)};class ze{constructor(B){this.name=B,this._logLevel=ce,this._logHandler=_e,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in R))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?L[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...B),this._logHandler(this,R.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...B),this._logHandler(this,R.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,R.INFO,...B),this._logHandler(this,R.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,R.WARN,...B),this._logHandler(this,R.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...B),this._logHandler(this,R.ERROR,...B)}}function ve(G){g.forEach(B=>{B.setLogLevel(G)})}function Te(G,B){for(const X of g){let je=null;B&&B.level&&(je=L[B.level]),X.userLogHandler=null===G?null:(Se,He,...Re)=>{const re=Re.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");He>=(je??Se.logLevel)&&G({level:R[He].toLowerCase(),message:re,args:Re,type:Se.name})}}}},8766:(g2,Ae,x)=>{x.d(Ae,{Lj:()=>Ee,X3:()=>$e});var g=x(5861);let L,ce;const ze=new WeakMap,ve=new WeakMap,Te=new WeakMap,G=new WeakMap,B=new WeakMap;let Se={get(se,le,W){if(se instanceof IDBTransaction){if("done"===le)return ve.get(se);if("objectStoreNames"===le)return se.objectStoreNames||Te.get(se);if("store"===le)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return fe(se[le])},set:(se,le,W)=>(se[le]=W,!0),has:(se,le)=>se instanceof IDBTransaction&&("done"===le||"store"===le)||le in se};function re(se){return"function"==typeof se?function Re(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...le){return se.apply(Ge(this),le),fe(ze.get(this))}:function(...le){return fe(se.apply(Ge(this),le))}:function(le,...W){const K=se.call(Ge(this),le,...W);return Te.set(K,le.sort?le.sort():[le]),fe(K)}}(se):(se instanceof IDBTransaction&&function je(se){if(ve.has(se))return;const le=new Promise((W,K)=>{const ie=()=>{se.removeEventListener("complete",te),se.removeEventListener("error",De),se.removeEventListener("abort",De)},te=()=>{W(),ie()},De=()=>{K(se.error||new DOMException("AbortError","AbortError")),ie()};se.addEventListener("complete",te),se.addEventListener("error",De),se.addEventListener("abort",De)});ve.set(se,le)}(se),((se,le)=>le.some(W=>se instanceof W))(se,function Me(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Se):se)}function fe(se){if(se instanceof IDBRequest)return function X(se){const le=new Promise((W,K)=>{const ie=()=>{se.removeEventListener("success",te),se.removeEventListener("error",De)},te=()=>{W(fe(se.result)),ie()},De=()=>{K(se.error),ie()};se.addEventListener("success",te),se.addEventListener("error",De)});return le.then(W=>{W instanceof IDBCursor&&ze.set(W,se)}).catch(()=>{}),B.set(le,se),le}(se);if(G.has(se))return G.get(se);const le=re(se);return le!==se&&(G.set(se,le),B.set(le,se)),le}const Ge=se=>B.get(se);function $e(se,le,{blocked:W,upgrade:K,blocking:ie,terminated:te}={}){const De=indexedDB.open(se,le),Le=fe(De);return K&&De.addEventListener("upgradeneeded",u2=>{K(fe(De.result),u2.oldVersion,u2.newVersion,fe(De.transaction))}),W&&De.addEventListener("blocked",()=>W()),Le.then(u2=>{te&&u2.addEventListener("close",()=>te()),ie&&u2.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Le}function Ee(se,{blocked:le}={}){const W=indexedDB.deleteDatabase(se);return le&&W.addEventListener("blocked",()=>le()),fe(W).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],Be=new Map;function ee(se,le){if(!(se instanceof IDBDatabase)||le in se||"string"!=typeof le)return;if(Be.get(le))return Be.get(le);const W=le.replace(/FromIndex$/,""),K=le!==W,ie=de.includes(W);if(!(W in(K?IDBIndex:IDBObjectStore).prototype)||!ie&&!me.includes(W))return;const te=function(){var De=(0,g.Z)(function*(Le,...u2){const B2=this.transaction(Le,ie?"readwrite":"readonly");let F2=B2.store;return K&&(F2=F2.index(u2.shift())),(yield Promise.all([F2[W](...u2),ie&&B2.done]))[0]});return function(u2){return De.apply(this,arguments)}}();return Be.set(le,te),te}!function He(se){Se=se(Se)}(se=>({...se,get:(le,W,K)=>ee(le,W)||se.get(le,W,K),has:(le,W)=>!!ee(le,W)||se.has(le,W)}))},5861:(g2,Ae,x)=>{function g(L,ce,Me,_e,ze,ve,Te){try{var G=L[ve](Te),B=G.value}catch(X){return void Me(X)}G.done?ce(B):Promise.resolve(B).then(_e,ze)}function R(L){return function(){var ce=this,Me=arguments;return new Promise(function(_e,ze){var ve=L.apply(ce,Me);function Te(B){g(ve,_e,ze,Te,G,"next",B)}function G(B){g(ve,_e,ze,Te,G,"throw",B)}Te(void 0)})}}x.d(Ae,{Z:()=>R})}},g2=>{g2(g2.s=3185)}]);